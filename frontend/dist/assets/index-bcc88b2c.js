function y1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function w1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var F_={exports:{}},Kl={},$_={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=Symbol.for("react.element"),x1=Symbol.for("react.portal"),b1=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),S1=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),R1=Symbol.for("react.memo"),I1=Symbol.for("react.lazy"),Lp=Symbol.iterator;function P1(t){return t===null||typeof t!="object"?null:(t=Lp&&t[Lp]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,H_={};function di(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||B_}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W_(){}W_.prototype=di.prototype;function Dh(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||B_}var Lh=Dh.prototype=new W_;Lh.constructor=Dh;z_(Lh,di.prototype);Lh.isPureReactComponent=!0;var Mp=Array.isArray,V_=Object.prototype.hasOwnProperty,Mh={current:null},G_={key:!0,ref:!0,__self:!0,__source:!0};function q_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)V_.call(e,r)&&!G_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wo,type:t,key:i,ref:o,props:s,_owner:Mh.current}}function j1(t,e){return{$$typeof:Wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wo}function O1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Up=/\/+/g;function Xc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O1(""+t.key):e.toString(36)}function Ua(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wo:case x1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xc(o,0):r,Mp(s)?(n="",t!=null&&(n=t.replace(Up,"$&/")+"/"),Ua(s,e,n,"",function(c){return c})):s!=null&&(Uh(s)&&(s=j1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Up,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Mp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xc(i,a);o+=Ua(i,e,n,l,s)}else if(l=P1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xc(i,a++),o+=Ua(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function da(t,e,n){if(t==null)return t;var r=[],s=0;return Ua(t,r,"","",function(i){return e.call(n,i,s++)}),r}function A1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},Fa={transition:null},D1={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Fa,ReactCurrentOwner:Mh};G.Children={map:da,forEach:function(t,e,n){da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return da(t,function(){e++}),e},toArray:function(t){return da(t,function(e){return e})||[]},only:function(t){if(!Uh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=di;G.Fragment=b1;G.Profiler=S1;G.PureComponent=Dh;G.StrictMode=E1;G.Suspense=N1;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D1;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Mh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)V_.call(e,l)&&!G_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wo,type:t.type,key:s,ref:i,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:k1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C1,_context:t},t.Consumer=t};G.createElement=q_;G.createFactory=function(t){var e=q_.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:T1,render:t}};G.isValidElement=Uh;G.lazy=function(t){return{$$typeof:I1,_payload:{_status:-1,_result:t},_init:A1}};G.memo=function(t,e){return{$$typeof:R1,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Fa.transition;Fa.transition={};try{t()}finally{Fa.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return et.current.useCallback(t,e)};G.useContext=function(t){return et.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return et.current.useDeferredValue(t)};G.useEffect=function(t,e){return et.current.useEffect(t,e)};G.useId=function(){return et.current.useId()};G.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return et.current.useMemo(t,e)};G.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};G.useRef=function(t){return et.current.useRef(t)};G.useState=function(t){return et.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return et.current.useTransition()};G.version="18.2.0";$_.exports=G;var w=$_.exports;const tr=v1(w),L1=y1({__proto__:null,default:tr},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=w,U1=Symbol.for("react.element"),F1=Symbol.for("react.fragment"),$1=Object.prototype.hasOwnProperty,B1=M1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z1={key:!0,ref:!0,__self:!0,__source:!0};function K_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$1.call(e,r)&&!z1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:U1,type:t,key:i,ref:o,props:s,_owner:B1.current}}Kl.Fragment=F1;Kl.jsx=K_;Kl.jsxs=K_;F_.exports=Kl;var u=F_.exports,Qu={},Q_={exports:{}},xt={},J_={exports:{}},Y_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var M=j.length;j.push(U);e:for(;0<M;){var S=M-1>>>1,N=j[S];if(0<s(N,U))j[S]=U,j[M]=N,M=S;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],M=j.pop();if(M!==U){j[0]=M;e:for(var S=0,N=j.length,Q=N>>>1;S<Q;){var J=2*(S+1)-1,Y=j[J],xe=J+1,vs=j[xe];if(0>s(Y,M))xe<N&&0>s(vs,Y)?(j[S]=vs,j[xe]=M,S=xe):(j[S]=Y,j[J]=M,S=J);else if(xe<N&&0>s(vs,M))j[S]=vs,j[xe]=M,S=xe;else break e}}return U}function s(j,U){var M=j.sortIndex-U.sortIndex;return M!==0?M:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function b(j){if(y=!1,v(j),!p)if(n(l)!==null)p=!0,gn(C);else{var U=n(c);U!==null&&Or(b,U.startTime-j)}}function C(j,U){p=!1,y&&(y=!1,_(P),P=-1),m=!0;var M=f;try{for(v(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!ke());){var S=h.callback;if(typeof S=="function"){h.callback=null,f=h.priorityLevel;var N=S(h.expirationTime<=U);U=t.unstable_now(),typeof N=="function"?h.callback=N:h===n(l)&&r(l),v(U)}else r(l);h=n(l)}if(h!==null)var Q=!0;else{var J=n(c);J!==null&&Or(b,J.startTime-U),Q=!1}return Q}finally{h=null,f=M,m=!1}}var R=!1,I=null,P=-1,W=5,A=-1;function ke(){return!(t.unstable_now()-A<W)}function Et(){if(I!==null){var j=t.unstable_now();A=j;var U=!0;try{U=I(!0,j)}finally{U?St():(R=!1,I=null)}}else R=!1}var St;if(typeof g=="function")St=function(){g(Et)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,V=Xt.port2;Xt.port1.onmessage=Et,St=function(){V.postMessage(null)}}else St=function(){x(Et,0)};function gn(j){I=j,R||(R=!0,St())}function Or(j,U){P=x(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,gn(C))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var M=f;f=U;try{return j()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=f;f=j;try{return U()}finally{f=M}},t.unstable_scheduleCallback=function(j,U,M){var S=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?S+M:S):M=S,j){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=M+N,j={id:d++,callback:U,priorityLevel:j,startTime:M,expirationTime:N,sortIndex:-1},M>S?(j.sortIndex=M,e(c,j),n(l)===null&&j===n(c)&&(y?(_(P),P=-1):y=!0,Or(b,M-S))):(j.sortIndex=N,e(l,j),p||m||(p=!0,gn(C))),j},t.unstable_shouldYield=ke,t.unstable_wrapCallback=function(j){var U=f;return function(){var M=f;f=U;try{return j.apply(this,arguments)}finally{f=M}}}})(Y_);J_.exports=Y_;var H1=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_=w,yt=H1;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z_=new Set,co={};function ls(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(co[t]=e,t=0;t<e.length;t++)Z_.add(e[t])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=Object.prototype.hasOwnProperty,W1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},$p={};function V1(t){return Ju.call($p,t)?!0:Ju.call(Fp,t)?!1:W1.test(t)?$p[t]=!0:(Fp[t]=!0,!1)}function G1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q1(t,e,n,r){if(e===null||typeof e>"u"||G1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fh=/[\-:]([a-z])/g;function $h(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fh,$h);Be[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fh,$h);Be[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fh,$h);Be[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bh(t,e,n,r){var s=Be.hasOwnProperty(e)?Be[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q1(e,n,s,r)&&(n=null),r||s===null?V1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ln=X_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ha=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Yu=Symbol.for("react.profiler"),ey=Symbol.for("react.provider"),ty=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),ny=Symbol.for("react.offscreen"),Bp=Symbol.iterator;function ki(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Zc;function zi(t){if(Zc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zc=e&&e[1]||""}return`
`+Zc+t}var eu=!1;function tu(t,e){if(!t||eu)return"";eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{eu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zi(t):""}function K1(t){switch(t.tag){case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return t=tu(t.type,!1),t;case 11:return t=tu(t.type.render,!1),t;case 1:return t=tu(t.type,!0),t;default:return""}}function ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Ts:return"Portal";case Yu:return"Profiler";case zh:return"StrictMode";case Xu:return"Suspense";case Zu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ty:return(t.displayName||"Context")+".Consumer";case ey:return(t._context.displayName||"Context")+".Provider";case Hh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wh:return e=t.displayName||null,e!==null?e:ed(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return ed(t(e))}catch{}}return null}function Q1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ed(e);case 8:return e===zh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ry(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J1(t){var e=ry(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fa(t){t._valueTracker||(t._valueTracker=J1(t))}function sy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ry(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function td(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iy(t,e){e=e.checked,e!=null&&Bh(t,"checked",e,!1)}function nd(t,e){iy(t,e);var n=gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rd(t,e.type,n):e.hasOwnProperty("defaultValue")&&rd(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rd(t,e,n){(e!=="number"||nl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hi=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Hi(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function oy(t,e){var n=gr(e.value),r=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ay(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ay(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pa,ly=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y1=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(t){Y1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qi[e]=qi[t]})});function cy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qi.hasOwnProperty(t)&&qi[t]?(""+e).trim():e+"px"}function uy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var X1=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(t,e){if(e){if(X1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function ad(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=null;function Vh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cd=null,$s=null,Bs=null;function Gp(t){if(t=qo(t)){if(typeof cd!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Zl(e),cd(t.stateNode,t.type,e))}}function dy(t){$s?Bs?Bs.push(t):Bs=[t]:$s=t}function hy(){if($s){var t=$s,e=Bs;if(Bs=$s=null,Gp(t),e)for(t=0;t<e.length;t++)Gp(e[t])}}function fy(t,e){return t(e)}function py(){}var nu=!1;function my(t,e,n){if(nu)return t(e,n);nu=!0;try{return fy(t,e,n)}finally{nu=!1,($s!==null||Bs!==null)&&(py(),hy())}}function ho(t,e){var n=t.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var ud=!1;if(In)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){ud=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{ud=!1}function Z1(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ki=!1,rl=null,sl=!1,dd=null,eb={onError:function(t){Ki=!0,rl=t}};function tb(t,e,n,r,s,i,o,a,l){Ki=!1,rl=null,Z1.apply(eb,arguments)}function nb(t,e,n,r,s,i,o,a,l){if(tb.apply(this,arguments),Ki){if(Ki){var c=rl;Ki=!1,rl=null}else throw Error(k(198));sl||(sl=!0,dd=c)}}function cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qp(t){if(cs(t)!==t)throw Error(k(188))}function rb(t){var e=t.alternate;if(!e){if(e=cs(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qp(s),t;if(i===r)return qp(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function _y(t){return t=rb(t),t!==null?yy(t):null}function yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yy(t);if(e!==null)return e;t=t.sibling}return null}var vy=yt.unstable_scheduleCallback,Kp=yt.unstable_cancelCallback,sb=yt.unstable_shouldYield,ib=yt.unstable_requestPaint,ve=yt.unstable_now,ob=yt.unstable_getCurrentPriorityLevel,Gh=yt.unstable_ImmediatePriority,wy=yt.unstable_UserBlockingPriority,il=yt.unstable_NormalPriority,ab=yt.unstable_LowPriority,xy=yt.unstable_IdlePriority,Ql=null,an=null;function lb(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ql,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:db,cb=Math.log,ub=Math.LN2;function db(t){return t>>>=0,t===0?32:31-(cb(t)/ub|0)|0}var ma=64,ga=4194304;function Wi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ol(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Wi(a):(i&=o,i!==0&&(r=Wi(i)))}else o=n&~s,o!==0?r=Wi(o):i!==0&&(r=Wi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gt(e),s=1<<n,r|=t[n],e&=~s;return r}function hb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Gt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=hb(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function hd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function by(){var t=ma;return ma<<=1,!(ma&4194240)&&(ma=64),t}function ru(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gt(e),t[e]=n}function pb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function qh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var te=0;function Ey(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sy,Kh,Cy,ky,Ty,fd=!1,_a=[],nr=null,rr=null,sr=null,fo=new Map,po=new Map,Gn=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qp(t,e){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(e.pointerId)}}function Ni(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qo(e),e!==null&&Kh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gb(t,e,n,r,s){switch(e){case"focusin":return nr=Ni(nr,t,e,n,r,s),!0;case"dragenter":return rr=Ni(rr,t,e,n,r,s),!0;case"mouseover":return sr=Ni(sr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return fo.set(i,Ni(fo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,po.set(i,Ni(po.get(i)||null,t,e,n,r,s)),!0}return!1}function Ny(t){var e=Br(t.target);if(e!==null){var n=cs(e);if(n!==null){if(e=n.tag,e===13){if(e=gy(n),e!==null){t.blockedOn=e,Ty(t.priority,function(){Cy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ld=r,n.target.dispatchEvent(r),ld=null}else return e=qo(n),e!==null&&Kh(e),t.blockedOn=n,!1;e.shift()}return!0}function Jp(t,e,n){$a(t)&&n.delete(e)}function _b(){fd=!1,nr!==null&&$a(nr)&&(nr=null),rr!==null&&$a(rr)&&(rr=null),sr!==null&&$a(sr)&&(sr=null),fo.forEach(Jp),po.forEach(Jp)}function Ri(t,e){t.blockedOn===e&&(t.blockedOn=null,fd||(fd=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,_b)))}function mo(t){function e(s){return Ri(s,t)}if(0<_a.length){Ri(_a[0],t);for(var n=1;n<_a.length;n++){var r=_a[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nr!==null&&Ri(nr,t),rr!==null&&Ri(rr,t),sr!==null&&Ri(sr,t),fo.forEach(e),po.forEach(e),n=0;n<Gn.length;n++)r=Gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)Ny(n),n.blockedOn===null&&Gn.shift()}var zs=Ln.ReactCurrentBatchConfig,al=!0;function yb(t,e,n,r){var s=te,i=zs.transition;zs.transition=null;try{te=1,Qh(t,e,n,r)}finally{te=s,zs.transition=i}}function vb(t,e,n,r){var s=te,i=zs.transition;zs.transition=null;try{te=4,Qh(t,e,n,r)}finally{te=s,zs.transition=i}}function Qh(t,e,n,r){if(al){var s=pd(t,e,n,r);if(s===null)fu(t,e,r,ll,n),Qp(t,r);else if(gb(s,t,e,n,r))r.stopPropagation();else if(Qp(t,r),e&4&&-1<mb.indexOf(t)){for(;s!==null;){var i=qo(s);if(i!==null&&Sy(i),i=pd(t,e,n,r),i===null&&fu(t,e,r,ll,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fu(t,e,r,null,n)}}var ll=null;function pd(t,e,n,r){if(ll=null,t=Vh(r),t=Br(t),t!==null)if(e=cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ll=t,null}function Ry(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ob()){case Gh:return 1;case wy:return 4;case il:case ab:return 16;case xy:return 536870912;default:return 16}default:return 16}}var Jn=null,Jh=null,Ba=null;function Iy(){if(Ba)return Ba;var t,e=Jh,n=e.length,r,s="value"in Jn?Jn.value:Jn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ba=s.slice(t,1<r?1-r:void 0)}function za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ya(){return!0}function Yp(){return!1}function bt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ya:Yp,this.isPropagationStopped=Yp,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),e}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yh=bt(hi),Go=ge({},hi,{view:0,detail:0}),wb=bt(Go),su,iu,Ii,Jl=ge({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(su=t.screenX-Ii.screenX,iu=t.screenY-Ii.screenY):iu=su=0,Ii=t),su)},movementY:function(t){return"movementY"in t?t.movementY:iu}}),Xp=bt(Jl),xb=ge({},Jl,{dataTransfer:0}),bb=bt(xb),Eb=ge({},Go,{relatedTarget:0}),ou=bt(Eb),Sb=ge({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cb=bt(Sb),kb=ge({},hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tb=bt(kb),Nb=ge({},hi,{data:0}),Zp=bt(Nb),Rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ib={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pb[t])?!!e[t]:!1}function Xh(){return jb}var Ob=ge({},Go,{key:function(t){if(t.key){var e=Rb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ib[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ab=bt(Ob),Db=ge({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=bt(Db),Lb=ge({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),Mb=bt(Lb),Ub=ge({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fb=bt(Ub),$b=ge({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bb=bt($b),zb=[9,13,27,32],Zh=In&&"CompositionEvent"in window,Qi=null;In&&"documentMode"in document&&(Qi=document.documentMode);var Hb=In&&"TextEvent"in window&&!Qi,Py=In&&(!Zh||Qi&&8<Qi&&11>=Qi),tm=String.fromCharCode(32),nm=!1;function jy(t,e){switch(t){case"keyup":return zb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function Wb(t,e){switch(t){case"compositionend":return Oy(e);case"keypress":return e.which!==32?null:(nm=!0,tm);case"textInput":return t=e.data,t===tm&&nm?null:t;default:return null}}function Vb(t,e){if(Rs)return t==="compositionend"||!Zh&&jy(t,e)?(t=Iy(),Ba=Jh=Jn=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Py&&e.locale!=="ko"?null:e.data;default:return null}}var Gb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gb[t.type]:e==="textarea"}function Ay(t,e,n,r){dy(r),e=cl(e,"onChange"),0<e.length&&(n=new Yh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ji=null,go=null;function qb(t){Vy(t,0)}function Yl(t){var e=js(t);if(sy(e))return t}function Kb(t,e){if(t==="change")return e}var Dy=!1;if(In){var au;if(In){var lu="oninput"in document;if(!lu){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),lu=typeof sm.oninput=="function"}au=lu}else au=!1;Dy=au&&(!document.documentMode||9<document.documentMode)}function im(){Ji&&(Ji.detachEvent("onpropertychange",Ly),go=Ji=null)}function Ly(t){if(t.propertyName==="value"&&Yl(go)){var e=[];Ay(e,go,t,Vh(t)),my(qb,e)}}function Qb(t,e,n){t==="focusin"?(im(),Ji=e,go=n,Ji.attachEvent("onpropertychange",Ly)):t==="focusout"&&im()}function Jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yl(go)}function Yb(t,e){if(t==="click")return Yl(e)}function Xb(t,e){if(t==="input"||t==="change")return Yl(e)}function Zb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qt=typeof Object.is=="function"?Object.is:Zb;function _o(t,e){if(Qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ju.call(e,s)||!Qt(t[s],e[s]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function am(t,e){var n=om(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=om(n)}}function My(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?My(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uy(){for(var t=window,e=nl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nl(t.document)}return e}function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eE(t){var e=Uy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&My(n.ownerDocument.documentElement,n)){if(r!==null&&ef(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=am(n,i);var o=am(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tE=In&&"documentMode"in document&&11>=document.documentMode,Is=null,md=null,Yi=null,gd=!1;function lm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gd||Is==null||Is!==nl(r)||(r=Is,"selectionStart"in r&&ef(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yi&&_o(Yi,r)||(Yi=r,r=cl(md,"onSelect"),0<r.length&&(e=new Yh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function va(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ps={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},cu={},Fy={};In&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Xl(t){if(cu[t])return cu[t];if(!Ps[t])return t;var e=Ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fy)return cu[t]=e[n];return t}var $y=Xl("animationend"),By=Xl("animationiteration"),zy=Xl("animationstart"),Hy=Xl("transitionend"),Wy=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,e){Wy.set(t,e),ls(e,[t])}for(var uu=0;uu<cm.length;uu++){var du=cm[uu],nE=du.toLowerCase(),rE=du[0].toUpperCase()+du.slice(1);Cr(nE,"on"+rE)}Cr($y,"onAnimationEnd");Cr(By,"onAnimationIteration");Cr(zy,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(Hy,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function um(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nb(r,e,void 0,t),t.currentTarget=null}function Vy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;um(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;um(s,a,c),i=l}}}if(sl)throw t=dd,sl=!1,dd=null,t}function le(t,e){var n=e[xd];n===void 0&&(n=e[xd]=new Set);var r=t+"__bubble";n.has(r)||(Gy(e,t,2,!1),n.add(r))}function hu(t,e,n){var r=0;e&&(r|=4),Gy(n,t,r,e)}var wa="_reactListening"+Math.random().toString(36).slice(2);function yo(t){if(!t[wa]){t[wa]=!0,Z_.forEach(function(n){n!=="selectionchange"&&(sE.has(n)||hu(n,!1,t),hu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wa]||(e[wa]=!0,hu("selectionchange",!1,e))}}function Gy(t,e,n,r){switch(Ry(e)){case 1:var s=yb;break;case 4:s=vb;break;default:s=Qh}n=s.bind(null,e,n,t),s=void 0,!ud||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Br(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}my(function(){var c=i,d=Vh(n),h=[];e:{var f=Wy.get(t);if(f!==void 0){var m=Yh,p=t;switch(t){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":m=Ab;break;case"focusin":p="focus",m=ou;break;case"focusout":p="blur",m=ou;break;case"beforeblur":case"afterblur":m=ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mb;break;case $y:case By:case zy:m=Cb;break;case Hy:m=Fb;break;case"scroll":m=wb;break;case"wheel":m=Bb;break;case"copy":case"cut":case"paste":m=Tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=em}var y=(e&4)!==0,x=!y&&t==="scroll",_=y?f!==null?f+"Capture":null:f;y=[];for(var g=c,v;g!==null;){v=g;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,_!==null&&(b=ho(g,_),b!=null&&y.push(vo(g,b,v)))),x)break;g=g.return}0<y.length&&(f=new m(f,p,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==ld&&(p=n.relatedTarget||n.fromElement)&&(Br(p)||p[Pn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Br(p):null,p!==null&&(x=cs(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(y=Xp,b="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=em,b="onPointerLeave",_="onPointerEnter",g="pointer"),x=m==null?f:js(m),v=p==null?f:js(p),f=new y(b,g+"leave",m,n,d),f.target=x,f.relatedTarget=v,b=null,Br(d)===c&&(y=new y(_,g+"enter",p,n,d),y.target=v,y.relatedTarget=x,b=y),x=b,m&&p)t:{for(y=m,_=p,g=0,v=y;v;v=ws(v))g++;for(v=0,b=_;b;b=ws(b))v++;for(;0<g-v;)y=ws(y),g--;for(;0<v-g;)_=ws(_),v--;for(;g--;){if(y===_||_!==null&&y===_.alternate)break t;y=ws(y),_=ws(_)}y=null}else y=null;m!==null&&dm(h,f,m,y,!1),p!==null&&x!==null&&dm(h,x,p,y,!0)}}e:{if(f=c?js(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=Kb;else if(rm(f))if(Dy)C=Xb;else{C=Jb;var R=Qb}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Yb);if(C&&(C=C(t,c))){Ay(h,C,n,d);break e}R&&R(t,f,c),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&rd(f,"number",f.value)}switch(R=c?js(c):window,t){case"focusin":(rm(R)||R.contentEditable==="true")&&(Is=R,md=c,Yi=null);break;case"focusout":Yi=md=Is=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,lm(h,n,d);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":lm(h,n,d)}var I;if(Zh)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Rs?jy(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Py&&n.locale!=="ko"&&(Rs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Rs&&(I=Iy()):(Jn=d,Jh="value"in Jn?Jn.value:Jn.textContent,Rs=!0)),R=cl(c,P),0<R.length&&(P=new Zp(P,t,null,n,d),h.push({event:P,listeners:R}),I?P.data=I:(I=Oy(n),I!==null&&(P.data=I)))),(I=Hb?Wb(t,n):Vb(t,n))&&(c=cl(c,"onBeforeInput"),0<c.length&&(d=new Zp("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}Vy(h,e)})}function vo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ho(t,n),i!=null&&r.unshift(vo(t,i,s)),i=ho(t,e),i!=null&&r.push(vo(t,i,s))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dm(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ho(n,i),l!=null&&o.unshift(vo(n,l,a))):s||(l=ho(n,i),l!=null&&o.push(vo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iE=/\r\n?/g,oE=/\u0000|\uFFFD/g;function hm(t){return(typeof t=="string"?t:""+t).replace(iE,`
`).replace(oE,"")}function xa(t,e,n){if(e=hm(e),hm(t)!==e&&n)throw Error(k(425))}function ul(){}var _d=null,yd=null;function vd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,lE=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(t){return fm.resolve(null).then(t).catch(cE)}:wd;function cE(t){setTimeout(function(){throw t})}function pu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),mo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);mo(e)}function ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fi=Math.random().toString(36).slice(2),rn="__reactFiber$"+fi,wo="__reactProps$"+fi,Pn="__reactContainer$"+fi,xd="__reactEvents$"+fi,uE="__reactListeners$"+fi,dE="__reactHandles$"+fi;function Br(t){var e=t[rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pm(t);t!==null;){if(n=t[rn])return n;t=pm(t)}return e}t=n,n=t.parentNode}return null}function qo(t){return t=t[rn]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Zl(t){return t[wo]||null}var bd=[],Os=-1;function kr(t){return{current:t}}function ce(t){0>Os||(t.current=bd[Os],bd[Os]=null,Os--)}function oe(t,e){Os++,bd[Os]=t.current,t.current=e}var _r={},Ke=kr(_r),lt=kr(!1),Jr=_r;function Ys(t,e){var n=t.type.contextTypes;if(!n)return _r;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ct(t){return t=t.childContextTypes,t!=null}function dl(){ce(lt),ce(Ke)}function mm(t,e,n){if(Ke.current!==_r)throw Error(k(168));oe(Ke,e),oe(lt,n)}function qy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,Q1(t)||"Unknown",s));return ge({},n,r)}function hl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,Jr=Ke.current,oe(Ke,t),oe(lt,lt.current),!0}function gm(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=qy(t,e,Jr),r.__reactInternalMemoizedMergedChildContext=t,ce(lt),ce(Ke),oe(Ke,t)):ce(lt),oe(lt,n)}var wn=null,ec=!1,mu=!1;function Ky(t){wn===null?wn=[t]:wn.push(t)}function hE(t){ec=!0,Ky(t)}function Tr(){if(!mu&&wn!==null){mu=!0;var t=0,e=te;try{var n=wn;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wn=null,ec=!1}catch(s){throw wn!==null&&(wn=wn.slice(t+1)),vy(Gh,Tr),s}finally{te=e,mu=!1}}return null}var As=[],Ds=0,fl=null,pl=0,Ct=[],kt=0,Yr=null,bn=1,En="";function Dr(t,e){As[Ds++]=pl,As[Ds++]=fl,fl=t,pl=e}function Qy(t,e,n){Ct[kt++]=bn,Ct[kt++]=En,Ct[kt++]=Yr,Yr=t;var r=bn;t=En;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var i=32-Gt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bn=1<<32-Gt(e)+s|n<<s|r,En=i+t}else bn=1<<i|n<<s|r,En=t}function tf(t){t.return!==null&&(Dr(t,1),Qy(t,1,0))}function nf(t){for(;t===fl;)fl=As[--Ds],As[Ds]=null,pl=As[--Ds],As[Ds]=null;for(;t===Yr;)Yr=Ct[--kt],Ct[kt]=null,En=Ct[--kt],Ct[kt]=null,bn=Ct[--kt],Ct[kt]=null}var _t=null,mt=null,de=!1,Wt=null;function Jy(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _m(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,mt=ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:bn,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,mt=null,!0):!1;default:return!1}}function Ed(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sd(t){if(de){var e=mt;if(e){var n=e;if(!_m(t,e)){if(Ed(t))throw Error(k(418));e=ir(n.nextSibling);var r=_t;e&&_m(t,e)?Jy(r,n):(t.flags=t.flags&-4097|2,de=!1,_t=t)}}else{if(Ed(t))throw Error(k(418));t.flags=t.flags&-4097|2,de=!1,_t=t}}}function ym(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function ba(t){if(t!==_t)return!1;if(!de)return ym(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vd(t.type,t.memoizedProps)),e&&(e=mt)){if(Ed(t))throw Yy(),Error(k(418));for(;e;)Jy(t,e),e=ir(e.nextSibling)}if(ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mt=ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=_t?ir(t.stateNode.nextSibling):null;return!0}function Yy(){for(var t=mt;t;)t=ir(t.nextSibling)}function Xs(){mt=_t=null,de=!1}function rf(t){Wt===null?Wt=[t]:Wt.push(t)}var fE=Ln.ReactCurrentBatchConfig;function Bt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ml=kr(null),gl=null,Ls=null,sf=null;function of(){sf=Ls=gl=null}function af(t){var e=ml.current;ce(ml),t._currentValue=e}function Cd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){gl=t,sf=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(sf!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(gl===null)throw Error(k(308));Ls=t,gl.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var zr=null;function lf(t){zr===null?zr=[t]:zr.push(t)}function Xy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lf(e)):(n.next=s.next,s.next=n),e.interleaved=n,jn(t,r)}function jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jn(t,n)}return s=r.interleaved,s===null?(e.next=e,lf(r)):(e.next=s.next,s.next=e),r.interleaved=e,jn(t,n)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qh(t,n)}}function vm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _l(t,e,n,r){var s=t.updateQueue;Wn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(f=e,m=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=ge({},h,f);break e;case 2:Wn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=h}}function wm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var e0=new X_.Component().refs;function kd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tc={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),s=lr(t),i=Cn(r,s);i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(qt(e,t,s,r),Ha(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),s=lr(t),i=Cn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(qt(e,t,s,r),Ha(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=lr(t),s=Cn(n,r);s.tag=2,e!=null&&(s.callback=e),e=or(t,s,r),e!==null&&(qt(e,t,r,n),Ha(e,t,r))}};function xm(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_o(n,r)||!_o(s,i):!0}function t0(t,e,n){var r=!1,s=_r,i=e.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(s=ct(e)?Jr:Ke.current,r=e.contextTypes,i=(r=r!=null)?Ys(t,s):_r),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function bm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tc.enqueueReplaceState(e,e.state,null)}function Td(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=e0,cf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Dt(i):(i=ct(e)?Jr:Ke.current,s.context=Ys(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(kd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&tc.enqueueReplaceState(s,s.state,null),_l(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===e0&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function Ea(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Em(t){var e=t._init;return e(t._payload)}function n0(t){function e(_,g){if(t){var v=_.deletions;v===null?(_.deletions=[g],_.flags|=16):v.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function s(_,g){return _=cr(_,g),_.index=0,_.sibling=null,_}function i(_,g,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<g?(_.flags|=2,g):v):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,v,b){return g===null||g.tag!==6?(g=bu(v,_.mode,b),g.return=_,g):(g=s(g,v),g.return=_,g)}function l(_,g,v,b){var C=v.type;return C===Ns?d(_,g,v.props.children,b,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Hn&&Em(C)===g.type)?(b=s(g,v.props),b.ref=Pi(_,g,v),b.return=_,b):(b=Qa(v.type,v.key,v.props,null,_.mode,b),b.ref=Pi(_,g,v),b.return=_,b)}function c(_,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Eu(v,_.mode,b),g.return=_,g):(g=s(g,v.children||[]),g.return=_,g)}function d(_,g,v,b,C){return g===null||g.tag!==7?(g=qr(v,_.mode,b,C),g.return=_,g):(g=s(g,v),g.return=_,g)}function h(_,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bu(""+g,_.mode,v),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ha:return v=Qa(g.type,g.key,g.props,null,_.mode,v),v.ref=Pi(_,null,g),v.return=_,v;case Ts:return g=Eu(g,_.mode,v),g.return=_,g;case Hn:var b=g._init;return h(_,b(g._payload),v)}if(Hi(g)||ki(g))return g=qr(g,_.mode,v,null),g.return=_,g;Ea(_,g)}return null}function f(_,g,v,b){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(_,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ha:return v.key===C?l(_,g,v,b):null;case Ts:return v.key===C?c(_,g,v,b):null;case Hn:return C=v._init,f(_,g,C(v._payload),b)}if(Hi(v)||ki(v))return C!==null?null:d(_,g,v,b,null);Ea(_,v)}return null}function m(_,g,v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(v)||null,a(g,_,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ha:return _=_.get(b.key===null?v:b.key)||null,l(g,_,b,C);case Ts:return _=_.get(b.key===null?v:b.key)||null,c(g,_,b,C);case Hn:var R=b._init;return m(_,g,v,R(b._payload),C)}if(Hi(b)||ki(b))return _=_.get(v)||null,d(g,_,b,C,null);Ea(g,b)}return null}function p(_,g,v,b){for(var C=null,R=null,I=g,P=g=0,W=null;I!==null&&P<v.length;P++){I.index>P?(W=I,I=null):W=I.sibling;var A=f(_,I,v[P],b);if(A===null){I===null&&(I=W);break}t&&I&&A.alternate===null&&e(_,I),g=i(A,g,P),R===null?C=A:R.sibling=A,R=A,I=W}if(P===v.length)return n(_,I),de&&Dr(_,P),C;if(I===null){for(;P<v.length;P++)I=h(_,v[P],b),I!==null&&(g=i(I,g,P),R===null?C=I:R.sibling=I,R=I);return de&&Dr(_,P),C}for(I=r(_,I);P<v.length;P++)W=m(I,_,P,v[P],b),W!==null&&(t&&W.alternate!==null&&I.delete(W.key===null?P:W.key),g=i(W,g,P),R===null?C=W:R.sibling=W,R=W);return t&&I.forEach(function(ke){return e(_,ke)}),de&&Dr(_,P),C}function y(_,g,v,b){var C=ki(v);if(typeof C!="function")throw Error(k(150));if(v=C.call(v),v==null)throw Error(k(151));for(var R=C=null,I=g,P=g=0,W=null,A=v.next();I!==null&&!A.done;P++,A=v.next()){I.index>P?(W=I,I=null):W=I.sibling;var ke=f(_,I,A.value,b);if(ke===null){I===null&&(I=W);break}t&&I&&ke.alternate===null&&e(_,I),g=i(ke,g,P),R===null?C=ke:R.sibling=ke,R=ke,I=W}if(A.done)return n(_,I),de&&Dr(_,P),C;if(I===null){for(;!A.done;P++,A=v.next())A=h(_,A.value,b),A!==null&&(g=i(A,g,P),R===null?C=A:R.sibling=A,R=A);return de&&Dr(_,P),C}for(I=r(_,I);!A.done;P++,A=v.next())A=m(I,_,P,A.value,b),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?P:A.key),g=i(A,g,P),R===null?C=A:R.sibling=A,R=A);return t&&I.forEach(function(Et){return e(_,Et)}),de&&Dr(_,P),C}function x(_,g,v,b){if(typeof v=="object"&&v!==null&&v.type===Ns&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ha:e:{for(var C=v.key,R=g;R!==null;){if(R.key===C){if(C=v.type,C===Ns){if(R.tag===7){n(_,R.sibling),g=s(R,v.props.children),g.return=_,_=g;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Hn&&Em(C)===R.type){n(_,R.sibling),g=s(R,v.props),g.ref=Pi(_,R,v),g.return=_,_=g;break e}n(_,R);break}else e(_,R);R=R.sibling}v.type===Ns?(g=qr(v.props.children,_.mode,b,v.key),g.return=_,_=g):(b=Qa(v.type,v.key,v.props,null,_.mode,b),b.ref=Pi(_,g,v),b.return=_,_=b)}return o(_);case Ts:e:{for(R=v.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(_,g.sibling),g=s(g,v.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Eu(v,_.mode,b),g.return=_,_=g}return o(_);case Hn:return R=v._init,x(_,g,R(v._payload),b)}if(Hi(v))return p(_,g,v,b);if(ki(v))return y(_,g,v,b);Ea(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(_,g.sibling),g=s(g,v),g.return=_,_=g):(n(_,g),g=bu(v,_.mode,b),g.return=_,_=g),o(_)):n(_,g)}return x}var Zs=n0(!0),r0=n0(!1),Ko={},ln=kr(Ko),xo=kr(Ko),bo=kr(Ko);function Hr(t){if(t===Ko)throw Error(k(174));return t}function uf(t,e){switch(oe(bo,e),oe(xo,t),oe(ln,Ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=id(e,t)}ce(ln),oe(ln,e)}function ei(){ce(ln),ce(xo),ce(bo)}function s0(t){Hr(bo.current);var e=Hr(ln.current),n=id(e,t.type);e!==n&&(oe(xo,t),oe(ln,n))}function df(t){xo.current===t&&(ce(ln),ce(xo))}var fe=kr(0);function yl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gu=[];function hf(){for(var t=0;t<gu.length;t++)gu[t]._workInProgressVersionPrimary=null;gu.length=0}var Wa=Ln.ReactCurrentDispatcher,_u=Ln.ReactCurrentBatchConfig,Xr=0,me=null,Te=null,je=null,vl=!1,Xi=!1,Eo=0,pE=0;function ze(){throw Error(k(321))}function ff(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qt(t[n],e[n]))return!1;return!0}function pf(t,e,n,r,s,i){if(Xr=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wa.current=t===null||t.memoizedState===null?yE:vE,t=n(r,s),Xi){i=0;do{if(Xi=!1,Eo=0,25<=i)throw Error(k(301));i+=1,je=Te=null,e.updateQueue=null,Wa.current=wE,t=n(r,s)}while(Xi)}if(Wa.current=wl,e=Te!==null&&Te.next!==null,Xr=0,je=Te=me=null,vl=!1,e)throw Error(k(300));return t}function mf(){var t=Eo!==0;return Eo=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?me.memoizedState=je=t:je=je.next=t,je}function Lt(){if(Te===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=je===null?me.memoizedState:je.next;if(e!==null)je=e,Te=t;else{if(t===null)throw Error(k(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},je===null?me.memoizedState=je=t:je=je.next=t}return je}function So(t,e){return typeof e=="function"?e(t):e}function yu(t){var e=Lt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=Te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Xr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,me.lanes|=d,Zr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Qt(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,Zr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vu(t){var e=Lt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qt(i,e.memoizedState)||(ot=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function i0(){}function o0(t,e){var n=me,r=Lt(),s=e(),i=!Qt(r.memoizedState,s);if(i&&(r.memoizedState=s,ot=!0),r=r.queue,gf(c0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Co(9,l0.bind(null,n,r,s,e),void 0,null),Le===null)throw Error(k(349));Xr&30||a0(n,e,s)}return s}function a0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function l0(t,e,n,r){e.value=n,e.getSnapshot=r,u0(e)&&d0(t)}function c0(t,e,n){return n(function(){u0(e)&&d0(t)})}function u0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qt(t,n)}catch{return!0}}function d0(t){var e=jn(t,1);e!==null&&qt(e,t,1,-1)}function Sm(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},e.queue=t,t=t.dispatch=_E.bind(null,me,t),[e.memoizedState,t]}function Co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h0(){return Lt().memoizedState}function Va(t,e,n,r){var s=nn();me.flags|=t,s.memoizedState=Co(1|e,n,void 0,r===void 0?null:r)}function nc(t,e,n,r){var s=Lt();r=r===void 0?null:r;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,r!==null&&ff(r,o.deps)){s.memoizedState=Co(e,n,i,r);return}}me.flags|=t,s.memoizedState=Co(1|e,n,i,r)}function Cm(t,e){return Va(8390656,8,t,e)}function gf(t,e){return nc(2048,8,t,e)}function f0(t,e){return nc(4,2,t,e)}function p0(t,e){return nc(4,4,t,e)}function m0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g0(t,e,n){return n=n!=null?n.concat([t]):null,nc(4,4,m0.bind(null,e,t),n)}function _f(){}function _0(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ff(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y0(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ff(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v0(t,e,n){return Xr&21?(Qt(n,e)||(n=by(),me.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=n)}function mE(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=_u.transition;_u.transition={};try{t(!1),e()}finally{te=n,_u.transition=r}}function w0(){return Lt().memoizedState}function gE(t,e,n){var r=lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x0(t))b0(e,n);else if(n=Xy(t,e,n,r),n!==null){var s=Ze();qt(n,t,r,s),E0(n,e,r)}}function _E(t,e,n){var r=lr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x0(t))b0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qt(a,o)){var l=e.interleaved;l===null?(s.next=s,lf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Xy(t,e,s,r),n!==null&&(s=Ze(),qt(n,t,r,s),E0(n,e,r))}}function x0(t){var e=t.alternate;return t===me||e!==null&&e===me}function b0(t,e){Xi=vl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qh(t,n)}}var wl={readContext:Dt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},yE={readContext:Dt,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Cm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Va(4194308,4,m0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gE.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:Sm,useDebugValue:_f,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=Sm(!1),e=t[0];return t=mE.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=nn();if(de){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Le===null)throw Error(k(349));Xr&30||a0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Cm(c0.bind(null,r,i,t),[t]),r.flags|=2048,Co(9,l0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=Le.identifierPrefix;if(de){var n=En,r=bn;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Eo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vE={readContext:Dt,useCallback:_0,useContext:Dt,useEffect:gf,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:p0,useMemo:y0,useReducer:yu,useRef:h0,useState:function(){return yu(So)},useDebugValue:_f,useDeferredValue:function(t){var e=Lt();return v0(e,Te.memoizedState,t)},useTransition:function(){var t=yu(So)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:i0,useSyncExternalStore:o0,useId:w0,unstable_isNewReconciler:!1},wE={readContext:Dt,useCallback:_0,useContext:Dt,useEffect:gf,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:p0,useMemo:y0,useReducer:vu,useRef:h0,useState:function(){return vu(So)},useDebugValue:_f,useDeferredValue:function(t){var e=Lt();return Te===null?e.memoizedState=t:v0(e,Te.memoizedState,t)},useTransition:function(){var t=vu(So)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:i0,useSyncExternalStore:o0,useId:w0,unstable_isNewReconciler:!1};function ti(t,e){try{var n="",r=e;do n+=K1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xE=typeof WeakMap=="function"?WeakMap:Map;function S0(t,e,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bl||(bl=!0,Ud=r),Nd(t,e)},n}function C0(t,e,n){n=Cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Nd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Nd(t,e),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function km(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xE;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=DE.bind(null,t,e,n),e.then(t,t))}function Tm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nm(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cn(-1,1),e.tag=2,or(n,e,1))),n.lanes|=1),t)}var bE=Ln.ReactCurrentOwner,ot=!1;function Je(t,e,n,r){e.child=t===null?r0(e,null,n,r):Zs(e,t.child,n,r)}function Rm(t,e,n,r,s){n=n.render;var i=e.ref;return Hs(e,s),r=pf(t,e,n,r,i,s),n=mf(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,On(t,e,s)):(de&&n&&tf(e),e.flags|=1,Je(t,e,r,s),e.child)}function Im(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,k0(t,e,i,r,s)):(t=Qa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(o,r)&&t.ref===e.ref)return On(t,e,s)}return e.flags|=1,t=cr(i,r),t.ref=e.ref,t.return=e,e.child=t}function k0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_o(i,r)&&t.ref===e.ref)if(ot=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,On(t,e,s)}return Rd(t,e,n,r,s)}function T0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Us,pt),pt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(Us,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(Us,pt),pt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,oe(Us,pt),pt|=r;return Je(t,e,s,n),e.child}function N0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rd(t,e,n,r,s){var i=ct(n)?Jr:Ke.current;return i=Ys(e,i),Hs(e,s),n=pf(t,e,n,r,i,s),r=mf(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,On(t,e,s)):(de&&r&&tf(e),e.flags|=1,Je(t,e,n,s),e.child)}function Pm(t,e,n,r,s){if(ct(n)){var i=!0;hl(e)}else i=!1;if(Hs(e,s),e.stateNode===null)Ga(t,e),t0(e,n,r),Td(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dt(c):(c=ct(n)?Jr:Ke.current,c=Ys(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&bm(e,o,r,c),Wn=!1;var f=e.memoizedState;o.state=f,_l(e,r,o,s),l=e.memoizedState,a!==r||f!==l||lt.current||Wn?(typeof d=="function"&&(kd(e,n,d,r),l=e.memoizedState),(a=Wn||xm(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dt(l):(l=ct(n)?Jr:Ke.current,l=Ys(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&bm(e,o,r,l),Wn=!1,f=e.memoizedState,o.state=f,_l(e,r,o,s);var p=e.memoizedState;a!==h||f!==p||lt.current||Wn?(typeof m=="function"&&(kd(e,n,m,r),p=e.memoizedState),(c=Wn||xm(e,n,c,r,f,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Id(t,e,n,r,i,s)}function Id(t,e,n,r,s,i){N0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&gm(e,n,!1),On(t,e,i);r=e.stateNode,bE.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zs(e,t.child,null,i),e.child=Zs(e,null,a,i)):Je(t,e,a,i),e.memoizedState=r.state,s&&gm(e,n,!0),e.child}function R0(t){var e=t.stateNode;e.pendingContext?mm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mm(t,e.context,!1),uf(t,e.containerInfo)}function jm(t,e,n,r,s){return Xs(),rf(s),e.flags|=256,Je(t,e,n,r),e.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function jd(t){return{baseLanes:t,cachePool:null,transitions:null}}function I0(t,e,n){var r=e.pendingProps,s=fe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),oe(fe,s&1),t===null)return Sd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ic(o,r,0,null),t=qr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jd(n),e.memoizedState=Pd,t):yf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return EE(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=cr(a,i):(i=qr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Pd,r}return i=t.child,t=i.sibling,r=cr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yf(t,e){return e=ic({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sa(t,e,n,r){return r!==null&&rf(r),Zs(e,t.child,null,n),t=yf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EE(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=wu(Error(k(422))),Sa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ic({mode:"visible",children:r.children},s,0,null),i=qr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zs(e,t.child,null,o),e.child.memoizedState=jd(o),e.memoizedState=Pd,i);if(!(e.mode&1))return Sa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(k(419)),r=wu(i,r,void 0),Sa(t,e,o,r)}if(a=(o&t.childLanes)!==0,ot||a){if(r=Le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jn(t,s),qt(r,t,s,-1))}return Sf(),r=wu(Error(k(421))),Sa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LE.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mt=ir(s.nextSibling),_t=e,de=!0,Wt=null,t!==null&&(Ct[kt++]=bn,Ct[kt++]=En,Ct[kt++]=Yr,bn=t.id,En=t.overflow,Yr=e),e=yf(e,r.children),e.flags|=4096,e)}function Om(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cd(t.return,e,n)}function xu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function P0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Je(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Om(t,n,e);else if(t.tag===19)Om(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xu(e,!0,n,null,i);break;case"together":xu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function On(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SE(t,e,n){switch(e.tag){case 3:R0(e),Xs();break;case 5:s0(e);break;case 1:ct(e.type)&&hl(e);break;case 4:uf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;oe(ml,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?I0(t,e,n):(oe(fe,fe.current&1),t=On(t,e,n),t!==null?t.sibling:null);oe(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,T0(t,e,n)}return On(t,e,n)}var j0,Od,O0,A0;j0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Od=function(){};O0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hr(ln.current);var i=null;switch(n){case"input":s=td(t,s),r=td(t,r),i=[];break;case"select":s=ge({},s,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":s=sd(t,s),r=sd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ul)}od(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(co.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(co.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&le("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};A0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ji(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CE(t,e,n){var r=e.pendingProps;switch(nf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return ct(e.type)&&dl(),He(e),null;case 3:return r=e.stateNode,ei(),ce(lt),ce(Ke),hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wt!==null&&(Bd(Wt),Wt=null))),Od(t,e),He(e),null;case 5:df(e);var s=Hr(bo.current);if(n=e.type,t!==null&&e.stateNode!=null)O0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return He(e),null}if(t=Hr(ln.current),ba(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rn]=e,r[wo]=i,t=(e.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<Vi.length;s++)le(Vi[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":zp(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":Wp(r,i),le("invalid",r)}od(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xa(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xa(r.textContent,a,t),s=["children",""+a]):co.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":fa(r),Hp(r,i,!0);break;case"textarea":fa(r),Vp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ul)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ay(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rn]=e,t[wo]=r,j0(t,e,!1,!1),e.stateNode=t;e:{switch(o=ad(n,r),n){case"dialog":le("cancel",t),le("close",t),s=r;break;case"iframe":case"object":case"embed":le("load",t),s=r;break;case"video":case"audio":for(s=0;s<Vi.length;s++)le(Vi[s],t);s=r;break;case"source":le("error",t),s=r;break;case"img":case"image":case"link":le("error",t),le("load",t),s=r;break;case"details":le("toggle",t),s=r;break;case"input":zp(t,r),s=td(t,r),le("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ge({},r,{value:void 0}),le("invalid",t);break;case"textarea":Wp(t,r),s=sd(t,r),le("invalid",t);break;default:s=r}od(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ly(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uo(t,l):typeof l=="number"&&uo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(co.hasOwnProperty(i)?l!=null&&i==="onScroll"&&le("scroll",t):l!=null&&Bh(t,i,l,o))}switch(n){case"input":fa(t),Hp(t,r,!1);break;case"textarea":fa(t),Vp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ul)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)A0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Hr(bo.current),Hr(ln.current),ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[rn]=e,(i=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:xa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rn]=e,e.stateNode=r}return He(e),null;case 13:if(ce(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&mt!==null&&e.mode&1&&!(e.flags&128))Yy(),Xs(),e.flags|=98560,i=!1;else if(i=ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[rn]=e}else Xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),i=!1}else Wt!==null&&(Bd(Wt),Wt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Re===0&&(Re=3):Sf())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return ei(),Od(t,e),t===null&&yo(e.stateNode.containerInfo),He(e),null;case 10:return af(e.type._context),He(e),null;case 17:return ct(e.type)&&dl(),He(e),null;case 19:if(ce(fe),i=e.memoizedState,i===null)return He(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ji(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yl(t),o!==null){for(e.flags|=128,ji(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(fe,fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ve()>ni&&(e.flags|=128,r=!0,ji(i,!1),e.lanes=4194304)}else{if(!r)if(t=yl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ji(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return He(e),null}else 2*ve()-i.renderingStartTime>ni&&n!==1073741824&&(e.flags|=128,r=!0,ji(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ve(),e.sibling=null,n=fe.current,oe(fe,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return Ef(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pt&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function kE(t,e){switch(nf(e),e.tag){case 1:return ct(e.type)&&dl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),ce(lt),ce(Ke),hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return df(e),null;case 13:if(ce(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(fe),null;case 4:return ei(),null;case 10:return af(e.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var Ca=!1,We=!1,TE=typeof WeakSet=="function"?WeakSet:Set,O=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function Ad(t,e,n){try{n()}catch(r){ye(t,e,r)}}var Am=!1;function NE(t,e){if(_d=al,t=Uy(),ef(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:t,selectionRange:n},al=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bt(e.type,y),x);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(b){ye(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return p=Am,Am=!1,p}function Zi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ad(e,n,i)}s=s.next}while(s!==r)}}function rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function D0(t){var e=t.alternate;e!==null&&(t.alternate=null,D0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[wo],delete e[xd],delete e[uE],delete e[dE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L0(t){return t.tag===5||t.tag===3||t.tag===4}function Dm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ul));else if(r!==4&&(t=t.child,t!==null))for(Ld(t,e,n),t=t.sibling;t!==null;)Ld(t,e,n),t=t.sibling}function Md(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Md(t,e,n),t=t.sibling;t!==null;)Md(t,e,n),t=t.sibling}var Fe=null,zt=!1;function Fn(t,e,n){for(n=n.child;n!==null;)M0(t,e,n),n=n.sibling}function M0(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 5:We||Ms(n,e);case 6:var r=Fe,s=zt;Fe=null,Fn(t,e,n),Fe=r,zt=s,Fe!==null&&(zt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(zt?(t=Fe,n=n.stateNode,t.nodeType===8?pu(t.parentNode,n):t.nodeType===1&&pu(t,n),mo(t)):pu(Fe,n.stateNode));break;case 4:r=Fe,s=zt,Fe=n.stateNode.containerInfo,zt=!0,Fn(t,e,n),Fe=r,zt=s;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ad(n,e,o),s=s.next}while(s!==r)}Fn(t,e,n);break;case 1:if(!We&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}Fn(t,e,n);break;case 21:Fn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Fn(t,e,n),We=r):Fn(t,e,n);break;default:Fn(t,e,n)}}function Lm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TE),e.forEach(function(r){var s=ME.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,zt=!1;break e;case 3:Fe=a.stateNode.containerInfo,zt=!0;break e;case 4:Fe=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(Fe===null)throw Error(k(160));M0(i,o,s),Fe=null,zt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ye(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U0(e,t),e=e.sibling}function U0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),Zt(t),r&4){try{Zi(3,t,t.return),rc(3,t)}catch(y){ye(t,t.return,y)}try{Zi(5,t,t.return)}catch(y){ye(t,t.return,y)}}break;case 1:Ft(e,t),Zt(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(Ft(e,t),Zt(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var s=t.stateNode;try{uo(s,"")}catch(y){ye(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iy(s,i),ad(a,o);var c=ad(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?uy(s,h):d==="dangerouslySetInnerHTML"?ly(s,h):d==="children"?uo(s,h):Bh(s,d,h,c)}switch(a){case"input":nd(s,i);break;case"textarea":oy(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Fs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fs(s,!!i.multiple,i.defaultValue,!0):Fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[wo]=i}catch(y){ye(t,t.return,y)}}break;case 6:if(Ft(e,t),Zt(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ye(t,t.return,y)}}break;case 3:if(Ft(e,t),Zt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mo(e.containerInfo)}catch(y){ye(t,t.return,y)}break;case 4:Ft(e,t),Zt(t);break;case 13:Ft(e,t),Zt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xf=ve())),r&4&&Lm(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(We=(c=We)||d,Ft(e,t),We=c):Ft(e,t),Zt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,m=f.child,f.tag){case 0:case 11:case 14:case 15:Zi(4,f,f.return);break;case 1:Ms(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){ye(r,n,y)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){Um(h);continue}}m!==null?(m.return=f,O=m):Um(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cy("display",o))}catch(y){ye(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){ye(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ft(e,t),Zt(t),r&4&&Lm(t);break;case 21:break;default:Ft(e,t),Zt(t)}}function Zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(L0(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(uo(s,""),r.flags&=-33);var i=Dm(t);Md(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Dm(t);Ld(t,a,o);break;default:throw Error(k(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RE(t,e,n){O=t,F0(t)}function F0(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ca;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||We;a=Ca;var c=We;if(Ca=o,(We=l)&&!c)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?Fm(s):l!==null?(l.return=o,O=l):Fm(s);for(;i!==null;)O=i,F0(i),i=i.sibling;O=s,Ca=a,We=c}Mm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Mm(t)}}function Mm(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&wm(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&mo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}We||e.flags&512&&Dd(e)}catch(f){ye(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Um(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Fm(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rc(4,e)}catch(l){ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ye(e,s,l)}}var i=e.return;try{Dd(e)}catch(l){ye(e,i,l)}break;case 5:var o=e.return;try{Dd(e)}catch(l){ye(e,o,l)}}}catch(l){ye(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var IE=Math.ceil,xl=Ln.ReactCurrentDispatcher,vf=Ln.ReactCurrentOwner,jt=Ln.ReactCurrentBatchConfig,X=0,Le=null,be=null,$e=0,pt=0,Us=kr(0),Re=0,ko=null,Zr=0,sc=0,wf=0,eo=null,rt=null,xf=0,ni=1/0,yn=null,bl=!1,Ud=null,ar=null,ka=!1,Yn=null,El=0,to=0,Fd=null,qa=-1,Ka=0;function Ze(){return X&6?ve():qa!==-1?qa:qa=ve()}function lr(t){return t.mode&1?X&2&&$e!==0?$e&-$e:fE.transition!==null?(Ka===0&&(Ka=by()),Ka):(t=te,t!==0||(t=window.event,t=t===void 0?16:Ry(t.type)),t):1}function qt(t,e,n,r){if(50<to)throw to=0,Fd=null,Error(k(185));Vo(t,n,r),(!(X&2)||t!==Le)&&(t===Le&&(!(X&2)&&(sc|=n),Re===4&&qn(t,$e)),ut(t,r),n===1&&X===0&&!(e.mode&1)&&(ni=ve()+500,ec&&Tr()))}function ut(t,e){var n=t.callbackNode;fb(t,e);var r=ol(t,t===Le?$e:0);if(r===0)n!==null&&Kp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kp(n),e===1)t.tag===0?hE($m.bind(null,t)):Ky($m.bind(null,t)),lE(function(){!(X&6)&&Tr()}),n=null;else{switch(Ey(r)){case 1:n=Gh;break;case 4:n=wy;break;case 16:n=il;break;case 536870912:n=xy;break;default:n=il}n=q0(n,$0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $0(t,e){if(qa=-1,Ka=0,X&6)throw Error(k(327));var n=t.callbackNode;if(Ws()&&t.callbackNode!==n)return null;var r=ol(t,t===Le?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sl(t,r);else{e=r;var s=X;X|=2;var i=z0();(Le!==t||$e!==e)&&(yn=null,ni=ve()+500,Gr(t,e));do try{OE();break}catch(a){B0(t,a)}while(1);of(),xl.current=i,X=s,be!==null?e=0:(Le=null,$e=0,e=Re)}if(e!==0){if(e===2&&(s=hd(t),s!==0&&(r=s,e=$d(t,s))),e===1)throw n=ko,Gr(t,0),qn(t,r),ut(t,ve()),n;if(e===6)qn(t,r);else{if(s=t.current.alternate,!(r&30)&&!PE(s)&&(e=Sl(t,r),e===2&&(i=hd(t),i!==0&&(r=i,e=$d(t,i))),e===1))throw n=ko,Gr(t,0),qn(t,r),ut(t,ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:Lr(t,rt,yn);break;case 3:if(qn(t,r),(r&130023424)===r&&(e=xf+500-ve(),10<e)){if(ol(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wd(Lr.bind(null,t,rt,yn),e);break}Lr(t,rt,yn);break;case 4:if(qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Gt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IE(r/1960))-r,10<r){t.timeoutHandle=wd(Lr.bind(null,t,rt,yn),r);break}Lr(t,rt,yn);break;case 5:Lr(t,rt,yn);break;default:throw Error(k(329))}}}return ut(t,ve()),t.callbackNode===n?$0.bind(null,t):null}function $d(t,e){var n=eo;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=Sl(t,e),t!==2&&(e=rt,rt=n,e!==null&&Bd(e)),t}function Bd(t){rt===null?rt=t:rt.push.apply(rt,t)}function PE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(t,e){for(e&=~wf,e&=~sc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gt(e),r=1<<n;t[n]=-1,e&=~r}}function $m(t){if(X&6)throw Error(k(327));Ws();var e=ol(t,0);if(!(e&1))return ut(t,ve()),null;var n=Sl(t,e);if(t.tag!==0&&n===2){var r=hd(t);r!==0&&(e=r,n=$d(t,r))}if(n===1)throw n=ko,Gr(t,0),qn(t,e),ut(t,ve()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lr(t,rt,yn),ut(t,ve()),null}function bf(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(ni=ve()+500,ec&&Tr())}}function es(t){Yn!==null&&Yn.tag===0&&!(X&6)&&Ws();var e=X;X|=1;var n=jt.transition,r=te;try{if(jt.transition=null,te=1,t)return t()}finally{te=r,jt.transition=n,X=e,!(X&6)&&Tr()}}function Ef(){pt=Us.current,ce(Us)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aE(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(nf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dl();break;case 3:ei(),ce(lt),ce(Ke),hf();break;case 5:df(r);break;case 4:ei();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:af(r.type._context);break;case 22:case 23:Ef()}n=n.return}if(Le=t,be=t=cr(t.current,null),$e=pt=e,Re=0,ko=null,wf=sc=Zr=0,rt=eo=null,zr!==null){for(e=0;e<zr.length;e++)if(n=zr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}zr=null}return t}function B0(t,e){do{var n=be;try{if(of(),Wa.current=wl,vl){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vl=!1}if(Xr=0,je=Te=me=null,Xi=!1,Eo=0,vf.current=null,n===null||n.return===null){Re=1,ko=e,be=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Tm(o);if(m!==null){m.flags&=-257,Nm(m,o,a,i,e),m.mode&1&&km(i,c,e),e=m,l=c;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){km(i,c,e),Sf();break e}l=Error(k(426))}}else if(de&&a.mode&1){var x=Tm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Nm(x,o,a,i,e),rf(ti(l,a));break e}}i=l=ti(l,a),Re!==4&&(Re=2),eo===null?eo=[i]:eo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=S0(i,l,e);vm(i,_);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ar===null||!ar.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=C0(i,a,e);vm(i,b);break e}}i=i.return}while(i!==null)}W0(n)}catch(C){e=C,be===n&&n!==null&&(be=n=n.return);continue}break}while(1)}function z0(){var t=xl.current;return xl.current=wl,t===null?wl:t}function Sf(){(Re===0||Re===3||Re===2)&&(Re=4),Le===null||!(Zr&268435455)&&!(sc&268435455)||qn(Le,$e)}function Sl(t,e){var n=X;X|=2;var r=z0();(Le!==t||$e!==e)&&(yn=null,Gr(t,e));do try{jE();break}catch(s){B0(t,s)}while(1);if(of(),X=n,xl.current=r,be!==null)throw Error(k(261));return Le=null,$e=0,Re}function jE(){for(;be!==null;)H0(be)}function OE(){for(;be!==null&&!sb();)H0(be)}function H0(t){var e=G0(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?W0(t):be=e,vf.current=null}function W0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kE(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,be=null;return}}else if(n=CE(n,e,pt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Re===0&&(Re=5)}function Lr(t,e,n){var r=te,s=jt.transition;try{jt.transition=null,te=1,AE(t,e,n,r)}finally{jt.transition=s,te=r}return null}function AE(t,e,n,r){do Ws();while(Yn!==null);if(X&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(pb(t,i),t===Le&&(be=Le=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ka||(ka=!0,q0(il,function(){return Ws(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var o=te;te=1;var a=X;X|=4,vf.current=null,NE(t,n),U0(n,t),eE(yd),al=!!_d,yd=_d=null,t.current=n,RE(n),ib(),X=a,te=o,jt.transition=i}else t.current=n;if(ka&&(ka=!1,Yn=t,El=s),i=t.pendingLanes,i===0&&(ar=null),lb(n.stateNode),ut(t,ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bl)throw bl=!1,t=Ud,Ud=null,t;return El&1&&t.tag!==0&&Ws(),i=t.pendingLanes,i&1?t===Fd?to++:(to=0,Fd=t):to=0,Tr(),null}function Ws(){if(Yn!==null){var t=Ey(El),e=jt.transition,n=te;try{if(jt.transition=null,te=16>t?16:t,Yn===null)var r=!1;else{if(t=Yn,Yn=null,El=0,X&6)throw Error(k(331));var s=X;for(X|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Zi(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,m=d.return;if(D0(d),d===c){O=null;break}if(f!==null){f.return=m,O=f;break}O=m}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zi(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,O=_;break e}O=i.return}}var g=t.current;for(O=g;O!==null;){o=O;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,O=v;else e:for(o=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(C){ye(a,a.return,C)}if(a===o){O=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,O=b;break e}O=a.return}}if(X=s,Tr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ql,t)}catch{}r=!0}return r}finally{te=n,jt.transition=e}}return!1}function Bm(t,e,n){e=ti(n,e),e=S0(t,e,1),t=or(t,e,1),e=Ze(),t!==null&&(Vo(t,1,e),ut(t,e))}function ye(t,e,n){if(t.tag===3)Bm(t,t,n);else for(;e!==null;){if(e.tag===3){Bm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){t=ti(n,t),t=C0(e,t,1),e=or(e,t,1),t=Ze(),e!==null&&(Vo(e,1,t),ut(e,t));break}}e=e.return}}function DE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&($e&n)===n&&(Re===4||Re===3&&($e&130023424)===$e&&500>ve()-xf?Gr(t,0):wf|=n),ut(t,e)}function V0(t,e){e===0&&(t.mode&1?(e=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):e=1);var n=Ze();t=jn(t,e),t!==null&&(Vo(t,e,n),ut(t,n))}function LE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),V0(t,n)}function ME(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),V0(t,n)}var G0;G0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ot=!1,SE(t,e,n);ot=!!(t.flags&131072)}else ot=!1,de&&e.flags&1048576&&Qy(e,pl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ga(t,e),t=e.pendingProps;var s=Ys(e,Ke.current);Hs(e,n),s=pf(null,e,r,t,s,n);var i=mf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ct(r)?(i=!0,hl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cf(e),s.updater=tc,e.stateNode=s,s._reactInternals=e,Td(e,r,t,n),e=Id(null,e,r,!0,i,n)):(e.tag=0,de&&i&&tf(e),Je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ga(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=FE(r),t=Bt(r,t),s){case 0:e=Rd(null,e,r,t,n);break e;case 1:e=Pm(null,e,r,t,n);break e;case 11:e=Rm(null,e,r,t,n);break e;case 14:e=Im(null,e,r,Bt(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Rd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Pm(t,e,r,s,n);case 3:e:{if(R0(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Zy(t,e),_l(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ti(Error(k(423)),e),e=jm(t,e,r,n,s);break e}else if(r!==s){s=ti(Error(k(424)),e),e=jm(t,e,r,n,s);break e}else for(mt=ir(e.stateNode.containerInfo.firstChild),_t=e,de=!0,Wt=null,n=r0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),r===s){e=On(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return s0(e),t===null&&Sd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,vd(r,s)?o=null:i!==null&&vd(r,i)&&(e.flags|=32),N0(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&Sd(e),null;case 13:return I0(t,e,n);case 4:return uf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zs(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Rm(t,e,r,s,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,oe(ml,r._currentValue),r._currentValue=o,i!==null)if(Qt(i.value,o)){if(i.children===s.children&&!lt.current){e=On(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cd(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hs(e,n),s=Dt(s),r=r(s),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,s=Bt(r,e.pendingProps),s=Bt(r.type,s),Im(t,e,r,s,n);case 15:return k0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bt(r,s),Ga(t,e),e.tag=1,ct(r)?(t=!0,hl(e)):t=!1,Hs(e,n),t0(e,r,s),Td(e,r,s,n),Id(null,e,r,!0,t,n);case 19:return P0(t,e,n);case 22:return T0(t,e,n)}throw Error(k(156,e.tag))};function q0(t,e){return vy(t,e)}function UE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new UE(t,e,n,r)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FE(t){if(typeof t=="function")return Cf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hh)return 11;if(t===Wh)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qa(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Cf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ns:return qr(n.children,s,i,e);case zh:o=8,s|=8;break;case Yu:return t=Nt(12,n,e,s|2),t.elementType=Yu,t.lanes=i,t;case Xu:return t=Nt(13,n,e,s),t.elementType=Xu,t.lanes=i,t;case Zu:return t=Nt(19,n,e,s),t.elementType=Zu,t.lanes=i,t;case ny:return ic(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ey:o=10;break e;case ty:o=9;break e;case Hh:o=11;break e;case Wh:o=14;break e;case Hn:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Nt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qr(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function ic(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=ny,t.lanes=n,t.stateNode={isHidden:!1},t}function bu(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function Eu(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $E(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kf(t,e,n,r,s,i,o,a,l){return t=new $E(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Nt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cf(i),t}function BE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function K0(t){if(!t)return _r;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(ct(n))return qy(t,n,e)}return e}function Q0(t,e,n,r,s,i,o,a,l){return t=kf(n,r,!0,t,s,i,o,a,l),t.context=K0(null),n=t.current,r=Ze(),s=lr(n),i=Cn(r,s),i.callback=e??null,or(n,i,s),t.current.lanes=s,Vo(t,s,r),ut(t,r),t}function oc(t,e,n,r){var s=e.current,i=Ze(),o=lr(s);return n=K0(n),e.context===null?e.context=n:e.pendingContext=n,e=Cn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=or(s,e,o),t!==null&&(qt(t,s,o,i),Ha(t,s,o)),o}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tf(t,e){zm(t,e),(t=t.alternate)&&zm(t,e)}function zE(){return null}var J0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nf(t){this._internalRoot=t}ac.prototype.render=Nf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));oc(t,e,null,null)};ac.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){oc(null,t,null,null)}),e[Pn]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=ky();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gn.length&&e!==0&&e<Gn[n].priority;n++);Gn.splice(n,0,t),n===0&&Ny(t)}};function Rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function HE(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Cl(o);i.call(c)}}var o=Q0(e,r,t,0,null,!1,!1,"",Hm);return t._reactRootContainer=o,t[Pn]=o.current,yo(t.nodeType===8?t.parentNode:t),es(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Cl(l);a.call(c)}}var l=kf(t,0,!1,null,null,!1,!1,"",Hm);return t._reactRootContainer=l,t[Pn]=l.current,yo(t.nodeType===8?t.parentNode:t),es(function(){oc(e,l,n,r)}),l}function cc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Cl(o);a.call(l)}}oc(e,o,t,s)}else o=HE(n,e,t,s,r);return Cl(o)}Sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wi(e.pendingLanes);n!==0&&(qh(e,n|1),ut(e,ve()),!(X&6)&&(ni=ve()+500,Tr()))}break;case 13:es(function(){var r=jn(t,1);if(r!==null){var s=Ze();qt(r,t,1,s)}}),Tf(t,1)}};Kh=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var n=Ze();qt(e,t,134217728,n)}Tf(t,134217728)}};Cy=function(t){if(t.tag===13){var e=lr(t),n=jn(t,e);if(n!==null){var r=Ze();qt(n,t,e,r)}Tf(t,e)}};ky=function(){return te};Ty=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};cd=function(t,e,n){switch(e){case"input":if(nd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Zl(r);if(!s)throw Error(k(90));sy(r),nd(r,s)}}}break;case"textarea":oy(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};fy=bf;py=es;var WE={usingClientEntryPoint:!1,Events:[qo,js,Zl,dy,hy,bf]},Oi={findFiberByHostInstance:Br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VE={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_y(t),t===null?null:t.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||zE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{Ql=Ta.inject(VE),an=Ta}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WE;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rf(e))throw Error(k(200));return BE(t,e,null,n)};xt.createRoot=function(t,e){if(!Rf(t))throw Error(k(299));var n=!1,r="",s=J0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kf(t,1,!1,null,null,n,!1,r,s),t[Pn]=e.current,yo(t.nodeType===8?t.parentNode:t),new Nf(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=_y(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return es(t)};xt.hydrate=function(t,e,n){if(!lc(e))throw Error(k(200));return cc(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Rf(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=J0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Q0(e,null,t,1,n??null,s,!1,i,o),t[Pn]=e.current,yo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ac(e)};xt.render=function(t,e,n){if(!lc(e))throw Error(k(200));return cc(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!lc(t))throw Error(k(40));return t._reactRootContainer?(es(function(){cc(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};xt.unstable_batchedUpdates=bf;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lc(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return cc(t,e,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(t){console.error(t)}}Y0(),Q_.exports=xt;var GE=Q_.exports,Wm=GE;Qu.createRoot=Wm.createRoot,Qu.hydrateRoot=Wm.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(this,arguments)}var Xn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xn||(Xn={}));const Vm="popstate";function qE(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return zd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:kl(s)}return QE(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function If(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KE(){return Math.random().toString(36).substr(2,8)}function Gm(t,e){return{usr:t.state,key:t.key,idx:e}}function zd(t,e,n,r){return n===void 0&&(n=null),To({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pi(e):e,{state:n,key:e&&e.key||r||KE()})}function kl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QE(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Xn.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(To({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Xn.Pop;let x=d(),_=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:_})}function f(x,_){a=Xn.Push;let g=zd(y.location,x,_);n&&n(g,x),c=d()+1;let v=Gm(g,c),b=y.createHref(g);try{o.pushState(v,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function m(x,_){a=Xn.Replace;let g=zd(y.location,x,_);n&&n(g,x),c=d();let v=Gm(g,c),b=y.createHref(g);o.replaceState(v,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function p(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:kl(x);return Se(_,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,_)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Vm,h),l=x,()=>{s.removeEventListener(Vm,h),l=null}},createHref(x){return e(s,x)},createURL:p,encodeLocation(x){let _=p(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(x){return o.go(x)}};return y}var qm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qm||(qm={}));function JE(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?pi(e):e,s=Pf(r.pathname||"/",n);if(s==null)return null;let i=X0(t);YE(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=oS(i[a],cS(s));return o}function X0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ur([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X0(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:sS(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Z0(i.path))s(i,o,l)}),e}function Z0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Z0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XE=/^:\w+$/,ZE=3,eS=2,tS=1,nS=10,rS=-2,Km=t=>t==="*";function sS(t,e){let n=t.split("/"),r=n.length;return n.some(Km)&&(r+=rS),e&&(r+=eS),n.filter(s=>!Km(s)).reduce((s,i)=>s+(XE.test(i)?ZE:i===""?tS:nS),r)}function iS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function oS(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=aS({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;i.push({params:r,pathname:ur([s,d.pathname]),pathnameBase:fS(ur([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ur([s,d.pathnameBase]))}return i}function aS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lS(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[d]=uS(a[h]||"",d),c},{}),pathname:i,pathnameBase:o,pattern:t}}function lS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),If(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cS(t){try{return decodeURI(t)}catch(e){return If(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uS(t,e){try{return decodeURIComponent(t)}catch(n){return If(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Pf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pi(t):t;return{pathname:n?n.startsWith("/")?n:hS(n,e):e,search:pS(r),hash:mS(s)}}function hS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Su(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ev(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pi(t):(s=To({},t),Se(!s.pathname||!s.pathname.includes("?"),Su("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),Su("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),Su("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=dS(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ur=t=>t.join("/").replace(/\/\/+/g,"/"),fS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nv=["post","put","patch","delete"];new Set(nv);const _S=["get",...nv];new Set(_S);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const jf=w.createContext(null),yS=w.createContext(null),mi=w.createContext(null),uc=w.createContext(null),Nr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),rv=w.createContext(null);function vS(t,e){let{relative:n}=e===void 0?{}:e;Qo()||Se(!1);let{basename:r,navigator:s}=w.useContext(mi),{hash:i,pathname:o,search:a}=iv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ur([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Qo(){return w.useContext(uc)!=null}function us(){return Qo()||Se(!1),w.useContext(uc).location}function sv(t){w.useContext(mi).static||w.useLayoutEffect(t)}function Mn(){let{isDataRoute:t}=w.useContext(Nr);return t?jS():wS()}function wS(){Qo()||Se(!1);let t=w.useContext(jf),{basename:e,navigator:n}=w.useContext(mi),{matches:r}=w.useContext(Nr),{pathname:s}=us(),i=JSON.stringify(ev(r).map(l=>l.pathnameBase)),o=w.useRef(!1);return sv(()=>{o.current=!0}),w.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=tv(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ur([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}function dc(){let{matches:t}=w.useContext(Nr),e=t[t.length-1];return e?e.params:{}}function iv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=w.useContext(Nr),{pathname:s}=us(),i=JSON.stringify(ev(r).map(o=>o.pathnameBase));return w.useMemo(()=>tv(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function xS(t,e){return bS(t,e)}function bS(t,e,n){Qo()||Se(!1);let{navigator:r}=w.useContext(mi),{matches:s}=w.useContext(Nr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=us(),c;if(e){var d;let y=typeof e=="string"?pi(e):e;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||Se(!1),c=y}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",m=JE(t,{pathname:f}),p=TS(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ur([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:ur([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n);return e&&p?w.createElement(uc.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xn.Pop}},p):p}function ES(){let t=PS(),e=gS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,i)}const SS=w.createElement(ES,null);class CS extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(Nr.Provider,{value:this.props.routeContext},w.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kS(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(jf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Nr.Provider,{value:e},r)}function TS(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Se(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||SS);let f=e.concat(i.slice(0,c+1)),m=()=>{let p;return d?p=h:l.route.Component?p=w.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,w.createElement(kS,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?w.createElement(CS,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Hd;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Hd||(Hd={}));var No;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(No||(No={}));function NS(t){let e=w.useContext(jf);return e||Se(!1),e}function RS(t){let e=w.useContext(yS);return e||Se(!1),e}function IS(t){let e=w.useContext(Nr);return e||Se(!1),e}function ov(t){let e=IS(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function PS(){var t;let e=w.useContext(rv),n=RS(No.UseRouteError),r=ov(No.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function jS(){let{router:t}=NS(Hd.UseNavigateStable),e=ov(No.UseNavigateStable),n=w.useRef(!1);return sv(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Tl({fromRouteId:e},i)))},[t,e])}function en(t){Se(!1)}function OS(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Xn.Pop,navigator:i,static:o=!1}=t;Qo()&&Se(!1);let a=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=pi(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,p=w.useMemo(()=>{let y=Pf(c,a);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:m},navigationType:s}},[a,c,d,h,f,m,s]);return p==null?null:w.createElement(mi.Provider,{value:l},w.createElement(uc.Provider,{children:n,value:p}))}function AS(t){let{children:e,location:n}=t;return xS(Wd(e),n)}var Qm;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Qm||(Qm={}));new Promise(()=>{});function Wd(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Wd(r.props.children,i));return}r.type!==en&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function DS(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function LS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MS(t,e){return t.button===0&&(!e||e==="_self")&&!LS(t)}const US=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],FS="startTransition",Jm=L1[FS];function $S(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=qE({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=w.useCallback(h=>{c&&Jm?Jm(()=>l(h)):l(h)},[l,c]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(OS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const BS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,h=DS(e,US),{basename:f}=w.useContext(mi),m,p=!1;if(typeof c=="string"&&zS.test(c)&&(m=c,BS))try{let g=new URL(window.location.href),v=c.startsWith("//")?new URL(g.protocol+c):new URL(c),b=Pf(v.pathname,f);v.origin===g.origin&&b!=null?c=b+v.search+v.hash:p=!0}catch{}let y=vS(c,{relative:s}),x=HS(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function _(g){r&&r(g),g.defaultPrevented||x(g)}return w.createElement("a",Vd({},h,{href:m||y,onClick:p||i?r:_,ref:n,target:l}))});var Ym;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Ym||(Ym={}));var Xm;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xm||(Xm={}));function HS(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=Mn(),l=us(),c=iv(t,{relative:o});return w.useCallback(d=>{if(MS(d,n)){d.preventDefault();let h=r!==void 0?r:kl(l)===kl(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function av(t,e){return function(){return t.apply(e,arguments)}}const{toString:WS}=Object.prototype,{getPrototypeOf:Of}=Object,hc=(t=>e=>{const n=WS.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pn=t=>(t=t.toLowerCase(),e=>hc(e)===t),fc=t=>e=>typeof e===t,{isArray:gi}=Array,Ro=fc("undefined");function VS(t){return t!==null&&!Ro(t)&&t.constructor!==null&&!Ro(t.constructor)&&Ot(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lv=pn("ArrayBuffer");function GS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lv(t.buffer),e}const qS=fc("string"),Ot=fc("function"),cv=fc("number"),pc=t=>t!==null&&typeof t=="object",KS=t=>t===!0||t===!1,Ja=t=>{if(hc(t)!=="object")return!1;const e=Of(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},QS=pn("Date"),JS=pn("File"),YS=pn("Blob"),XS=pn("FileList"),ZS=t=>pc(t)&&Ot(t.pipe),eC=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ot(t.append)&&((e=hc(t))==="formdata"||e==="object"&&Ot(t.toString)&&t.toString()==="[object FormData]"))},tC=pn("URLSearchParams"),nC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),gi(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function uv(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const dv=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hv=t=>!Ro(t)&&t!==dv;function Gd(){const{caseless:t}=hv(this)&&this||{},e={},n=(r,s)=>{const i=t&&uv(e,s)||s;Ja(e[i])&&Ja(r)?e[i]=Gd(e[i],r):Ja(r)?e[i]=Gd({},r):gi(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Jo(arguments[r],n);return e}const rC=(t,e,n,{allOwnKeys:r}={})=>(Jo(e,(s,i)=>{n&&Ot(s)?t[i]=av(s,n):t[i]=s},{allOwnKeys:r}),t),sC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iC=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},oC=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Of(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},aC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},lC=t=>{if(!t)return null;if(gi(t))return t;let e=t.length;if(!cv(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},cC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Of(Uint8Array)),uC=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},dC=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},hC=pn("HTMLFormElement"),fC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Zm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),pC=pn("RegExp"),fv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Jo(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},mC=t=>{fv(t,(e,n)=>{if(Ot(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ot(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gC=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return gi(t)?r(t):r(String(t).split(e)),n},_C=()=>{},yC=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Cu="abcdefghijklmnopqrstuvwxyz",eg="0123456789",pv={DIGIT:eg,ALPHA:Cu,ALPHA_DIGIT:Cu+Cu.toUpperCase()+eg},vC=(t=16,e=pv.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function wC(t){return!!(t&&Ot(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const xC=t=>{const e=new Array(10),n=(r,s)=>{if(pc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=gi(r)?[]:{};return Jo(r,(o,a)=>{const l=n(o,s+1);!Ro(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},bC=pn("AsyncFunction"),EC=t=>t&&(pc(t)||Ot(t))&&Ot(t.then)&&Ot(t.catch),E={isArray:gi,isArrayBuffer:lv,isBuffer:VS,isFormData:eC,isArrayBufferView:GS,isString:qS,isNumber:cv,isBoolean:KS,isObject:pc,isPlainObject:Ja,isUndefined:Ro,isDate:QS,isFile:JS,isBlob:YS,isRegExp:pC,isFunction:Ot,isStream:ZS,isURLSearchParams:tC,isTypedArray:cC,isFileList:XS,forEach:Jo,merge:Gd,extend:rC,trim:nC,stripBOM:sC,inherits:iC,toFlatObject:oC,kindOf:hc,kindOfTest:pn,endsWith:aC,toArray:lC,forEachEntry:uC,matchAll:dC,isHTMLForm:hC,hasOwnProperty:Zm,hasOwnProp:Zm,reduceDescriptors:fv,freezeMethods:mC,toObjectSet:gC,toCamelCase:fC,noop:_C,toFiniteNumber:yC,findKey:uv,global:dv,isContextDefined:hv,ALPHABET:pv,generateString:vC,isSpecCompliantForm:wC,toJSONObject:xC,isAsyncFn:bC,isThenable:EC};function K(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}E.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mv=K.prototype,gv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gv[t]={value:t}});Object.defineProperties(K,gv);Object.defineProperty(mv,"isAxiosError",{value:!0});K.from=(t,e,n,r,s,i)=>{const o=Object.create(mv);return E.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),K.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const SC=null;function qd(t){return E.isPlainObject(t)||E.isArray(t)}function _v(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function tg(t,e,n){return t?t.concat(e).map(function(s,i){return s=_v(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function CC(t){return E.isArray(t)&&!t.some(qd)}const kC=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function mc(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!E.isUndefined(x[y])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(E.isDate(p))return p.toISOString();if(!l&&E.isBlob(p))throw new K("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(p)||E.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,x){let _=p;if(p&&!x&&typeof p=="object"){if(E.endsWith(y,"{}"))y=r?y:y.slice(0,-2),p=JSON.stringify(p);else if(E.isArray(p)&&CC(p)||(E.isFileList(p)||E.endsWith(y,"[]"))&&(_=E.toArray(p)))return y=_v(y),_.forEach(function(v,b){!(E.isUndefined(v)||v===null)&&e.append(o===!0?tg([y],b,i):o===null?y:y+"[]",c(v))}),!1}return qd(p)?!0:(e.append(tg(x,y,i),c(p)),!1)}const h=[],f=Object.assign(kC,{defaultVisitor:d,convertValue:c,isVisitable:qd});function m(p,y){if(!E.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(p),E.forEach(p,function(_,g){(!(E.isUndefined(_)||_===null)&&s.call(e,_,E.isString(g)?g.trim():g,y,f))===!0&&m(_,y?y.concat(g):[g])}),h.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return m(t),e}function ng(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Af(t,e){this._pairs=[],t&&mc(t,this,e)}const yv=Af.prototype;yv.append=function(e,n){this._pairs.push([e,n])};yv.toString=function(e){const n=e?function(r){return e.call(this,r,ng)}:ng;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function TC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vv(t,e,n){if(!e)return t;const r=n&&n.encode||TC,s=n&&n.serialize;let i;if(s?i=s(e,n):i=E.isURLSearchParams(e)?e.toString():new Af(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class NC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rg=NC,wv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RC=typeof URLSearchParams<"u"?URLSearchParams:Af,IC=typeof FormData<"u"?FormData:null,PC=typeof Blob<"u"?Blob:null,jC={isBrowser:!0,classes:{URLSearchParams:RC,FormData:IC,Blob:PC},protocols:["http","https","file","blob","url","data"]},xv=typeof window<"u"&&typeof document<"u",OC=(t=>xv&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),AC=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),DC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xv,hasStandardBrowserEnv:OC,hasStandardBrowserWebWorkerEnv:AC},Symbol.toStringTag,{value:"Module"})),on={...DC,...jC};function LC(t,e){return mc(t,new on.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return on.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function MC(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UC(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function bv(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&E.isArray(s)?s.length:o,l?(E.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!E.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&E.isArray(s[o])&&(s[o]=UC(s[o])),!a)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(r,s)=>{e(MC(r),s,n,0)}),n}return null}function FC(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Df={transitional:wv,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=E.isObject(e);if(i&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return s?JSON.stringify(bv(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LC(e,this.formSerializer).toString();if((a=E.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return mc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),FC(e)):e}],transformResponse:[function(e){const n=this.transitional||Df.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&E.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:on.classes.FormData,Blob:on.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{Df.headers[t]={}});const Lf=Df,$C=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BC=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&$C[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},sg=Symbol("internals");function Ai(t){return t&&String(t).trim().toLowerCase()}function Ya(t){return t===!1||t==null?t:E.isArray(t)?t.map(Ya):String(t)}function zC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const HC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ku(t,e,n,r,s){if(E.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!E.isString(e)){if(E.isString(r))return e.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(e)}}function WC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function VC(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class gc{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const d=Ai(l);if(!d)throw new Error("header name must be a non-empty string");const h=E.findKey(s,d);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Ya(a))}const o=(a,l)=>E.forEach(a,(c,d)=>i(c,d,l));return E.isPlainObject(e)||e instanceof this.constructor?o(e,n):E.isString(e)&&(e=e.trim())&&!HC(e)?o(BC(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=Ai(e),e){const r=E.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return zC(s);if(E.isFunction(n))return n.call(this,s,r);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ai(e),e){const r=E.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ku(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Ai(o),o){const a=E.findKey(r,o);a&&(!n||ku(r,r[a],a,n))&&(delete r[a],s=!0)}}return E.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||ku(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return E.forEach(this,(s,i)=>{const o=E.findKey(r,i);if(o){n[o]=Ya(s),delete n[i];return}const a=e?WC(i):String(i).trim();a!==i&&delete n[i],n[a]=Ya(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[sg]=this[sg]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ai(o);r[a]||(VC(s,o),r[a]=!0)}return E.isArray(e)?e.forEach(i):i(e),this}}gc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(gc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});E.freezeMethods(gc);const kn=gc;function Tu(t,e){const n=this||Lf,r=e||n,s=kn.from(r.headers);let i=r.data;return E.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ev(t){return!!(t&&t.__CANCEL__)}function Yo(t,e,n){K.call(this,t??"canceled",K.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(Yo,K,{__CANCEL__:!0});function GC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const qC=on.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];E.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),E.isString(r)&&o.push("path="+r),E.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function QC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Sv(t,e){return t&&!KC(e)?QC(t,e):e}const JC=on.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=E.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function YC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function XC(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const m=d&&c-d;return m?Math.round(f*1e3/m):void 0}}function ig(t,e){let n=0;const r=XC(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};d[e?"download":"upload"]=!0,t(d)}}const ZC=typeof XMLHttpRequest<"u",ek=ZC&&function(t){return new Promise(function(n,r){let s=t.data;const i=kn.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(E.isFormData(s)){if(on.hasStandardBrowserEnv||on.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((d=i.getContentType())!==!1){const[y,...x]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];i.setContentType([y||"multipart/form-data",...x].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(y+":"+x))}const f=Sv(t.baseURL,t.url);h.open(t.method.toUpperCase(),vv(f,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function m(){if(!h)return;const y=kn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:y,config:t,request:h};GC(function(v){n(v),c()},function(v){r(v),c()},_),h=null}if("onloadend"in h?h.onloadend=m:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(m)},h.onabort=function(){h&&(r(new K("Request aborted",K.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||wv;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),r(new K(x,_.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,t,h)),h=null},on.hasStandardBrowserEnv&&(a&&E.isFunction(a)&&(a=a(t)),a||a!==!1&&JC(f))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&qC.read(t.xsrfCookieName);y&&i.set(t.xsrfHeaderName,y)}s===void 0&&i.setContentType(null),"setRequestHeader"in h&&E.forEach(i.toJSON(),function(x,_){h.setRequestHeader(_,x)}),E.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",ig(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",ig(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=y=>{h&&(r(!y||y.type?new Yo(null,t,h):y),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=YC(f);if(p&&on.protocols.indexOf(p)===-1){r(new K("Unsupported protocol "+p+":",K.ERR_BAD_REQUEST,t));return}h.send(s||null)})},Kd={http:SC,xhr:ek};E.forEach(Kd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const og=t=>`- ${t}`,tk=t=>E.isFunction(t)||t===null||t===!1,Cv={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!tk(n)&&(r=Kd[(o=String(n)).toLowerCase()],r===void 0))throw new K(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(og).join(`
`):" "+og(i[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Kd};function Nu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yo(null,t)}function ag(t){return Nu(t),t.headers=kn.from(t.headers),t.data=Tu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Cv.getAdapter(t.adapter||Lf.adapter)(t).then(function(r){return Nu(t),r.data=Tu.call(t,t.transformResponse,r),r.headers=kn.from(r.headers),r},function(r){return Ev(r)||(Nu(t),r&&r.response&&(r.response.data=Tu.call(t,t.transformResponse,r.response),r.response.headers=kn.from(r.response.headers))),Promise.reject(r)})}const lg=t=>t instanceof kn?t.toJSON():t;function ri(t,e){e=e||{};const n={};function r(c,d,h){return E.isPlainObject(c)&&E.isPlainObject(d)?E.merge.call({caseless:h},c,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(c,d,h){if(E.isUndefined(d)){if(!E.isUndefined(c))return r(void 0,c,h)}else return r(c,d,h)}function i(c,d){if(!E.isUndefined(d))return r(void 0,d)}function o(c,d){if(E.isUndefined(d)){if(!E.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>s(lg(c),lg(d),!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||s,f=h(t[d],e[d],d);E.isUndefined(f)&&h!==a||(n[d]=f)}),n}const kv="1.6.7",Mf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Mf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const cg={};Mf.transitional=function(e,n,r){function s(i,o){return"[Axios v"+kv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new K(s(o," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!cg[o]&&(cg[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function nk(t,e,n){if(typeof t!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new K("option "+i+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}const Qd={assertOptions:nk,validators:Mf},$n=Qd.validators;class Nl{constructor(e){this.defaults=e,this.interceptors={request:new rg,response:new rg}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ri(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Qd.assertOptions(r,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:Qd.assertOptions(s,{encode:$n.function,serialize:$n.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[n.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=kn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const p=[ag.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,d=Promise.resolve(n);h<f;)d=d.then(p[h++],p[h++]);return d}f=a.length;let m=n;for(h=0;h<f;){const p=a[h++],y=a[h++];try{m=p(m)}catch(x){y.call(this,x);break}}try{d=ag.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=ri(this.defaults,e);const n=Sv(e.baseURL,e.url);return vv(n,e.params,e.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(e){Nl.prototype[e]=function(n,r){return this.request(ri(r||{},{method:e,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ri(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Nl.prototype[e]=n(),Nl.prototype[e+"Form"]=n(!0)});const Xa=Nl;class Uf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Yo(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Uf(function(s){e=s}),cancel:e}}}const rk=Uf;function sk(t){return function(n){return t.apply(null,n)}}function ik(t){return E.isObject(t)&&t.isAxiosError===!0}const Jd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jd).forEach(([t,e])=>{Jd[e]=t});const ok=Jd;function Tv(t){const e=new Xa(t),n=av(Xa.prototype.request,e);return E.extend(n,Xa.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Tv(ri(t,s))},n}const Ce=Tv(Lf);Ce.Axios=Xa;Ce.CanceledError=Yo;Ce.CancelToken=rk;Ce.isCancel=Ev;Ce.VERSION=kv;Ce.toFormData=mc;Ce.AxiosError=K;Ce.Cancel=Ce.CanceledError;Ce.all=function(e){return Promise.all(e)};Ce.spread=sk;Ce.isAxiosError=ik;Ce.mergeConfig=ri;Ce.AxiosHeaders=kn;Ce.formToJSON=t=>bv(E.isHTMLForm(t)?new FormData(t):t);Ce.getAdapter=Cv.getAdapter;Ce.HttpStatusCode=ok;Ce.default=Ce;const Ve=Ce;var Nv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ug=tr.createContext&&tr.createContext(Nv),dr=globalThis&&globalThis.__assign||function(){return dr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},dr.apply(this,arguments)},ak=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function Rv(t){return t&&t.map(function(e,n){return tr.createElement(e.tag,dr({key:n},e.attr),Rv(e.child))})}function mn(t){return function(e){return tr.createElement(lk,dr({attr:dr({},t.attr)},e),Rv(t.child))}}function lk(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=ak(t,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),tr.createElement("svg",dr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:dr(dr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&tr.createElement("title",null,i),t.children)};return ug!==void 0?tr.createElement(ug.Consumer,null,function(n){return e(n)}):e(Nv)}function ck(t){return mn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(t)}function uk(t){return mn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function dk(t){return mn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(t)}function hk(t){return mn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(t)}function dg(t){return mn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function fk(t){return mn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(t)}const Rr=()=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:"mt-8 w-full backdrop-blur-xl text-black px-8 flex md:flex-row flex-col space-y-6 md:space-y-0 items-start md:justify-between text-sm pt-2 pb-1",children:[u.jsxs("div",{className:"",children:[u.jsx("p",{className:"font-jockey text-[20px]",children:"Student Coordinators:"}),u.jsx("br",{}),u.jsxs("div",{className:"flex gap-4 text-black",children:[u.jsxs("div",{className:"",children:[u.jsx("p",{className:"font-jockey text-[20px]",children:"DHANANJAY MOHANTY"}),u.jsx("p",{className:"font-jockey",children:"+91 79825 63364"})]}),u.jsxs("div",{className:"",children:[u.jsx("p",{className:"font-jockey text-[20px]",children:"ARMAAN GARNAYAK"}),u.jsx("p",{className:"font-jockey",children:"+91 94389 13565"})]})]})]}),u.jsxs("div",{className:"flex flex-col text-black",children:[u.jsx("p",{className:"font-jockey text-[20px]",children:"Faculty Coordinators:"}),u.jsx("br",{}),u.jsx("p",{className:"font-jockey text-[20px]",children:"DR. SAROJ KUMAR DASH"})]}),u.jsxs("div",{className:"",children:[u.jsx("p",{className:"pb-2 text-center items-center font-jockey text-[20px]",children:"All rights reserved @Blogging Blitz KALINGA JYOTI 2024"}),u.jsx("br",{}),u.jsxs("div",{className:"flex justify-center space-x-2 items-center",children:[u.jsx("a",{href:"https://twitter.com/kalinga_jyoti",target:"_blank",rel:"noopener noreferrer",children:u.jsx(dk,{className:"text-blue-400 text-[20px]"})}),u.jsx("a",{href:"https://www.instagram.com/kalingajyoti.vitc/",target:"_blank",rel:"noopener noreferrer",children:u.jsx(ck,{className:"text-pink-600 text-[20px]"})}),u.jsx("a",{href:"https://www.linkedin.com/company/kalinga-jyoti-vitc/about/",target:"_blank",rel:"noopener noreferrer",children:u.jsx(uk,{className:"text-blue-700 text-[20px]"})}),u.jsx("a",{href:"https://www.youtube.com/@KalingaJyoti",target:"_blank",rel:"noopener noreferrer",children:u.jsx(hk,{className:"text-red-600 text-[20px]"})})]})]})]})}),Iv=({post:t})=>u.jsxs("div",{className:"w-full flex mt-8 space-x-4  p-3 rounded-lg bg-white/10 shadow-2xl ring-2 ring-black/5 backdrop-blur-3xl",children:[u.jsx("div",{className:"w-[35%] h-[150px] flex justify-center items-center ",children:u.jsx("img",{src:t.introductionImage||"/bg3.png",alt:"",className:"h-full w-full object-cover rounded-lg"})}),u.jsxs("div",{className:"flex flex-col w-[65%]",children:[u.jsx("h1",{className:"text-xl font-bold  md:text-xl text-neutral-100",children:t.title}),(t==null?void 0:t.category)==="Historical"&&u.jsx("p",{className:"text-yellow-500 text-xs font-semibold ",children:"#HISTORICAL"}),(t==null?void 0:t.category)==="Cultural"&&u.jsx("p",{className:"text-cyan-600 text-xs font-semibold ",children:"#CULTURAL"}),(t==null?void 0:t.category)==="Open"&&u.jsx("p",{className:"text-lime-600 text-xs font-semibold ",children:"#OPENCATEGORY"}),u.jsxs("div",{className:"flex mb-2 text-sm font-semibold text-neutral-300 items-center justify-between md:mb-4",children:[u.jsxs("p",{children:["@",t.username]}),u.jsxs("div",{className:"flex space-x-2 text-sm",children:[u.jsx("p",{children:new Date(t.updatedAt).toString().slice(0,15)}),u.jsx("p",{children:new Date(t.updatedAt).toString().slice(16,24)})]})]}),u.jsx("p",{className:"text-xs md:text-base text-neutral-200 overflow-clip ",children:t.desc.slice(0,45)+" ...Read more"})]})]});function hg(t){return mn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",x2:"3",y1:"12",y2:"12"}}]})(t)}const Mt=w.createContext({});function pk({children:t}){const[e,n]=w.useState(null);w.useEffect(()=>{r()},[]);const r=async()=>{try{const s=localStorage.getItem("token"),i=await Ve.get("https://kjblog-production.up.railway.app:5000/api/auth/refetch",{headers:{Authorization:`Bearer ${s}`}});console.log("Data recieved at UserContext.jsx getUser: ",i.data),n(i.data)}catch(s){console.log("Error at UserContext.jsx getUser: ",s)}};return u.jsx(Mt.Provider,{value:{user:e,setUser:n},children:t})}let mk={data:""},gk=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||mk,_k=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yk=/\/\*[^]*?\*\/|  +/g,fg=/\n+/g,Kn=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Kn(o,i):i+"{"+Kn(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Kn(o,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Kn.p?Kn.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},_n={},Pv=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Pv(t[n]);return e}return t},vk=(t,e,n,r,s)=>{let i=Pv(t),o=_n[i]||(_n[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!_n[o]){let l=i!==t?t:(c=>{let d,h,f=[{}];for(;d=_k.exec(c.replace(yk,""));)d[4]?f.shift():d[3]?(h=d[3].replace(fg," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(fg," ").trim();return f[0]})(t);_n[o]=Kn(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&_n.g?_n.g:null;return n&&(_n.g=_n[o]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(_n[o],e,r,a),o},wk=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Kn(a,""):a===!1?"":a}return r+s+(o??"")},"");function _c(t){let e=this||{},n=t.call?t(e.p):t;return vk(n.unshift?n.raw?wk(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,gk(e.target),e.g,e.o,e.k)}let jv,Yd,Xd;_c.bind({g:1});let An=_c.bind({k:1});function xk(t,e,n,r){Kn.p=e,jv=t,Yd=n,Xd=r}function Ir(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Yd&&Yd()},a),n.o=/ *go\d+/.test(l),a.className=_c.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),Xd&&c[0]&&Xd(a),jv(c,a)}return e?e(s):s}}var bk=t=>typeof t=="function",Rl=(t,e)=>bk(t)?t(e):t,Ek=(()=>{let t=0;return()=>(++t).toString()})(),Ov=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Sk=20,Za=new Map,Ck=1e3,pg=t=>{if(Za.has(t))return;let e=setTimeout(()=>{Za.delete(t),ds({type:4,toastId:t})},Ck);Za.set(t,e)},kk=t=>{let e=Za.get(t);e&&clearTimeout(e)},Zd=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Sk)};case 1:return e.toast.id&&kk(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?Zd(t,{type:1,toast:n}):Zd(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?pg(r):t.toasts.forEach(i=>{pg(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},el=[],tl={toasts:[],pausedAt:void 0},ds=t=>{tl=Zd(tl,t),el.forEach(e=>{e(tl)})},Tk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Nk=(t={})=>{let[e,n]=w.useState(tl);w.useEffect(()=>(el.push(n),()=>{let s=el.indexOf(n);s>-1&&el.splice(s,1)}),[e]);let r=e.toasts.map(s=>{var i,o;return{...t,...t[s.type],...s,duration:s.duration||((i=t[s.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||Tk[s.type],style:{...t.style,...(o=t[s.type])==null?void 0:o.style,...s.style}}});return{...e,toasts:r}},Rk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Ek()}),Xo=t=>(e,n)=>{let r=Rk(e,t,n);return ds({type:2,toast:r}),r.id},gt=(t,e)=>Xo("blank")(t,e);gt.error=Xo("error");gt.success=Xo("success");gt.loading=Xo("loading");gt.custom=Xo("custom");gt.dismiss=t=>{ds({type:3,toastId:t})};gt.remove=t=>ds({type:4,toastId:t});gt.promise=(t,e,n)=>{let r=gt.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(s=>(gt.success(Rl(e.success,s),{id:r,...n,...n==null?void 0:n.success}),s)).catch(s=>{gt.error(Rl(e.error,s),{id:r,...n,...n==null?void 0:n.error})}),t};var Ik=(t,e)=>{ds({type:1,toast:{id:t,height:e}})},Pk=()=>{ds({type:5,time:Date.now()})},jk=t=>{let{toasts:e,pausedAt:n}=Nk(t);w.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&gt.dismiss(a.id);return}return setTimeout(()=>gt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=w.useCallback(()=>{n&&ds({type:6,time:Date.now()})},[n]),s=w.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(m=>(m.position||c)===(i.position||c)&&m.height),h=d.findIndex(m=>m.id===i.id),f=d.filter((m,p)=>p<h&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[f+1]:[0,f]).reduce((m,p)=>m+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:Ik,startPause:Pk,endPause:r,calculateOffset:s}}},Ok=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ak=An`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dk=An`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Lk=Ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ok} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ak} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Dk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Mk=An`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Uk=Ir("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Mk} 1s linear infinite;
`,Fk=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$k=An`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Bk=Ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$k} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zk=Ir("div")`
  position: absolute;
`,Hk=Ir("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Wk=An`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vk=Ir("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Wk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Gk=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?w.createElement(Vk,null,e):e:n==="blank"?null:w.createElement(Hk,null,w.createElement(Uk,{...r}),n!=="loading"&&w.createElement(zk,null,n==="error"?w.createElement(Lk,{...r}):w.createElement(Bk,{...r})))},qk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Kk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Qk="0%{opacity:0;} 100%{opacity:1;}",Jk="0%{opacity:1;} 100%{opacity:0;}",Yk=Ir("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Xk=Ir("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Zk=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Ov()?[Qk,Jk]:[qk(n),Kk(n)];return{animation:e?`${An(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${An(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eT=w.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Zk(t.position||e||"top-center",t.visible):{opacity:0},i=w.createElement(Gk,{toast:t}),o=w.createElement(Xk,{...t.ariaProps},Rl(t.message,t));return w.createElement(Yk,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});xk(w.createElement);var tT=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=w.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return w.createElement("div",{ref:i,className:e,style:n},s)},nT=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ov()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},rT=_c`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Na=16,sT=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=jk(n);return w.createElement("div",{style:{position:"fixed",zIndex:9999,top:Na,left:Na,right:Na,bottom:Na,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=nT(d,h);return w.createElement(tT,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?rT:"",style:f},c.type==="custom"?Rl(c.message,c):s?s(c):w.createElement(eT,{toast:c,position:d}))}))},z=gt;const mg=()=>{const{user:t}=w.useContext(Mt),{setUser:e}=w.useContext(Mt),n=Mn(),r=async()=>{try{localStorage.removeItem("token");const s=await Ve.get("https://kjblog-production.up.railway.app:5000/api/auth/logout",{withCredentials:!0});z.success("Logged out successfully"),e(null),n("/login")}catch(s){console.log(s),z.error("Failed to logout")}};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"bg-black w-[200px] z-10 flex flex-col items-start absolute top-14 right-6 md:right-8 rounded-md p-4 space-y-4",children:[!t&&u.jsx("h3",{className:"text-white text-sm hover:text-blue-500 cursor-pointer w-full",children:u.jsx(Ee,{to:"/login",children:"Login"})}),!t&&u.jsx("h3",{className:"text-white text-sm hover:text-blue-500 cursor-pointer w-full",children:u.jsx(Ee,{to:"/register",children:"Register"})}),t&&u.jsx("h3",{className:"text-white text-sm hover:text-blue-400 cursor-pointer w-full",children:u.jsx(Ee,{to:"/profile/"+t._id,children:"Profile"})}),t&&u.jsx("h3",{className:"text-white text-sm hover:text-blue-500 cursor-pointer w-full",children:u.jsx(Ee,{to:"/write",children:"Write"})}),t&&u.jsx("h3",{className:"text-white text-sm hover:text-blue-500 cursor-pointer w-full",children:u.jsx(Ee,{to:"/myblogs/"+t._id,children:"My blogs"})}),t&&u.jsx("h3",{onClick:r,className:"text-white text-sm hover:text-blue-500 cursor-pointer w-full",children:"Logout"})]})})},hs=()=>{w.useState("");const[t,e]=w.useState(!1);Mn(),us().pathname;const n=()=>{e(!t)},{user:r}=w.useContext(Mt);return u.jsxs("div",{className:"flex items-center justify-between px-8 py-2 shadow-lg ring-1 ring-black/5 backdrop-blur-md fixed top-0 w-full z-20",children:[u.jsx("div",{className:"",children:u.jsx("a",{href:"https://www.vitvibrance.com/",target:"_blank",children:u.jsx("img",{src:"/vibrance.jpg",alt:"Vibrance",className:`h-12 w-12 rounded-full\r
					`})})}),u.jsx("div",{className:"",children:u.jsx(Ee,{to:"/",children:u.jsxs("div",{className:"flex flex-row gap-10 items-center justify-center",children:[u.jsx("span",{className:"font-jockey text-[30px]",children:"Blog Blitz"}),u.jsx("span",{className:"font-poppins",children:"by"}),u.jsxs("div",{className:"flex flex-row",children:[u.jsx("span",{className:`font-jockey pr-2 text-[20px]\r
							mt-1`,children:"KALINGA"}),u.jsx("img",{src:"/fevicon.jpg",alt:"KalingaLogo",className:"h-10 w-10 rounded-full"}),u.jsx("span",{className:"font-jockey pl-2 text-[20px] mt-1",children:"JYOTI"})]})]})})}),u.jsxs("div",{className:"hidden md:flex items-center justify-center space-x-2 md:space-x-4",children:[r?u.jsx(Ee,{to:"/write",children:u.jsxs("div",{className:"flex justify-center items-center gap-1 bg-blue-500 text-white rounded-full px-3 py-1 font-medium hover:shadow-md hover:shadow-blue-500 hover:text-blue-500 hover:bg-white transition duration-300 ease-in-out cursor-pointer",children:[u.jsx(fk,{size:12}),"Write"]})}):u.jsx("h3",{children:u.jsx(Ee,{to:"/login",className:"",children:u.jsxs("button",{className:"flex items-center space-x-1 bg-blue-500 text-white border-blue-500 border-2 px-3 py-1 font-medium hover:text-blue-600 hover:bg-white transition duration-300 ease-in-out rounded-full",children:[u.jsx(hg,{className:""}),u.jsx("p",{className:"",children:"Login"})]})})}),r?u.jsxs("div",{onClick:n,children:[u.jsx("p",{className:"cursor-pointer relative",children:u.jsx(dg,{size:25})}),t&&u.jsx(mg,{})]}):u.jsx("h3",{children:u.jsx(Ee,{to:"/register",className:"",children:u.jsxs("button",{className:"flex items-center space-x-1 bg-green-500 text-white border-green-500 border-2 px-3 py-1 font-medium hover:text-green-600 hover:bg-white transition duration-300 ease-in-out",children:[u.jsx(hg,{className:""}),u.jsx("p",{className:"",children:"Register"})]})})})]}),u.jsxs("div",{onClick:n,className:"md:hidden text-lg",children:[u.jsx("p",{className:"cursor-pointer relative",children:u.jsx(dg,{size:25})}),t&&u.jsx(mg,{})]})]})},Ff=()=>u.jsx("div",{role:"status",children:u.jsxs("svg",{"aria-hidden":"true",className:"inline w-10 h-10 mr-2 text-gray-200 animate-spin fill-[#2d2d2e]",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),iT=()=>{const{search:t}=us(),[e,n]=w.useState([]),[r,s]=w.useState(!1),[i,o]=w.useState(!1),{user:a}=w.useContext(Mt),[l,c]=w.useState({days:0,hours:0,minutes:0,seconds:0}),d=async()=>{o(!0);try{const f=localStorage.getItem("token"),m=await Ve.get("https://kjblog-production.up.railway.app:5000/api/posts/"+t,{headers:{Authorization:`Bearer ${f}`}});n(m.data),m.data.length===0?(s(!0),z.error("No posts available")):s(!1),o(!1)}catch(f){console.log(f),o(!0),z.error("Error fetching posts")}},h=()=>{const p=new Date("2024-03-02T00:35:00")-new Date;let y=0,x=0,_=0,g=0;p>0&&(y=Math.floor(p/(1e3*60*60*24)),x=Math.floor(p%(1e3*60*60*24)/(1e3*60*60)),_=Math.floor(p%(1e3*60*60)/(1e3*60)),g=Math.floor(p%(1e3*60)/1e3)),c({days:y,hours:x,minutes:_,seconds:g})};return w.useEffect(()=>{d(),h();const f=setInterval(h,1e3);return()=>{clearInterval(f)}},[t]),u.jsxs(u.Fragment,{children:[u.jsx(hs,{}),u.jsx("div",{className:"pb-16 "}),u.jsxs("div",{className:"flex ",children:[u.jsx("div",{className:"px-8 min-h-[80vh] w-4/6",children:i?u.jsx(u.Fragment,{children:u.jsx("div",{className:"h-screen flex justify-center items-center",children:u.jsx(Ff,{})})}):r?u.jsx("h3",{className:"text-center font-bold mt-16",children:"No posts available"}):e.map(f=>u.jsx(Ee,{to:a?`/posts/post/${f._id}`:"/login",children:u.jsx(Iv,{post:f})},f._id))}),u.jsxs("div",{className:"bg-inherit h-auto w-2/6 pt-8 pr-8 pl-4 ",children:[u.jsxs("div",{className:"p-3 rounded-lg bg-white/10 shadow-2xl ring-2 ring-black/5 backdrop-blur-3xl",children:[u.jsx("p",{className:"text-white text-center font-semibold text-xl pb-2 shadow-2xl",children:"Event Countdown"}),u.jsxs("div",{className:"flex gap-2 justify-center items-center  rounded-lg",children:[u.jsx("div",{className:"text-white text-2xl font-semibold w-14 shadow-md shadow-neutral-400",children:u.jsxs("div",{className:"bg-black/20 rounded-md p-1 flex flex-col items-center justify-center",children:[l.days,u.jsx("span",{className:"text-xs text-gray-400 ",children:"DAY"})]})}),u.jsx("div",{className:"text-white text-2xl font-semibold w-14 shadow-md shadow-neutral-400",children:u.jsxs("div",{className:"bg-black/20 rounded-md p-1 flex flex-col items-center justify-center",children:[l.hours,u.jsx("span",{className:"text-xs text-gray-400 ",children:"HOUR"})]})}),u.jsx("div",{className:"text-white text-2xl font-semibold w-14 shadow-md shadow-neutral-400",children:u.jsxs("div",{className:"bg-black/20 rounded-md p-1 flex flex-col items-center justify-center",children:[l.minutes,u.jsx("span",{className:"text-xs text-gray-400 ",children:"MIN"})]})}),u.jsx("div",{className:"text-white text-2xl font-semibold w-14 shadow-md shadow-neutral-400",children:u.jsxs("div",{className:"bg-black/20 rounded-md p-1 flex flex-col items-center justify-center",children:[l.seconds,u.jsx("span",{className:"text-xs text-gray-400 ",children:"SEC"})]})})]})]}),u.jsxs("div",{className:"mt-8 p-3 rounded-lg bg-white/10 shadow-2xl ring-2 ring-black/5 backdrop-blur-3xl",children:[u.jsx("p",{className:"text-white text-center font-semibold text-xl pb-2 shadow-2xl",children:"UPDATES"}),u.jsxs("div",{className:"flex flex-col gap-4 font-poppins text-sm",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("p",{className:"text-white font-medium",children:"- Event has ended"})}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("p",{className:"text-white font-medium",children:"- Thanking everyone for their participation"})}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("p",{className:"text-white font-medium",children:"- Posts made after 12:35 AM will not be considered for evaluation"})}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("p",{className:"text-white font-medium",children:"- Results will be announced soon after evaluation"})})]})]}),u.jsxs("div",{className:"mt-8 p-3 rounded-lg bg-white/10 shadow-2xl ring-2 ring-black/5 backdrop-blur-3xl",children:[u.jsx("p",{className:"text-white text-center font-semibold text-xl pb-2 shadow-2xl",children:"Know the Categories"}),u.jsxs("div",{className:"flex flex-col gap-4 font-poppins",children:[u.jsx(Ee,{to:"/category/historical",children:u.jsxs("div",{className:"flex justify-center items-center relative bg-black/50 hover:bg-gradient-to-b hover:from-transparent hover:to-slate-950/50 rounded-lg h-30 shadow-md shadow-neutral-400",children:[u.jsx("img",{src:"/history.jpeg",alt:"",className:"rounded-lg h-28 w-full object-cover"}),u.jsx("div",{className:"h-full w-full absolute flex justify-center items-center bg-black/50 hover:bg-gradient-to-b hover:from-transparent hover:to-slate-950/50 rounded-lg h-30 transition-300",children:u.jsx("p",{className:"text-transparent bg-clip-text bg-gradient-to-br from-yellow-400 to-red-500 text-2xl font-semibold drop-shadow-2xl",children:"HISTORICAL"})})]})}),u.jsx(Ee,{to:"/category/cultural",children:u.jsxs("div",{className:"flex justify-center items-center relative bg-black/50 hover:bg-gradient-to-b hover:from-transparent hover:to-slate-950/50 rounded-lg h-30 transition-300 shadow-md shadow-neutral-400",children:[u.jsx("img",{src:"/cultural.jpg",alt:"",className:"rounded-lg h-28 w-full object-cover"}),u.jsx("div",{className:"h-full w-full absolute flex justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300",children:u.jsx("p",{className:"text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-blue-500 text-2xl font-semibold drop-shadow-2xl",children:"CULTURAL"})})]})}),u.jsx(Ee,{to:"/category/open",children:u.jsxs("div",{className:"flex justify-center items-center relative bg-black/50 hover:bg-gradient-to-b hover:from-transparent hover:to-slate-950/50 rounded-lg h-30 transition-300 shadow-md shadow-neutral-400",children:[u.jsx("img",{src:"/open.jpg",alt:"",className:"rounded-lg h-28 w-full object-cover"}),u.jsx("div",{className:"h-full w-full absolute flex justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300",children:u.jsx("p",{className:"text-transparent bg-clip-text bg-gradient-to-br from-lime-400 to-green-500 text-2xl font-bold drop-shadow-2xl text-center",children:"OPEN CATEGORY"})})]})})]})]})]})]}),u.jsx("div",{className:"w-screen h-screen bg-black fixed top-0 left-0 z-[-1] opacity-20"}),u.jsx("img",{src:"/heroImg2.jpg",alt:"background",className:"w-screen h-full  fixed top-0 left-0 z-[-2]  opacity-100 "}),u.jsx(Rr,{})]})},oT=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(!1),{setUser:o}=w.useContext(Mt),a=Mn(),[l,c]=w.useState(!1),[d,h]=w.useState(""),f=async()=>{try{const p=await Ve.post("https://kjblog-production.up.railway.app:5000/api/auth/login",{username:t,password:n},{withCredentials:!0});console.log("res:",p),console.log("Server response:",p.data),localStorage.setItem("token",p.data.token),console.log("Token at login: ",p.data.token),o(p.data),i(!1),a("/"),z.success("Welcome back "+p.data.username+" !")}catch(p){i(!0),console.log(p)}},m=()=>{d==="kjadmin007"?c(!0):z.error("Incorrect admin password")};return u.jsxs(u.Fragment,{children:[l?u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[u.jsx("p",{className:"text-lg text-center text-gray-700 mb-2",children:"You are not allowed to access this page"}),u.jsx("p",{className:"text-md text-center text-gray-600 mb-6",children:"Login as an admin to continue"}),u.jsx("input",{type:"password",className:"w-64 px-3 py-2 border-2 border-gray-300 rounded-md outline-none focus:border-indigo-500",placeholder:"Enter admin password",onChange:p=>h(p.target.value)}),u.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 text-white bg-indigo-500 rounded hover:bg-indigo-600 focus:outline-none",children:"Submit"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between px-6 md:px-[200px] py-4",children:[u.jsx("h1",{className:"",children:u.jsxs(Ee,{to:"/",children:[u.jsx("h1",{className:"text-lg md:text-2xl font-extrabold font-poppins",children:"Blogging Blitz"}),u.jsx("p",{className:"text-right font-medium text-orange-900",children:"by Kalinga Jyoti"})]})}),u.jsx("h3",{children:u.jsx(Ee,{to:"/register",children:"Register"})})]}),u.jsx("div",{className:"w-full flex justify-center items-center h-[80vh] ",children:u.jsxs("div",{className:"flex flex-col justify-center items-center space-y-4 w-[80%] md:w-[25%]",children:[u.jsx("h1",{className:"text-xl font-bold text-left",children:"Log in to your account"}),u.jsx("input",{onChange:p=>e(p.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter your username"}),u.jsx("input",{onChange:p=>r(p.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"password",placeholder:"Enter your password"}),u.jsx("button",{onClick:f,className:"w-full px-4 py-4 text-lg font-bold text-white bg-black rounded-lg hover:bg-gray-500 hover:text-black ",children:"Log in"}),s&&u.jsx("h3",{className:"text-red-500 text-sm ",children:"Something went wrong"}),u.jsxs("div",{className:"flex justify-center items-center space-x-3",children:[u.jsx("p",{children:"New here?"}),u.jsx("p",{className:"text-gray-500 hover:text-black",children:u.jsx(Ee,{to:"/register",children:"Register"})})]})]})})]}),u.jsx(Rr,{})]})},aT=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[o,a]=w.useState(!1),[l,c]=w.useState(""),[d,h]=w.useState(""),[f,m]=w.useState(""),[p,y]=w.useState(""),[x,_]=w.useState(""),[g,v]=w.useState(""),[b,C]=w.useState(""),[R,I]=w.useState(!1),P=Mn(),[W,A]=w.useState(!1),[ke,Et]=w.useState(""),St=async()=>{try{const V=await Ve.post("https://kjblog-production.up.railway.app:5000/api/auth/register",{username:t,email:n,password:s,isTeam:o,phone:p,name:o?"":l,name1:o?d:"",name2:o?f:"",regno:o?"":x,regno1:o?g:"",regno2:o?b:""});e(V.data.username),r(V.data.email),i(V.data.password),I(!1),z.success("Account created successfully"),P("/login")}catch(V){I(!0),console.log(V)}},Xt=()=>{ke==="kjadmin007"?A(!0):z.error("Incorrect admin password")};return u.jsxs(u.Fragment,{children:[W?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between px-6 md:px-[200px] py-4",children:[u.jsx("h1",{className:"",children:u.jsxs(Ee,{to:"/",children:[u.jsx("h1",{className:"text-lg md:text-2xl font-extrabold font-poppins",children:"Blogging Blitz"}),u.jsx("p",{className:"text-right font-medium text-orange-900",children:"by Kalinga Jyoti"})]})}),u.jsx("h3",{children:u.jsx(Ee,{to:"/login",children:"Login"})})]}),u.jsx("div",{className:"w-full flex justify-center items-center  ",children:u.jsxs("div",{className:"flex flex-col justify-center items-center space-y-4 w-[80%] md:w-[25%]",children:[u.jsx("h1",{className:"text-xl font-bold text-left",children:"Create an account"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:o,onChange:()=>a(!o),className:"mr-2"}),u.jsx("label",{children:"Register as a team"})]}),u.jsx("input",{onChange:V=>e(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter your username"}),!o&&u.jsxs(u.Fragment,{children:[u.jsx("input",{onChange:V=>c(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter your name"}),u.jsx("input",{onChange:V=>_(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter your regno"}),u.jsx("input",{onChange:V=>y(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter your phone"})]}),o&&u.jsxs(u.Fragment,{children:[u.jsx("input",{onChange:V=>h(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter team member 1 name"}),u.jsx("input",{onChange:V=>m(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter team member 2 name"}),u.jsx("input",{onChange:V=>v(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter team member 1 regno"}),u.jsx("input",{onChange:V=>C(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter team member 2 regno"}),u.jsx("input",{onChange:V=>y(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter your phone"})]}),u.jsx("input",{onChange:V=>r(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"text",placeholder:"Enter your email"}),u.jsx("input",{onChange:V=>i(V.target.value),className:"w-full px-4 py-2 border-2 border-black outline-0",type:"password",placeholder:"Enter your password"}),u.jsx("button",{onClick:St,className:"w-full px-4 py-4 text-lg font-bold text-white bg-black rounded-lg hover:bg-gray-500 hover:text-black",children:"Register"}),R&&u.jsx("h3",{className:"text-red-500 text-sm ",children:"Something went wrong"}),u.jsxs("div",{className:"flex justify-center items-center space-x-3",children:[u.jsx("p",{children:"Already have an account?"}),u.jsx("p",{className:"text-gray-500 hover:text-black",children:u.jsx(Ee,{to:"/login",children:"Login"})})]})]})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[u.jsx("p",{className:"text-lg text-center text-gray-700 mb-2",children:"You are not allowed to access this page"}),u.jsx("p",{className:"text-md text-center text-gray-600 mb-6",children:"Login as an admin to continue"}),u.jsx("input",{type:"password",className:"w-64 px-3 py-2 border-2 border-gray-300 rounded-md outline-none focus:border-indigo-500",placeholder:"Enter admin password",onChange:V=>Et(V.target.value)}),u.jsx("button",{onClick:Xt,className:"mt-4 px-4 py-2 text-white bg-indigo-500 rounded hover:bg-indigo-600 focus:outline-none",children:"Submit"})]}),u.jsx(Rr,{})]})};function lT(t){return mn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"}}]})(t)}function Av(t){return mn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(t)}const cT=({c:t,post:e})=>{const{user:n}=w.useContext(Mt),r=async s=>{try{await Ve.delete("https://kjblog-production.up.railway.app:5000/api/comments/"+s,{withCredentials:!0}),window.location.reload(!0)}catch(i){console.log(i)}};return u.jsxs("div",{className:"px-2 py-2 bg-gray-200 rounded-lg my-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"font-bold text-gray-600",children:["@",t.author]}),u.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[u.jsx("p",{children:new Date(t.updatedAt).toString().slice(0,15)}),u.jsx("p",{children:new Date(t.updatedAt).toString().slice(16,24)}),(n==null?void 0:n._id)===(t==null?void 0:t.userId)?u.jsx("div",{className:"flex items-center justify-center space-x-2",children:u.jsx("p",{className:"cursor-pointer",onClick:()=>r(t._id),children:u.jsx(Av,{})})}):""]})]}),u.jsx("p",{className:"px-4 mt-2",children:t.comment})]})},uT=()=>{const t=dc().id,[e,n]=w.useState({}),{user:r}=w.useContext(Mt),[s,i]=w.useState([]),[o,a]=w.useState(""),[l,c]=w.useState(!1),d=Mn(),h=async()=>{try{const x=localStorage.getItem("token"),_=await Ve.get("https://kjblog-production.up.railway.app:5000/api/posts/"+t);n(_.data)}catch{z.error("Failed to fetch post")}},f=x=>{const _=document.cookie.split("; ");for(const g of _){const[v,b]=g.split("=");if(v===x)return b}return null},m=async()=>{try{const x=f("token"),_=await Ve.delete("https://kjblog-production.up.railway.app:5000/api/posts/"+t,{headers:{Authorization:`Bearer ${x}`}});z.success("Post deleted successfully"),d("/")}catch(x){console.log("Error at handleDeletePost: ",x),z.error("Failed to delete post")}};w.useEffect(()=>{h()},[t]);const p=async()=>{c(!0);try{const x=localStorage.getItem("token"),_=await Ve.get("https://kjblog-production.up.railway.app:5000/api/comments/post/"+t,{headers:{Authorization:`Bearer ${x}`}});i(_.data),c(!1)}catch{c(!0),z.error("Failed to fetch comments")}};w.useEffect(()=>{p()},[t]);const y=async x=>{x.preventDefault();try{const _=f("token"),g=await Ve.post("https://kjblog-production.up.railway.app:5000/api/comments/create",{comment:o,author:r.username,postId:t,userId:r._id},{headers:{Authorization:`Bearer ${_}`},withCredentials:!0});window.location.reload(!0)}catch(_){console.log(_)}};return u.jsxs("div",{className:"relative ",children:[u.jsx(hs,{}),u.jsx("div",{className:"pb-16 "}),l?u.jsx("div",{className:"h-[80vh] flex justify-center items-center w-full",children:u.jsx(Ff,{})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-screen w-screen bg-black fixed z-[-2]"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 objec fixed z-[-1] opacity-80"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 fixed z-[-1] right-0 opacity-80"}),u.jsxs("div",{className:" md:mx-40 px-6 pt-8 bg-white",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h1",{className:"text-2xl font-bold text-black md:text-3xl",children:[e.title,(e==null?void 0:e.category)==="Historical"&&u.jsx("p",{className:"text-yellow-500 text-sm font-semibold ",children:"#HISTORICAL"}),(e==null?void 0:e.category)==="Cultural"&&u.jsx("p",{className:"text-cyan-600 text-sm font-semibold ",children:"#CULTURAL"}),(e==null?void 0:e.category)==="Open"&&u.jsx("p",{className:"text-lime-600 text-sm font-semibold ",children:"#OPENCATEGORY"})]}),((r==null?void 0:r._id)===(e==null?void 0:e.userId)||(r==null?void 0:r._id)==="65d95b56e49e83adad786352")&&u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("p",{className:"cursor-pointer",onClick:()=>d("/edit/"+t),children:u.jsx(lT,{})}),u.jsx("p",{className:"cursor-pointer",onClick:m,children:u.jsx(Av,{})})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-2 md:mt-4",children:[u.jsxs("p",{children:["@",e.username]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("p",{children:new Date(e.updatedAt).toString().slice(0,15)}),u.jsx("p",{children:new Date(e.updatedAt).toString().slice(16,24)})]})]}),e.introductionImage?u.jsx("img",{src:e.introductionImage||"/bg3.png",className:"w-full mx-auto mt-8 rounded-sm h-64 object-cover",alt:"Introduction"}):u.jsx("img",{src:"/bg3.png",className:"w-full mx-auto mt-8 rounded-sm h-64 object-cove",alt:"Placeholder Image"}),((r==null?void 0:r._id)===(e==null?void 0:e.userId)||(r==null?void 0:r._id)==="65d95b56e49e83adad786352")&&u.jsxs(u.Fragment,{children:[u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Introduction"}),u.jsx("p",{className:"px-4 pb-2",children:e.introduction})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Description"}),u.jsx("p",{className:"px-4 pb-2",children:e.desc})]}),u.jsx("div",{className:"flex h-56 overflow-hidden",children:e.blogImages&&e.blogImages.map((x,_)=>u.jsx("img",{src:x,className:" mt-8 object-cover",alt:`Blog Image ${_+1}`},_))}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Blog Body"}),u.jsx("p",{className:"px-4 pb-2",children:e.body})]}),e.subBodyImage&&u.jsx("img",{src:e.subBodyImage||"/bg3.png",className:"w-full mx-auto mt-8 h-64 rounded-sm object-cover",alt:"Introduction"}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Sub Body"}),u.jsx("p",{className:"px-4 pb-2",children:e.subBody})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Conclusion"}),u.jsx("p",{className:"px-4 pb-2",children:e.conclusion})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"FAQs"}),u.jsx("p",{className:"px-4 pb-2",children:e.faqs})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Writer Details"}),u.jsx("p",{className:"px-4 pb-2",children:e.writerDetails})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Sources"}),u.jsx("p",{className:"px-4 pb-2",children:e.sources})]})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2 rounded-lg bg-white ",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:u.jsx("h3",{className:"font-semibold",children:"Comments"})}),s==null?void 0:s.map(x=>u.jsx(cT,{c:x,post:e},x._id)),u.jsxs("div",{className:"w-full flex flex-col mt-4 md:flex-row",children:[u.jsx("input",{onChange:x=>a(x.target.value),type:"text",placeholder:"Write a comment",className:"md:w-[80%] outline-none py-2 px-4 mt-4 md:mt-0"}),u.jsx("button",{onClick:y,className:"bg-black text-sm text-white px-2 py-2 md:w-[20%] mt-4 md:mt-0",children:"Add Comment"})]})]}),u.jsx("div",{className:"pb-4"})]})]}),u.jsx(Rr,{})]})};function Vs(t){return mn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm86.63 272L320 342.63l-64-64-64 64L169.37 320l64-64-64-64L192 169.37l64 64 64-64L342.63 192l-64 64z"}}]})(t)}const dT="modulepreload",hT=function(t){return"/"+t},gg={},si=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=hT(i),i in gg)return;gg[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":dT,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},fT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>si(()=>Promise.resolve().then(()=>_i),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class $f extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class pT extends $f{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mT extends $f{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gT extends $f{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var eh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(eh||(eh={}));var _T=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class yT{constructor(e,{headers:n={},customFetch:r,region:s=eh.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=fT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return _T(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(p=>{throw new pT(p)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new mT(d);if(!d.ok)throw new gT(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var st={},Bf={},yc={},Zo={},vc={},wc={},vT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ii=vT();const wT=ii.fetch,Dv=ii.fetch.bind(ii),Lv=ii.Headers,xT=ii.Request,bT=ii.Response,_i=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lv,Request:xT,Response:bT,default:Dv,fetch:wT},Symbol.toStringTag,{value:"Module"})),ET=w1(_i);var xc={};Object.defineProperty(xc,"__esModule",{value:!0});let ST=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xc.default=ST;var Mv=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wc,"__esModule",{value:!0});const CT=Mv(ET),kT=Mv(xc);let TT=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=CT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=_:d=JSON.parse(_))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,m="OK")}catch{i.status===404&&y===""?(f=204,m="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new kT.default(c)}return{error:c,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};wc.default=TT;var NT=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vc,"__esModule",{value:!0});const RT=NT(wc);let IT=class extends RT.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vc.default=IT;var PT=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});const jT=PT(vc);let OT=class extends jT.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Zo.default=OT;var AT=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yc,"__esModule",{value:!0});const Di=AT(Zo);let DT=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Di.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Di.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Di.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yc.default=DT;var bc={},Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.version=void 0;Ec.version="0.0.0-automated";Object.defineProperty(bc,"__esModule",{value:!0});bc.DEFAULT_HEADERS=void 0;const LT=Ec;bc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${LT.version}`};var Uv=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bf,"__esModule",{value:!0});const MT=Uv(yc),UT=Uv(Zo),FT=bc;let $T=class Fv{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},FT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new MT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Fv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new UT.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Bf.default=$T;var yi=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(st,"__esModule",{value:!0});st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const $v=yi(Bf);st.PostgrestClient=$v.default;const Bv=yi(yc);st.PostgrestQueryBuilder=Bv.default;const zv=yi(Zo);st.PostgrestFilterBuilder=zv.default;const Hv=yi(vc);st.PostgrestTransformBuilder=Hv.default;const Wv=yi(wc);st.PostgrestBuilder=Wv.default;const Vv=yi(xc);st.PostgrestError=Vv.default;var BT=st.default={PostgrestClient:$v.default,PostgrestQueryBuilder:Bv.default,PostgrestFilterBuilder:zv.default,PostgrestTransformBuilder:Hv.default,PostgrestBuilder:Wv.default,PostgrestError:Vv.default};const{PostgrestClient:zT,PostgrestQueryBuilder:lD,PostgrestFilterBuilder:cD,PostgrestTransformBuilder:uD,PostgrestBuilder:dD,PostgrestError:hD}=BT,HT="2.11.2",WT={"X-Client-Info":`realtime-js/${HT}`},VT="1.0.0",Gv=1e4,GT=1e3;var Gs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gs||(Gs={}));var ft;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ft||(ft={}));var Ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ht||(Ht={}));var th;(function(t){t.websocket="websocket"})(th||(th={}));var $r;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($r||($r={}));class qT{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class qv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const _g=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=KT(o,t,e,s),i),{})},KT=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Kv(i,o):nh(o)},Kv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return XT(e,n)}switch(t){case se.bool:return QT(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return JT(e);case se.json:case se.jsonb:return YT(e);case se.timestamp:return ZT(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return nh(e);default:return nh(e)}},nh=t=>t,QT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},JT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},YT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},XT=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Kv(e,a))}return t},ZT=t=>typeof t=="string"?t.replace(" ","T"):t,Qv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ru{constructor(e,n,r={},s=Gv){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yg||(yg={}));class no{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=no.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=no.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=no.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),p=d.filter(x=>m.indexOf(x.presence_ref)<0),y=h.filter(x=>f.indexOf(x.presence_ref)<0);p.length>0&&(a[c]=p),y.length>0&&(l[c]=y)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vg||(vg={}));var wg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wg||(wg={}));var vn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vn||(vn={}));class zf{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ru(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new qv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new no(this),this.broadcastEndpointURL=Qv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(vn.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(vn.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(vn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,p=[];for(let y=0;y<m;y++){const x=f[y],{filter:{event:_,schema:g,table:v,filter:b}}=x,C=d&&d[y];if(C&&C.event===_&&C.schema===g&&C.table===v&&C.filter===b)p.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),e==null||e(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(vn.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ht.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ru(this,Ht.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ru(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ht;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,y,x;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,y,x,_,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,C=(p=m.filter)===null||p===void 0?void 0:p.event;return b&&((y=n.ids)===null||y===void 0?void 0:y.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(g=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:y,table:x,commit_timestamp:_,type:g,errors:v}=p;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:_,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(p))}m.callback(f,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&zf.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ht.close,{},e)}_onError(e){this._on(Ht.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_g(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_g(e.columns,e.old_record)),n}}const eN=()=>{},tN=typeof WebSocket<"u",nN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rN{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=WT,this.params={},this.timeout=Gv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eN,this.conn=null,this.sendBuffer=[],this.serializer=new qT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>si(()=>Promise.resolve().then(()=>_i),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${th.websocket}`,this.httpEndpoint=Qv(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(tN){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sN(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),si(()=>import("./browser-30507e6b.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VT}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return $r.Connecting;case Gs.open:return $r.Open;case Gs.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}channel(e,n={config:{}}){const r=new zf(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Ht.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(GT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ht.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([nN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class sN{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}let Hf=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iN extends Hf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rh extends Hf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var oN=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Jv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>si(()=>Promise.resolve().then(()=>_i),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},aN=()=>oN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield si(()=>Promise.resolve().then(()=>_i),void 0)).Response:Response}),sh=t=>{if(Array.isArray(t))return t.map(n=>sh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=sh(r)}),e};var fs=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Iu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lN=(t,e,n)=>fs(void 0,void 0,void 0,function*(){const r=yield aN();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new iN(Iu(s),t.status||500))}).catch(s=>{e(new rh(Iu(s),s))}):e(new rh(Iu(t),t))}),cN=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ea(t,e,n,r,s,i){return fs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,cN(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>lN(l,a,r))})})}function Il(t,e,n,r){return fs(this,void 0,void 0,function*(){return ea(t,"GET",e,n,r)})}function Vn(t,e,n,r,s){return fs(this,void 0,void 0,function*(){return ea(t,"POST",e,r,s,n)})}function uN(t,e,n,r,s){return fs(this,void 0,void 0,function*(){return ea(t,"PUT",e,r,s,n)})}function dN(t,e,n,r){return fs(this,void 0,void 0,function*(){return ea(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Yv(t,e,n,r,s){return fs(this,void 0,void 0,function*(){return ea(t,"DELETE",e,r,s,n)})}var nt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const hN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fN{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Jv(s)}uploadOrUpdate(e,n,r,s){return nt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},xg),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}upload(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return nt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:xg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Hf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}update(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return nt(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}copy(e,n,r){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Vn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return nt(this,void 0,void 0,function*(){try{const s=yield Vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}download(e,n){return nt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Il(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ie(a))return{data:null,error:a};throw a}})}info(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Il(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sh(r),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}exists(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ie(r)&&r instanceof rh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}list(e,n,r){return nt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hN),n),{prefix:e||""});return{data:yield Vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const pN="2.7.1",mN={"X-Client-Info":`storage-js/${pN}`};var xs=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class gN{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},mN),n),this.fetch=Jv(r)}listBuckets(){return xs(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ie(e))return{data:null,error:e};throw e}})}getBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xs(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return xs(this,void 0,void 0,function*(){try{return{data:yield uN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield Vn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield Yv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}}class _N extends gN{constructor(e,n={},r){super(e,n,r)}from(e){return new fN(this.url,this.headers,e,this.fetch)}}const yN="2.48.1";let Gi="";typeof Deno<"u"?Gi="deno":typeof document<"u"?Gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gi="react-native":Gi="node";const vN={"X-Client-Info":`supabase-js-${Gi}/${yN}`},wN={headers:vN},xN={schema:"public"},bN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EN={};var SN=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const CN=t=>{let e;return t?e=t:typeof fetch>"u"?e=Dv:e=fetch,(...n)=>e(...n)},kN=()=>typeof Headers>"u"?Lv:Headers,TN=(t,e,n)=>{const r=CN(n),s=kN();return(i,o)=>SN(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var NN=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function RN(t){return t.replace(/\/$/,"")}function IN(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>NN(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Xv="2.67.3",PN="http://localhost:9999",jN="supabase.auth.token",ON={"X-Client-Info":`gotrue-js/${Xv}`},bg=10,ih="X-Supabase-Api-Version",Zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function AN(t){return Math.round(Date.now()/1e3)+t}function DN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},ro=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function LN(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const ew=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>si(()=>Promise.resolve().then(()=>_i),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},MN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tw=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ra=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ia=async(t,e)=>{await t.removeItem(e)};function UN(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)o=e.indexOf(t.charAt(d++)),a=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}let nw=class rw{constructor(){this.promise=new rw.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};nw.promiseConstructor=Promise;function Eg(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(UN(r))}async function FN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $N(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function BN(t){return("0"+t.toString(16)).substr(-2)}function zN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,BN).join("")}async function HN(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function WN(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function VN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await HN(t);return WN(n)}async function bs(t,e,n=!1){const r=zN();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await tw(t,`${e}-code-verifier`,s);const i=await VN(r);return[i,r===i?"plain":"s256"]}const GN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qN(t){const e=t.headers.get(ih);if(!e||!e.match(GN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Wf extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KN extends Wf{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function QN(t){return F(t)&&t.name==="AuthApiError"}class sw extends Wf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ps extends Wf{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Bn extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JN(t){return F(t)&&t.name==="AuthSessionMissingError"}class Pu extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pa extends ps{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ja extends ps{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YN(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sg extends ps{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oh extends ps{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ju(t){return F(t)&&t.name==="AuthRetryableFetchError"}class Cg extends ps{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var XN=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Mr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ZN=[502,503,504];async function kg(t){var e;if(!MN(t))throw new oh(Mr(t),0);if(ZN.includes(t.status))throw new oh(Mr(t),t.status);let n;try{n=await t.json()}catch(i){throw new sw(Mr(i),i)}let r;const s=qN(t);if(s&&s.getTime()>=Zv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Cg(Mr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Cg(Mr(n),t.status,n.weak_password.reasons);throw new KN(Mr(n),t.status||500,r)}const e2=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function q(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ih]||(i[ih]=Zv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await t2(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function t2(t,e,n,r,s,i){const o=e2(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new oh(Mr(l),0)}if(a.ok||await kg(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await kg(l)}}function zn(t){var e;let n=null;i2(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=AN(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Tg(t){const e=zn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function n2(t){return{data:t,error:null}}function r2(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=XN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function s2(t){return t}function i2(t){return t.access_token&&t.refresh_token&&t.expires_in}var o2=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class a2{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=ew(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=o2(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:r2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(F(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qn})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:s2});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qn})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}const l2={getItem:t=>ro()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ro()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ro()&&globalThis.localStorage.removeItem(t)}};function Ng(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function c2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Es={debug:!!(globalThis&&ro()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class u2 extends iw{}async function d2(t,e,n){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new u2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Es.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}c2();const h2={url:PN,storageKey:jN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ON,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Li=30*1e3,Rg=3;async function Ig(t,e,n){return await n()}class Io{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Io.nextInstanceID,Io.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},h2),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new a2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ew(s.fetch),this.lock=s.lock||Ig,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=d2:this.lock=Ig,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ro()?this.storage=l2:(this.memoryStorage={},this.storage=Ng(this.memoryStorage)):(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=LN(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),tn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YN(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return F(n)?{error:n}:{error:new sw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:zn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await bs(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:zn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zn})}else throw new Pa("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tg})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tg})}else throw new Pa("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Pu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ra(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:zn});if(await Ia(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Pu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await bs(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Pa("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:zn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bs(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:n2})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Bn;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Pa("You must provide either an email or phone number and a type")}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Qn})})}catch(n){if(F(n))return JN(n)&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Bn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bs(this.storage,this.storageKey));const{data:c,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Eg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Eg(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(F(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Bn;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!tn())throw new ja("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ja(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ja("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sg("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ja("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const _={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(F(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(QN(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=DN(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await bs(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(F(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $N(async s=>(s>0&&await FN(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ju(i)&&Date.now()+o-r<Li})}catch(r){if(this._debug(n,"error",r),F(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),tn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ra(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+bg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${bg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ju(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new nw;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={session:null,error:i};return ju(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tw(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ia(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Li}ms, refresh threshold is ${Rg} ticks`),s<=Rg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof iw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await bs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Io.nextInstanceID=0;const f2=Io;class p2 extends f2{constructor(e){super(e)}}var m2=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class g2{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=RN(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:xN,realtime:EN,auth:Object.assign(Object.assign({},bN),{storageKey:l}),global:wN},d=IN(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=TN(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new zT(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new yT(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _N(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return m2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p2({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new rN(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _2=(t,e,n)=>new g2(t,e,n),y2="https://jyhtkujmywvwubtrinde.supabase.co",v2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5aHRrdWpteXd2d3VidHJpbmRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzkwOTE2MzcsImV4cCI6MjA1NDY2NzYzN30.RnqQwNwlAabwD7GbmHgxBBT0C4JvOxk277Lv198Sts4",Pg=_2(y2,v2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(t,e){if(!t)throw vi(e)},vi=function(t){return new Error("Firebase Database ("+ow.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},w2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new x2;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lw=function(t){const e=aw(t);return Vf.encodeByteArray(e,!0)},Pl=function(t){return lw(t).replace(/\./g,"")},ah=function(t){try{return Vf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){return Po(void 0,t)}function Po(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!E2(n)||(t[n]=Po(t[n],e[n]));return t}function E2(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=()=>S2().__FIREBASE_DEFAULTS__,k2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ah(t[1]);return e&&JSON.parse(e)},cw=()=>{try{return C2()||k2()||T2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uw=()=>{var t;return(t=cw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Pl(JSON.stringify(n)),Pl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N2())}function R2(){var t;const e=(t=cw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I2(){return typeof self=="object"&&self.self===self}function P2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fw(){return ow.NODE_ADMIN===!0}function j2(){try{return typeof indexedDB=="object"}catch{return!1}}function O2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="FirebaseError";class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A2,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?D2(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ms(s,a,r)}}function D2(t,e){return t.replace(L2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const L2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){return JSON.parse(t)}function Ne(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=jo(ah(i[0])||""),n=jo(ah(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},M2=function(t){const e=pw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},U2=function(t){const e=pw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ts(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ch(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(jg(i)&&jg(o)){if(!ch(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):h<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const f=(s<<5|s>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function B2(t,e){const n=new z2(t,e);return n.subscribe.bind(n)}class z2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ou),s.error===void 0&&(s.error=Ou),s.complete===void 0&&(s.complete=Ou);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ou(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(t,e,n,r){let s;if(r<e?s="at least "+e:r>n&&(s=n===0?"none":"no more than "+n),s){const i=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+s+".";throw new Error(i)}};function dt(t,e){return`${t} failed: ${e} argument `}function Oe(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(dt(t,e)+"must be a valid function.")}function Og(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(dt(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,T(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Cc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t){return t&&t._delegate?t._delegate:t}class Jt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new it;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G2(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V2(t){return t===Ur?void 0:t}function G2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=[];var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const gw={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},q2=ne.INFO,K2={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Q2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=K2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kc{constructor(e){this.name=e,this._logLevel=q2,this._logHandler=Q2,this._userLogHandler=null,Gf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}function J2(t){Gf.forEach(e=>{e.setLogLevel(t)})}function Y2(t,e){for(const n of Gf){let r=null;e&&e.level&&(r=gw[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");i>=(r??s.logLevel)&&t({level:ne[i].toLowerCase(),message:a,args:o,type:s.name})}}}const X2=(t,e)=>e.some(n=>t instanceof n);let Ag,Dg;function Z2(){return Ag||(Ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eR(){return Dg||(Dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _w=new WeakMap,dh=new WeakMap,yw=new WeakMap,Au=new WeakMap,qf=new WeakMap;function tR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(hr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_w.set(n,t)}).catch(()=>{}),qf.set(e,t),e}function nR(t){if(dh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});dh.set(t,e)}let hh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rR(t){hh=t(hh)}function sR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Du(this),e,...n);return yw.set(r,e.sort?e.sort():[e]),hr(r)}:eR().includes(t)?function(...e){return t.apply(Du(this),e),hr(_w.get(this))}:function(...e){return hr(t.apply(Du(this),e))}}function iR(t){return typeof t=="function"?sR(t):(t instanceof IDBTransaction&&nR(t),X2(t,Z2())?new Proxy(t,hh):t)}function hr(t){if(t instanceof IDBRequest)return tR(t);if(Au.has(t))return Au.get(t);const e=iR(t);return e!==t&&(Au.set(t,e),qf.set(e,t)),e}const Du=t=>qf.get(t);function oR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=hr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hr(o.result),l.oldVersion,l.newVersion,hr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const aR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],Lu=new Map;function Lg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lu.get(e))return Lu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aR.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Lu.set(e,i),i}rR(t=>({...t,get:(e,n,r)=>Lg(e,n)||t.get(e,n,r),has:(e,n)=>!!Lg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",Mg="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new kc("@firebase/app"),dR="@firebase/app-compat",hR="@firebase/analytics-compat",fR="@firebase/analytics",pR="@firebase/app-check-compat",mR="@firebase/app-check",gR="@firebase/auth",_R="@firebase/auth-compat",yR="@firebase/database",vR="@firebase/database-compat",wR="@firebase/functions",xR="@firebase/functions-compat",bR="@firebase/installations",ER="@firebase/installations-compat",SR="@firebase/messaging",CR="@firebase/messaging-compat",kR="@firebase/performance",TR="@firebase/performance-compat",NR="@firebase/remote-config",RR="@firebase/remote-config-compat",IR="@firebase/storage",PR="@firebase/storage-compat",jR="@firebase/firestore",OR="@firebase/firestore-compat",AR="firebase",DR="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="[DEFAULT]",LR={[fh]:"fire-core",[dR]:"fire-core-compat",[fR]:"fire-analytics",[hR]:"fire-analytics-compat",[mR]:"fire-app-check",[pR]:"fire-app-check-compat",[gR]:"fire-auth",[_R]:"fire-auth-compat",[yR]:"fire-rtdb",[vR]:"fire-rtdb-compat",[wR]:"fire-fn",[xR]:"fire-fn-compat",[bR]:"fire-iid",[ER]:"fire-iid-compat",[SR]:"fire-fcm",[CR]:"fire-fcm-compat",[kR]:"fire-perf",[TR]:"fire-perf-compat",[NR]:"fire-rc",[RR]:"fire-rc-compat",[IR]:"fire-gcs",[PR]:"fire-gcs-compat",[jR]:"fire-fst",[OR]:"fire-fst-compat","fire-js":"fire-js",[AR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Map,Oo=new Map;function Ol(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vw(t,e){t.container.addOrOverwriteComponent(e)}function rs(t){const e=t.name;if(Oo.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Oo.set(e,t);for(const n of vr.values())Ol(n,t);return!0}function ww(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function MR(t,e,n=yr){ww(t,e).clearInstance(n)}function UR(){Oo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tn=new Sc("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $R=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=DR;function Kf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yr,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Tn.create("bad-app-name",{appName:String(s)});if(n||(n=uw()),!n)throw Tn.create("no-options");const i=vr.get(s);if(i){if(ch(n,i.options)&&ch(r,i.config))return i;throw Tn.create("duplicate-app",{appName:s})}const o=new mw(s);for(const l of Oo.values())o.addComponent(l);const a=new $R(n,r,o);return vr.set(s,a),a}function BR(t=yr){const e=vr.get(t);if(!e&&t===yr&&uw())return Kf();if(!e)throw Tn.create("no-app",{appName:t});return e}function zR(){return Array.from(vr.values())}async function xw(t){const e=t.name;vr.has(e)&&(vr.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function cn(t,e,n){var r;let s=(r=LR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(a.join(" "));return}rs(new Jt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function bw(t,e){if(t!==null&&typeof t!="function")throw Tn.create("invalid-log-argument");Y2(t,e)}function Ew(t){J2(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firebase-heartbeat-database",WR=1,Ao="firebase-heartbeat-store";let Mu=null;function Sw(){return Mu||(Mu=oR(HR,WR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ao)}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),Mu}async function VR(t){try{return await(await Sw()).transaction(Ao).objectStore(Ao).get(Cw(t))}catch(e){if(e instanceof ms)ns.warn(e.message);else{const n=Tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function Ug(t,e){try{const r=(await Sw()).transaction(Ao,"readwrite");await r.objectStore(Ao).put(e,Cw(t)),await r.done}catch(n){if(n instanceof ms)ns.warn(n.message);else{const r=Tn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function Cw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=1024,qR=30*24*60*60*1e3;class KR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=qR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fg(),{heartbeatsToSend:r,unsentEntries:s}=QR(this._heartbeatsCache.heartbeats),i=Pl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Fg(){return new Date().toISOString().substring(0,10)}function QR(t,e=GR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),$g(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$g(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j2()?O2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $g(t){return Pl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){rs(new Jt("platform-logger",e=>new cR(e),"PRIVATE")),rs(new Jt("heartbeat",e=>new KR(e),"PRIVATE")),cn(fh,Mg,t),cn(fh,Mg,"esm2017"),cn("fire-js","")}YR("");const XR=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ms,SDK_VERSION:Tc,_DEFAULT_ENTRY_NAME:yr,_addComponent:Ol,_addOrOverwriteComponent:vw,_apps:vr,_clearComponents:UR,_components:Oo,_getProvider:ww,_registerComponent:rs,_removeServiceInstance:MR,deleteApp:xw,getApp:BR,getApps:zR,initializeApp:Kf,onLog:bw,registerVersion:cn,setLogLevel:Ew},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this._delegate=e,this.firebase=n,Ol(e,new Jt("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),xw(this._delegate)))}_getService(e,n=yr){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=yr){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ol(this._delegate,e)}_addOrOverwriteComponent(e){vw(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Bg=new Sc("app-compat","Firebase",eI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:cn,setLogLevel:Ew,onLog:bw,apps:null,SDK_VERSION:Tc,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:XR}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function s(c){if(c=c||yr,!vt(e,c))throw Bg.create("no-app",{appName:c});return e[c]}s.App=t;function i(c,d={}){const h=Kf(c,d);if(vt(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,h=d.replace("-compat","");if(rs(c)&&c.type==="PUBLIC"){const f=(m=s())=>{if(typeof m[h]!="function")throw Bg.create("invalid-app-argument",{appName:d});return m[h]()};c.serviceProps!==void 0&&Po(f,c.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,c.multipleInstances?m:[])}}return c.type==="PUBLIC"?n[h]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){const t=tI(ZR);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:kw,extendNamespace:e,createSubscribe:B2,ErrorFactory:Sc,deepExtend:Po});function e(n){Po(t,n)}return t}const nI=kw();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new kc("@firebase/app-compat"),rI="@firebase/app-compat",sI="0.2.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){cn(rI,sI,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(I2()&&self.firebase!==void 0){zg.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&zg.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const wi=nI;iI();var oI="firebase",aI="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.registerVersion(oI,aI,"app-compat");const Hg="@firebase/database",Wg="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tw="";function Nw(t){Tw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ne(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lI(e)}}catch{}return new cI},Wr=Rw("localStorage"),ph=Rw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new kc("@firebase/database"),Iw=function(){let t=1;return function(){return t++}}(),Pw=function(t){const e=W2(t),n=new $2;n.update(e);const r=n.digest();return Vf.encodeByteArray(r)},ta=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ta.apply(null,r):typeof r=="object"?e+=Ne(r):e+=r,e+=" "}return e};let Kr=null,Vg=!0;const jw=function(t,e){T(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qs.logLevel=ne.VERBOSE,Kr=qs.log.bind(qs),e&&ph.set("logging_enabled",!0)):typeof t=="function"?Kr=t:(Kr=null,ph.remove("logging_enabled"))},De=function(...t){if(Vg===!0&&(Vg=!1,Kr===null&&ph.get("logging_enabled")===!0&&jw(!0)),Kr){const e=ta.apply(null,t);Kr(e)}},na=function(t){return function(...e){De(t,...e)}},mh=function(...t){const e="FIREBASE INTERNAL ERROR: "+ta(...t);qs.error(e)},hn=function(...t){const e=`FIREBASE FATAL ERROR: ${ta(...t)}`;throw qs.error(e),new Error(e)},qe=function(...t){const e="FIREBASE WARNING: "+ta(...t);qs.warn(e)},uI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wr="[MIN_NAME]",Dn="[MAX_NAME]",gs=function(t,e){if(t===e)return 0;if(t===wr||e===Dn)return-1;if(e===wr||t===Dn)return 1;{const n=Gg(t),r=Gg(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},hI=function(t,e){return t===e?0:t<e?-1:1},Mi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ne(e))},Qf=function(t){if(typeof t!="object"||t===null)return Ne(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ne(e[r]),n+=":",n+=Qf(t[e[r]]);return n+="}",n},Ow=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Me(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Aw=function(t){T(!Nc(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},fI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const gI=new RegExp("^-?(0*)\\d{1,10}$"),_I=-2147483648,yI=2147483647,Gg=function(t){if(gI.test(t)){const e=Number(t);if(e>=_I&&e<=yI)return e}return null},xi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},vI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},so=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(De("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(e)}}class Ks{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ks.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="5",Dw="v",Lw="s",Mw="r",Uw="f",Fw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$w="ls",Bw="p",gh="ac",zw="websocket",Hw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Vw(t,e,n){T(typeof e=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let r;if(e===zw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Hw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bI(t)&&(n.ns=t.namespace);const s=[];return Me(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.counters_={}}incrementCounter(e,n=1){vt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return b2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={},Fu={};function Yf(t){const e=t.toString();return Uu[e]||(Uu[e]=new EI),Uu[e]}function SI(t,e){const n=t.toString();return Fu[n]||(Fu[n]=e()),Fu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&xi(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="start",kI="close",TI="pLPCommand",NI="pRTLPCB",Gw="id",qw="pw",Kw="ser",RI="cb",II="seg",PI="ts",jI="d",OI="dframe",Qw=1870,Jw=30,AI=Qw-Jw,DI=25e3,LI=3e4;class Zn{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=na(e),this.stats_=Yf(n),this.urlFn=l=>(this.appCheckToken&&(l[gh]=this.appCheckToken),Vw(n,Hw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LI)),dI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xf((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===qg)this.id=a,this.password=l;else if(o===kI)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[qg]="t",r[Kw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[RI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Dw]=Jf,this.transportSessionId&&(r[Lw]=this.transportSessionId),this.lastSessionId&&(r[$w]=this.lastSessionId),this.applicationId&&(r[Bw]=this.applicationId),this.appCheckToken&&(r[gh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fw.test(location.hostname)&&(r[Mw]=Uw);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zn.forceAllow_=!0}static forceDisallow(){Zn.forceDisallow_=!0}static isAvailable(){return Zn.forceAllow_?!0:!Zn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fI()&&!pI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lw(n),s=Ow(r,AI);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[OI]="t",r[Gw]=e,r[qw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ne(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xf{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Iw(),window[TI+this.uniqueCallbackIdentifier]=e,window[NI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xf.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){De("frame writing exception"),a.stack&&De(a.stack),De(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||De("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Gw]=this.myID,e[qw]=this.myPW,e[Kw]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Jw+r.length<=Qw;){const o=this.pendingSegs.shift();r=r+"&"+II+s+"="+o.seg+"&"+PI+s+"="+o.ts+"&"+jI+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(DI)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{De("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=16384,UI=45e3;let Al=null;typeof MozWebSocket<"u"?Al=MozWebSocket:typeof WebSocket<"u"&&(Al=WebSocket);class Tt{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=na(this.connId),this.stats_=Yf(n),this.connURL=Tt.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Dw]=Jf,typeof location<"u"&&location.hostname&&Fw.test(location.hostname)&&(o[Mw]=Uw),n&&(o[Lw]=n),r&&(o[$w]=r),s&&(o[gh]=s),i&&(o[Bw]=i),Vw(e,zw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wr.set("previous_websocket_failure",!0);try{let r;fw(),this.mySock=new Al(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Tt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Al!==null&&!Tt.forceDisallow_}static previouslyFailed(){return Wr.isInMemoryStorage||Wr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ow(n,MI);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tt.responsesRequiredToBeHealthy=2;Tt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zn,Tt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Tt&&Tt.isAvailable();let r=n&&!Tt.previouslyFailed();if(e.webSocketOnly&&(n||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tt];else{const s=this.transports_=[];for(const i of oi.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);oi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}oi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=6e4,$I=5e3,BI=10*1024,zI=100*1024,$u="t",Kg="d",HI="s",Qg="r",WI="e",Jg="o",Yg="a",Xg="n",Zg="p",VI="h";class GI{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=na("c:"+this.id+":"),this.transportManager_=new oi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=so(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($u in e){const n=e[$u];n===Yg?this.upgradeIfSecondaryHealthy_():n===Qg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mi("t",e),r=Mi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Xg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mi("t",e),r=Mi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mi($u,e);if(Kg in e){const r=e[Kg];if(n===VI){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Xg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HI?this.onConnectionShutdown_(r):n===Qg?this.onReset_(r):n===WI?mh("Server Error: "+r):n===Jg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jf!==r&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),so(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):so(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($I))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){T(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Xw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dl}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=32,t_=768;class ee{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Z(){return new ee("")}function $(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xr(t){return t.pieces_.length-t.pieceNum_}function re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ee(t.pieces_,e)}function Zf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Do(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Zw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ee(e,0)}function he(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ee(n,0)}function B(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){const n=$(t),r=$(e);if(n===null)return e;if(n===r)return Xe(re(t),re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function KI(t,e){const n=Do(t,0),r=Do(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=gs(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function ep(t,e){if(xr(t)!==xr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(xr(t)>xr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class QI{constructor(e,n){this.errorPrefix_=n,this.parts_=Do(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Cc(this.parts_[r]);ex(this)}}function JI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Cc(e),ex(t)}function YI(t){const e=t.parts_.pop();t.byteLength_-=Cc(e),t.parts_.length>0&&(t.byteLength_-=1)}function ex(t){if(t.byteLength_>t_)throw new Error(t.errorPrefix_+"has a key path longer than "+t_+" bytes ("+t.byteLength_+").");if(t.parts_.length>e_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e_+") or object contains a cycle "+Fr(t))}function Fr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Xw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new tp}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=1e3,XI=60*5*1e3,n_=30*1e3,ZI=1.3,eP=3e4,tP="server_kill",r_=3;class Nn extends Yw{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Nn.nextPersistentConnectionId_++,this.log_=na("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ui,this.maxReconnectDelay_=XI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!fw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Dl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Ne(i)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new it,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Nn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vt(e,"w")){const r=ts(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||U2(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=n_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=M2(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ne(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):mh("Unrecognized action received from server: "+Ne(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eP&&(this.reconnectDelay_=Ui),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Nn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){T(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?De("getToken() completed but was canceled"):(De("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new GI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{qe(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(tP)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&qe(h),l())}}}interrupt(e){De("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){De("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lh(this.interruptReasons_)&&(this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Qf(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ee(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){De("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=r_&&(this.reconnectDelay_=n_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){De("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=r_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Tw.replace(/\./g,"-")]=1,hw()?e["framework.cordova"]=1:P2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Dl.getInstance().currentlyOnline();return lh(this.interruptReasons_)&&e}}Nn.nextPersistentConnectionId_=0;Nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new H(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new H(wr,e),s=new H(wr,n);return this.compare(r,s)!==0}minPost(){return H.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa;class tx extends Rc{static get __EMPTY_NODE(){return Oa}static set __EMPTY_NODE(e){Oa=e}compare(e,n){return gs(e.name,n.name)}isDefinedOn(e){throw vi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return H.MIN}maxPost(){return new H(Dn,Oa)}makePost(e,n){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new H(e,Oa)}toString(){return".key"}}const un=new tx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ae{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ae.RED,this.left=s??at.EMPTY_NODE,this.right=i??at.EMPTY_NODE}copy(e,n,r,s,i){return new Ae(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ae.RED=!0;Ae.BLACK=!1;class nP{copy(e,n,r,s,i){return this}insert(e,n,r){return new Ae(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(e,n=at.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new at(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))}remove(e){return new at(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ae.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Aa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Aa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Aa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Aa(this.root_,null,this.comparator_,!0,e)}}at.EMPTY_NODE=new nP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t,e){return gs(t.name,e.name)}function np(t,e){return gs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;function sP(t){_h=t}const nx=function(t){return typeof t=="number"?"number:"+Aw(t):"string:"+t},rx=function(t){if(t.isLeafNode()){const e=t.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vt(e,".sv"),"Priority must be a string or number.")}else T(t===_h||t.isEmpty(),"priority of unexpected type.");T(t===_h||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_;class Pe{constructor(e,n=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rx(this.priorityNode_)}static set __childrenNodeConstructor(e){s_=e}static get __childrenNodeConstructor(){return s_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return B(e)?this:$(e)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=$(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(T(r!==".priority"||xr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nx(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Aw(this.value_):e+=this.value_,this.lazyHash_=Pw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Pe.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Pe.VALUE_TYPE_ORDER.indexOf(n),i=Pe.VALUE_TYPE_ORDER.indexOf(r);return T(s>=0,"Unknown leaf type: "+n),T(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sx,ix;function iP(t){sx=t}function oP(t){ix=t}class aP extends Rc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?gs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return H.MIN}maxPost(){return new H(Dn,new Pe("[PRIORITY-POST]",ix))}makePost(e,n){const r=sx(e);return new H(n,new Pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ae=new aP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=Math.log(2);class cP{constructor(e){const n=i=>parseInt(Math.log(i)/lP,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ll=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new Ae(f,h.node,Ae.BLACK,null,null);{const m=parseInt(d/2,10)+l,p=s(l,m),y=s(m+1,c);return h=t[m],f=n?n(h):h,new Ae(f,h.node,Ae.BLACK,p,y)}},i=function(l){let c=null,d=null,h=t.length;const f=function(p,y){const x=h-p,_=h;h-=p;const g=s(x+1,_),v=t[x],b=n?n(v):v;m(new Ae(b,v.node,y,null,g))},m=function(p){c?(c.left=p,c=p):(d=p,c=p)};for(let p=0;p<l.count;++p){const y=l.nextBitIsOne(),x=Math.pow(2,l.count-(p+1));y?f(x,Ae.BLACK):(f(x,Ae.BLACK),f(x,Ae.RED))}return d},o=new cP(t.length),a=i(o);return new at(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;const Ss={};class Sn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return T(Ss&&ae,"ChildrenNode.ts has not been loaded"),Bu=Bu||new Sn({".priority":Ss},{".priority":ae}),Bu}get(e){const n=ts(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof at?n:null}hasIndex(e){return vt(this.indexSet_,e.toString())}addIndex(e,n){T(e!==un,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(H.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Ll(r,e.getCompare()):a=Ss;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Sn(d,c)}addToIndexes(e,n){const r=jl(this.indexes_,(s,i)=>{const o=ts(this.indexSet_,i);if(T(o,"Missing index implementation for "+i),s===Ss)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(H.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ll(a,o.getCompare())}else return Ss;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new H(e.name,a))),l.insert(e,e.node)}});return new Sn(r,this.indexSet_)}removeFromIndexes(e,n){const r=jl(this.indexes_,s=>{if(s===Ss)return s;{const i=n.get(e.name);return i?s.remove(new H(e.name,i)):s}});return new Sn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi;class D{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rx(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fi||(Fi=new D(new at(np),null,Sn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fi}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Fi:n}}getChild(e){const n=$(e);return n===null?this:this.getImmediateChild(n).getChild(re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(T(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new H(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Fi:this.priorityNode_;return new D(s,o,i)}}updateChild(e,n){const r=$(e);if(r===null)return n;{T($(e)!==".priority"||xr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(re(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(ae,(o,a)=>{n[o]=a.val(e),r++,i&&D.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+nx(this.getPriority().val())+":"),this.forEachChild(ae,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Pw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new H(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new H(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new H(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,H.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,H.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ra?-1:0}withIndex(e){if(e===un||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===un||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ae),s=n.getIterator(ae);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===un?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class uP extends D{constructor(){super(new at(np),D.EMPTY_NODE,Sn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const ra=new uP;Object.defineProperties(H,{MIN:{value:new H(wr,D.EMPTY_NODE)},MAX:{value:new H(Dn,ra)}});tx.__EMPTY_NODE=D.EMPTY_NODE;Pe.__childrenNodeConstructor=D;sP(ra);oP(ra);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=!0;function pe(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Pe(n,pe(e))}if(!(t instanceof Array)&&dP){const n=[];let r=!1;if(Me(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=pe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new H(o,l)))}}),n.length===0)return D.EMPTY_NODE;const i=Ll(n,rP,o=>o.name,np);if(r){const o=Ll(n,ae.getCompare());return new D(i,pe(e),new Sn({".priority":o},{".priority":ae}))}else return new D(i,pe(e),Sn.Default)}else{let n=D.EMPTY_NODE;return Me(t,(r,s)=>{if(vt(t,r)&&r.substring(0,1)!=="."){const i=pe(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(pe(e))}}iP(pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends Rc{constructor(e){super(),this.indexPath_=e,T(!B(e)&&$(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?gs(e.name,n.name):i}makePost(e,n){const r=pe(e),s=D.EMPTY_NODE.updateChild(this.indexPath_,r);return new H(n,s)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,ra);return new H(Dn,e)}toString(){return Do(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP extends Rc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?gs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return H.MIN}maxPost(){return H.MAX}makePost(e,n){const r=pe(e);return new H(n,r)}toString(){return".value"}}const sp=new hP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){return{type:"value",snapshotNode:t}}function ai(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Lo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Mo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Lo(n,a)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ai(n,r)):o.trackChildChange(Mo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ae,(s,i)=>{n.hasChild(s)||r.trackChildChange(Lo(s,i))}),n.isLeafNode()||n.forEachChild(ae,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Mo(s,i,o))}else r.trackChildChange(ai(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.indexedFilter_=new ip(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Uo.getStartPost_(e),this.endPost_=Uo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new H(n,r))||(r=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=D.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(D.EMPTY_NODE);const i=this;return n.forEachChild(ae,(o,a)=>{i.matches(new H(o,a))||(s=s.updateImmediateChild(o,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Uo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new H(n,r))||(r=D.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=D.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(D.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,m)=>h(m,f)}else o=this.index_.getCompare();const a=e;T(a.numChildren()===this.limit_,"");const l=new H(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,l);if(d&&!r.isEmpty()&&m>=0)return i!=null&&i.trackChildChange(Mo(n,r,h)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Lo(n,h));const y=a.updateImmediateChild(n,D.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(ai(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Lo(c.name,c.node)),i.trackChildChange(ai(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wr}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ae}copy(){const e=new Ic;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mP(t){return t.loadsAllData()?new ip(t.getIndex()):t.hasLimit()?new pP(t):new Uo(t)}function gP(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function _P(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function yh(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function yP(t,e,n){let r;return t.index_===un||n?r=yh(t,e,n):r=yh(t,e,Dn),r.startAfterSet_=!0,r}function vh(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function vP(t,e,n){let r;return t.index_===un||n?r=vh(t,e,n):r=vh(t,e,wr),r.endBeforeSet_=!0,r}function Pc(t,e){const n=t.copy();return n.index_=e,n}function i_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ae?n="$priority":t.index_===sp?n="$value":t.index_===un?n="$key":(T(t.index_ instanceof rp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ne(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ne(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ne(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ne(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ne(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function o_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ae&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Yw{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=na("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ml.getListenId_(e,r),a={};this.listens_[o]=a;const l=i_(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),ts(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Ml.getListenId_(e,n);delete this.listens_[r]}get(e){const n=i_(e._queryParams),r=e._path.toString(),s=new it;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+F2(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=jo(a.responseText)}catch{qe("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qe("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(){return{value:null,children:new Map}}function bi(t,e,n){if(B(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=$(e);t.children.has(r)||t.children.set(r,Ul());const s=t.children.get(r);e=re(e),bi(s,e,n)}}function wh(t,e){if(B(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ae,(r,s)=>{bi(t,new ee(r),s)}),wh(t,e)}}else if(t.children.size>0){const n=$(e);return e=re(e),t.children.has(n)&&wh(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function xh(t,e,n){t.value!==null?n(e,t.value):xP(t,(r,s)=>{const i=new ee(e.toString()+"/"+r);xh(s,i,n)})}function xP(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Me(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=10*1e3,EP=30*1e3,SP=5*60*1e3;class CP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bP(e);const r=a_+(EP-a_)*Math.random();so(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Me(e,(s,i)=>{i>0&&vt(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),so(this.reportStats_.bind(this),Math.floor(Math.random()*2*SP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vt||(Vt={}));function op(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ap(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vt.ACK_USER_WRITE,this.source=op()}operationForChild(e){if(B(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ee(e));return new Fl(Z(),n,this.revert)}}else return T($(this.path)===e,"operationForChild called for unrelated child."),new Fl(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.source=e,this.path=n,this.type=Vt.LISTEN_COMPLETE}operationForChild(e){return B(this.path)?new Fo(this.source,Z()):new Fo(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vt.OVERWRITE}operationForChild(e){return B(this.path)?new ss(this.source,Z(),this.snap.getImmediateChild(e)):new ss(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vt.MERGE}operationForChild(e){if(B(this.path)){const n=this.children.subtree(new ee(e));return n.isEmpty()?null:n.value?new ss(this.source,Z(),n.value):new li(this.source,Z(),n)}else return T($(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new li(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(B(e))return this.isFullyInitialized()&&!this.filtered_;const n=$(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function TP(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(fP(o.childName,o.snapshotNode))}),$i(t,s,"child_removed",e,r,n),$i(t,s,"child_added",e,r,n),$i(t,s,"child_moved",i,r,n),$i(t,s,"child_changed",e,r,n),$i(t,s,"value",e,r,n),s}function $i(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>RP(t,a,l)),o.forEach(a=>{const l=NP(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function NP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function RP(t,e,n){if(e.childName==null||n.childName==null)throw vi("Should only compare child_ events.");const r=new H(e.childName,e.snapshotNode),s=new H(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e){return{eventCache:t,serverCache:e}}function io(t,e,n,r){return jc(new br(e,n,r),t.serverCache)}function ax(t,e,n,r){return jc(t.eventCache,new br(e,n,r))}function $l(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function is(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;const IP=()=>(zu||(zu=new at(hI)),zu);class ie{constructor(e,n=IP()){this.value=e,this.children=n}static fromObject(e){let n=new ie(null);return Me(e,(r,s)=>{n=n.set(new ee(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(B(e))return null;{const r=$(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(re(e),n);return i!=null?{path:he(new ee(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(B(e))return this;{const n=$(e),r=this.children.get(n);return r!==null?r.subtree(re(e)):new ie(null)}}set(e,n){if(B(e))return new ie(n,this.children);{const r=$(e),i=(this.children.get(r)||new ie(null)).set(re(e),n),o=this.children.insert(r,i);return new ie(this.value,o)}}remove(e){if(B(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=$(e),r=this.children.get(n);if(r){const s=r.remove(re(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ie(null):new ie(this.value,i)}else return this}}get(e){if(B(e))return this.value;{const n=$(e),r=this.children.get(n);return r?r.get(re(e)):null}}setTree(e,n){if(B(e))return n;{const r=$(e),i=(this.children.get(r)||new ie(null)).setTree(re(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ie(this.value,o)}}fold(e){return this.fold_(Z(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(he(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Z(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(B(e))return null;{const i=$(e),o=this.children.get(i);return o?o.findOnPath_(re(e),he(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Z(),n)}foreachOnPath_(e,n,r){if(B(e))return this;{this.value&&r(n,this.value);const s=$(e),i=this.children.get(s);return i?i.foreachOnPath_(re(e),he(n,s),r):new ie(null)}}foreach(e){this.foreach_(Z(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(he(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new ie(null))}}function oo(t,e,n){if(B(e))return new Kt(new ie(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Xe(s,e);return i=i.updateChild(o,n),new Kt(t.writeTree_.set(s,i))}else{const s=new ie(n),i=t.writeTree_.setTree(e,s);return new Kt(i)}}}function bh(t,e,n){let r=t;return Me(n,(s,i)=>{r=oo(r,he(e,s),i)}),r}function l_(t,e){if(B(e))return Kt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new Kt(n)}}function Eh(t,e){return _s(t,e)!=null}function _s(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function c_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ae,(r,s)=>{e.push(new H(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new H(r,s.value))}),e}function fr(t,e){if(B(e))return t;{const n=_s(t,e);return n!=null?new Kt(new ie(n)):new Kt(t.writeTree_.subtree(e))}}function Sh(t){return t.writeTree_.isEmpty()}function ci(t,e){return lx(Z(),t.writeTree_,e)}function lx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(T(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=lx(he(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(he(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e){return hx(e,t)}function PP(t,e,n,r,s){T(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=oo(t.visibleWrites,e,n)),t.lastWriteId=r}function jP(t,e,n,r){T(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=bh(t.visibleWrites,e,n),t.lastWriteId=r}function OP(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function AP(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);T(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&DP(a,r.path)?s=!1:Rt(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return LP(t),!0;if(r.snap)t.visibleWrites=l_(t.visibleWrites,r.path);else{const a=r.children;Me(a,l=>{t.visibleWrites=l_(t.visibleWrites,he(r.path,l))})}return!0}else return!1}function DP(t,e){if(t.snap)return Rt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rt(he(t.path,n),e))return!0;return!1}function LP(t){t.visibleWrites=cx(t.allWrites,MP,Z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MP(t){return t.visible}function cx(t,e,n){let r=Kt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Rt(n,o)?(a=Xe(n,o),r=oo(r,a,i.snap)):Rt(o,n)&&(a=Xe(o,n),r=oo(r,Z(),i.snap.getChild(a)));else if(i.children){if(Rt(n,o))a=Xe(n,o),r=bh(r,a,i.children);else if(Rt(o,n))if(a=Xe(o,n),B(a))r=bh(r,Z(),i.children);else{const l=ts(i.children,$(a));if(l){const c=l.getChild(re(a));r=oo(r,Z(),c)}}}else throw vi("WriteRecord should have .snap or .children")}}return r}function ux(t,e,n,r,s){if(!r&&!s){const i=_s(t.visibleWrites,e);if(i!=null)return i;{const o=fr(t.visibleWrites,e);if(Sh(o))return n;if(n==null&&!Eh(o,Z()))return null;{const a=n||D.EMPTY_NODE;return ci(o,a)}}}else{const i=fr(t.visibleWrites,e);if(!s&&Sh(i))return n;if(!s&&n==null&&!Eh(i,Z()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Rt(c.path,e)||Rt(e,c.path))},a=cx(t.allWrites,o,e),l=n||D.EMPTY_NODE;return ci(a,l)}}}function UP(t,e,n){let r=D.EMPTY_NODE;const s=_s(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ae,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=fr(t.visibleWrites,e);return n.forEachChild(ae,(o,a)=>{const l=ci(fr(i,new ee(o)),a);r=r.updateImmediateChild(o,l)}),c_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=fr(t.visibleWrites,e);return c_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function FP(t,e,n,r,s){T(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=he(e,n);if(Eh(t.visibleWrites,i))return null;{const o=fr(t.visibleWrites,i);return Sh(o)?s.getChild(n):ci(o,s.getChild(n))}}function $P(t,e,n,r){const s=he(e,n),i=_s(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=fr(t.visibleWrites,s);return ci(o,r.getNode().getImmediateChild(n))}else return null}function BP(t,e){return _s(t.visibleWrites,e)}function zP(t,e,n,r,s,i,o){let a;const l=fr(t.visibleWrites,e),c=_s(l,Z());if(c!=null)a=c;else if(n!=null)a=ci(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&d.length<s;)h(m,r)!==0&&d.push(m),m=f.getNext();return d}else return[]}function HP(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function Bl(t,e,n,r){return ux(t.writeTree,t.treePath,e,n,r)}function cp(t,e){return UP(t.writeTree,t.treePath,e)}function u_(t,e,n,r){return FP(t.writeTree,t.treePath,e,n,r)}function zl(t,e){return BP(t.writeTree,he(t.treePath,e))}function WP(t,e,n,r,s,i){return zP(t.writeTree,t.treePath,e,n,r,s,i)}function up(t,e,n){return $P(t.writeTree,t.treePath,e,n)}function dx(t,e){return hx(he(t.treePath,e),t.writeTree)}function hx(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Mo(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Lo(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,ai(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Mo(r,e.snapshotNode,s.oldSnap));else throw vi("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const fx=new GP;class dp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return up(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:is(this.viewCache_),i=WP(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){return{filter:t}}function KP(t,e){T(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QP(t,e,n,r,s){const i=new VP;let o,a;if(n.type===Vt.OVERWRITE){const c=n;c.source.fromUser?o=Ch(t,e,c.path,c.snap,r,s,i):(T(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!B(c.path),o=Hl(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Vt.MERGE){const c=n;c.source.fromUser?o=YP(t,e,c.path,c.children,r,s,i):(T(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=kh(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Vt.ACK_USER_WRITE){const c=n;c.revert?o=ej(t,e,c.path,r,s,i):o=XP(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Vt.LISTEN_COMPLETE)o=ZP(t,e,n.path,r,i);else throw vi("Unknown operation type: "+n.type);const l=i.getChanges();return JP(e,o,l),{viewCache:o,changes:l}}function JP(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=$l(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ox($l(e)))}}function px(t,e,n,r,s,i){const o=e.eventCache;if(zl(r,n)!=null)return e;{let a,l;if(B(n))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=is(e),d=c instanceof D?c:D.EMPTY_NODE,h=cp(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=Bl(r,is(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=$(n);if(c===".priority"){T(xr(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=u_(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=re(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=u_(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=up(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,s,i):a=o.getNode()}}return io(e,a,o.isFullyInitialized()||B(n),t.filter.filtersNodes())}}function Hl(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(B(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),m,null)}else{const m=$(n);if(!l.isCompleteForPath(n)&&xr(n)>1)return e;const p=re(n),x=l.getNode().getImmediateChild(m).updateChild(p,r);m===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),m,x,p,fx,null)}const h=ax(e,c,l.isFullyInitialized()||B(n),d.filtersNodes()),f=new dp(s,h,i);return px(t,h,n,s,f,a)}function Ch(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new dp(s,e,i);if(B(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=io(e,c,!0,t.filter.filtersNodes());else{const h=$(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=io(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=re(n),m=a.getNode().getImmediateChild(h);let p;if(B(f))p=r;else{const y=d.getCompleteChild(h);y!=null?Zf(f)===".priority"&&y.getChild(Zw(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=D.EMPTY_NODE}if(m.equals(p))l=e;else{const y=t.filter.updateChild(a.getNode(),h,p,f,d,o);l=io(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function d_(t,e){return t.eventCache.isCompleteForChild(e)}function YP(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=he(n,l);d_(e,$(d))&&(a=Ch(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=he(n,l);d_(e,$(d))||(a=Ch(t,a,d,c,s,i,o))}),a}function h_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function kh(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;B(n)?c=r:c=new ie(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),p=h_(t,m,f);l=Hl(t,l,new ee(h),p,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const m=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!m){const p=e.serverCache.getNode().getImmediateChild(h),y=h_(t,p,f);l=Hl(t,l,new ee(h),y,s,i,o,a)}}),l}function XP(t,e,n,r,s,i,o){if(zl(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(B(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hl(t,e,n,l.getNode().getChild(n),s,i,a,o);if(B(n)){let c=new ie(null);return l.getNode().forEachChild(un,(d,h)=>{c=c.set(new ee(d),h)}),kh(t,e,n,c,s,i,a,o)}else return e}else{let c=new ie(null);return r.foreach((d,h)=>{const f=he(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),kh(t,e,n,c,s,i,a,o)}}function ZP(t,e,n,r,s){const i=e.serverCache,o=ax(e,i.getNode(),i.isFullyInitialized()||B(n),i.isFiltered());return px(t,o,n,r,fx,s)}function ej(t,e,n,r,s,i){let o;if(zl(r,n)!=null)return e;{const a=new dp(r,e,s),l=e.eventCache.getNode();let c;if(B(n)||$(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Bl(r,is(e));else{const h=e.serverCache.getNode();T(h instanceof D,"serverChildren would be complete if leaf node"),d=cp(r,h)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=$(n);let h=up(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,re(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,D.EMPTY_NODE,re(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Bl(r,is(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||zl(r,Z())!=null,io(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new ip(r.getIndex()),i=mP(r);this.processor_=qP(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(D.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(D.EMPTY_NODE,a.getNode(),null),d=new br(l,o.isFullyInitialized(),s.filtersNodes()),h=new br(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=jc(h,d),this.eventGenerator_=new kP(this.query_)}get query(){return this.query_}}function nj(t){return t.viewCache_.serverCache.getNode()}function rj(t){return $l(t.viewCache_)}function sj(t,e){const n=is(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!B(e)&&!n.getImmediateChild($(e)).isEmpty())?n.getChild(e):null}function f_(t){return t.eventRegistrations_.length===0}function ij(t,e){t.eventRegistrations_.push(e)}function p_(t,e,n){const r=[];if(n){T(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function m_(t,e,n,r){e.type===Vt.MERGE&&e.source.queryId!==null&&(T(is(t.viewCache_),"We should always have a full cache before handling merges"),T($l(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=QP(t.processor_,s,e,n,r);return KP(t.processor_,i.viewCache),T(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,mx(t,i.changes,i.viewCache.eventCache.getNode(),null)}function oj(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ae,(i,o)=>{r.push(ai(i,o))}),n.isFullyInitialized()&&r.push(ox(n.getNode())),mx(t,r,n.getNode(),e)}function mx(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return TP(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;class gx{constructor(){this.views=new Map}}function aj(t){T(!Wl,"__referenceConstructor has already been defined"),Wl=t}function lj(){return T(Wl,"Reference.ts has not been loaded"),Wl}function cj(t){return t.views.size===0}function hp(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return T(i!=null,"SyncTree gave us an op for an invalid query."),m_(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(m_(o,e,n,r));return i}}function _x(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Bl(n,s?r:null),l=!1;a?l=!0:r instanceof D?(a=cp(n,r),l=!1):(a=D.EMPTY_NODE,l=!1);const c=jc(new br(a,l,!1),new br(r,s,!1));return new tj(e,c)}return o}function uj(t,e,n,r,s,i){const o=_x(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ij(o,n),oj(o,n)}function dj(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Er(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(p_(c,n,r)),f_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(p_(l,n,r)),f_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Er(t)&&i.push(new(lj())(e._repo,e._path)),{removed:i,events:o}}function yx(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function pr(t,e){let n=null;for(const r of t.views.values())n=n||sj(r,e);return n}function vx(t,e){if(e._queryParams.loadsAllData())return Ac(t);{const r=e._queryIdentifier;return t.views.get(r)}}function wx(t,e){return vx(t,e)!=null}function Er(t){return Ac(t)!=null}function Ac(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;function hj(t){T(!Vl,"__referenceConstructor has already been defined"),Vl=t}function fj(){return T(Vl,"Reference.ts has not been loaded"),Vl}let pj=1;class g_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=HP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fp(t,e,n,r,s){return PP(t.pendingWriteTree_,e,n,r,s),s?Ei(t,new ss(op(),e,n)):[]}function mj(t,e,n,r){jP(t.pendingWriteTree_,e,n,r);const s=ie.fromObject(n);return Ei(t,new li(op(),e,s))}function er(t,e,n=!1){const r=OP(t.pendingWriteTree_,e);if(AP(t.pendingWriteTree_,e)){let i=new ie(null);return r.snap!=null?i=i.set(Z(),!0):Me(r.children,o=>{i=i.set(new ee(o),!0)}),Ei(t,new Fl(r.path,i,n))}else return[]}function sa(t,e,n){return Ei(t,new ss(ap(),e,n))}function gj(t,e,n){const r=ie.fromObject(n);return Ei(t,new li(ap(),e,r))}function _j(t,e){return Ei(t,new Fo(ap(),e))}function yj(t,e,n){const r=pp(t,n);if(r){const s=mp(r),i=s.path,o=s.queryId,a=Xe(i,e),l=new Fo(lp(o),a);return gp(t,i,l)}else return[]}function Gl(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||wx(o,e))){const l=dj(o,e,n,r);cj(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(f,m)=>Er(m));if(d&&!h){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const m=xj(f);for(let p=0;p<m.length;++p){const y=m[p],x=y.query,_=Sx(t,y);t.listenProvider_.startListening(ao(x),$o(t,x),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(ao(e),null):c.forEach(f=>{const m=t.queryToTagMap.get(Lc(f));t.listenProvider_.stopListening(ao(f),m)}))}bj(t,c)}return a}function xx(t,e,n,r){const s=pp(t,r);if(s!=null){const i=mp(s),o=i.path,a=i.queryId,l=Xe(o,e),c=new ss(lp(a),l,n);return gp(t,o,c)}else return[]}function vj(t,e,n,r){const s=pp(t,r);if(s){const i=mp(s),o=i.path,a=i.queryId,l=Xe(o,e),c=ie.fromObject(n),d=new li(lp(a),l,c);return gp(t,o,d)}else return[]}function Th(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,m)=>{const p=Xe(f,s);i=i||pr(m,p),o=o||Er(m)});let a=t.syncPointTree_.get(s);a?(o=o||Er(a),i=i||pr(a,Z())):(a=new gx,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=D.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,p)=>{const y=pr(p,Z());y&&(i=i.updateImmediateChild(m,y))}));const c=wx(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Lc(e);T(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=Ej();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const d=Oc(t.pendingWriteTree_,s);let h=uj(a,e,n,d,i,l);if(!c&&!o&&!r){const f=vx(a,e);h=h.concat(Sj(t,e,f))}return h}function Dc(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Xe(o,e),c=pr(a,l);if(c)return c});return ux(s,e,i,n,!0)}function wj(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Xe(c,n);r=r||pr(d,h)});let s=t.syncPointTree_.get(n);s?r=r||pr(s,Z()):(s=new gx,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new br(r,!0,!1):null,a=Oc(t.pendingWriteTree_,e._path),l=_x(s,e,a,i?o.getNode():D.EMPTY_NODE,i);return rj(l)}function Ei(t,e){return bx(e,t.syncPointTree_,null,Oc(t.pendingWriteTree_,Z()))}function bx(t,e,n,r){if(B(t.path))return Ex(t,e,n,r);{const s=e.get(Z());n==null&&s!=null&&(n=pr(s,Z()));let i=[];const o=$(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=dx(r,o);i=i.concat(bx(a,l,c,d))}return s&&(i=i.concat(hp(s,t,r,n))),i}}function Ex(t,e,n,r){const s=e.get(Z());n==null&&s!=null&&(n=pr(s,Z()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=dx(r,o),d=t.operationForChild(o);d&&(i=i.concat(Ex(d,a,l,c)))}),s&&(i=i.concat(hp(s,t,r,n))),i}function Sx(t,e){const n=e.query,r=$o(t,n);return{hashFn:()=>(nj(e)||D.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?yj(t,n._path,r):_j(t,n._path);{const i=mI(s,n);return Gl(t,n,null,i)}}}}function $o(t,e){const n=Lc(e);return t.queryToTagMap.get(n)}function Lc(t){return t._path.toString()+"$"+t._queryIdentifier}function pp(t,e){return t.tagToQueryMap.get(e)}function mp(t){const e=t.indexOf("$");return T(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ee(t.substr(0,e))}}function gp(t,e,n){const r=t.syncPointTree_.get(e);T(r,"Missing sync point for query tag that we're tracking");const s=Oc(t.pendingWriteTree_,e);return hp(r,n,s,null)}function xj(t){return t.fold((e,n,r)=>{if(n&&Er(n))return[Ac(n)];{let s=[];return n&&(s=yx(n)),Me(r,(i,o)=>{s=s.concat(o)}),s}})}function ao(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(fj())(t._repo,t._path):t}function bj(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Lc(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Ej(){return pj++}function Sj(t,e,n){const r=e._path,s=$o(t,e),i=Sx(t,n),o=t.listenProvider_.startListening(ao(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)T(!Er(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!B(c)&&d&&Er(d))return[Ac(d).query];{let f=[];return d&&(f=f.concat(yx(d).map(m=>m.query))),Me(h,(m,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(ao(d),$o(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _p(n)}node(){return this.node_}}class yp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=he(this.path_,e);return new yp(this.syncTree_,n)}node(){return Dc(this.syncTree_,this.path_)}}const Cj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},__=function(t,e,n){if(!t||typeof t!="object")return t;if(T(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Tj(t[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+t)}},Tj=function(t,e,n){t.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&T(!1,"Unexpected increment value: "+r);const s=e.node();if(T(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Cx=function(t,e,n,r){return wp(e,new yp(n,t),r)},vp=function(t,e,n){return wp(t,new _p(e),n)};function wp(t,e,n){const r=t.getPriority().val(),s=__(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=__(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Pe(a,pe(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Pe(s))),o.forEachChild(ae,(a,l)=>{const c=wp(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Mc(t,e){let n=e instanceof ee?e:new ee(e),r=t,s=$(n);for(;s!==null;){const i=ts(r.node.children,s)||{children:{},childCount:0};r=new xp(s,r,i),n=re(n),s=$(n)}return r}function ys(t){return t.node.value}function bp(t,e){t.node.value=e,Nh(t)}function kx(t){return t.node.childCount>0}function Nj(t){return ys(t)===void 0&&!kx(t)}function Uc(t,e){Me(t.node.children,(n,r)=>{e(new xp(n,t,r))})}function Tx(t,e,n,r){n&&!r&&e(t),Uc(t,s=>{Tx(s,e,!0,r)}),n&&r&&e(t)}function Rj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ia(t){return new ee(t.parent===null?t.name:ia(t.parent)+"/"+t.name)}function Nh(t){t.parent!==null&&Ij(t.parent,t.name,t)}function Ij(t,e,n){const r=Nj(n),s=vt(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Nh(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Nh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=/[\[\].#$\/\u0000-\u001F\u007F]/,jj=/[\[\].#$\u0000-\u001F\u007F]/,Hu=10*1024*1024,Fc=function(t){return typeof t=="string"&&t.length!==0&&!Pj.test(t)},Nx=function(t){return typeof t=="string"&&t.length!==0&&!jj.test(t)},Oj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Nx(t)},Bo=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Nc(t)||t&&typeof t=="object"&&vt(t,".sv")},fn=function(t,e,n,r){r&&e===void 0||oa(dt(t,"value"),e,n)},oa=function(t,e,n){const r=n instanceof ee?new QI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fr(r)+" with contents = "+e.toString());if(Nc(e))throw new Error(t+"contains "+e.toString()+" "+Fr(r));if(typeof e=="string"&&e.length>Hu/3&&Cc(e)>Hu)throw new Error(t+"contains a string greater than "+Hu+" utf8 bytes "+Fr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Me(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Fc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JI(r,o),oa(t,a,r),YI(r)}),s&&i)throw new Error(t+' contains ".value" child '+Fr(r)+" in addition to actual children.")}},Aj=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Do(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Fc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(KI);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Rt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},Rx=function(t,e,n,r){if(r&&e===void 0)return;const s=dt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Me(e,(o,a)=>{const l=new ee(o);if(oa(s,a,he(n,l)),Zf(l)===".priority"&&!Bo(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),Aj(s,i)},Ep=function(t,e,n){if(!(n&&e===void 0)){if(Nc(e))throw new Error(dt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Bo(e))throw new Error(dt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},aa=function(t,e,n,r){if(!(r&&n===void 0)&&!Fc(n))throw new Error(dt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},zo=function(t,e,n,r){if(!(r&&n===void 0)&&!Nx(n))throw new Error(dt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Dj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zo(t,e,n,r)},It=function(t,e){if($(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ix=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Fc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Oj(n))throw new Error(dt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $c(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!ep(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Px(t,e,n){$c(t,n),jx(t,r=>ep(r,e))}function wt(t,e,n){$c(t,n),jx(t,r=>Rt(r,e)||Rt(e,r))}function jx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(Mj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Mj(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Kr&&De("event: "+n.toString()),xi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="repo_interrupt",Uj=25;class Fj{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ul(),this.transactionQueueTree_=new xp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $j(t,e,n){if(t.stats_=Yf(t.repoInfo_),t.forceRestClient_||vI())t.server_=new Ml(t.repoInfo_,(r,s,i,o)=>{y_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>v_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Nn(t.repoInfo_,e,(r,s,i,o)=>{y_(t,r,s,i,o)},r=>{v_(t,r)},r=>{Bj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=SI(t.repoInfo_,()=>new CP(t.stats_,t.server_)),t.infoData_=new wP,t.infoSyncTree_=new g_({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=sa(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Sp(t,"connected",!1),t.serverSyncTree_=new g_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);wt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function Ax(t){const n=t.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function la(t){return Cj({timestamp:Ax(t)})}function y_(t,e,n,r,s){t.dataUpdateCount++;const i=new ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=jl(n,c=>pe(c));o=vj(t.serverSyncTree_,i,l,s)}else{const l=pe(n);o=xx(t.serverSyncTree_,i,l,s)}else if(r){const l=jl(n,c=>pe(c));o=gj(t.serverSyncTree_,i,l)}else{const l=pe(n);o=sa(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=ui(t,i)),wt(t.eventQueue_,a,o)}function v_(t,e){Sp(t,"connected",e),e===!1&&Wj(t)}function Bj(t,e){Me(e,(n,r)=>{Sp(t,n,r)})}function Sp(t,e,n){const r=new ee("/.info/"+e),s=pe(n);t.infoData_.updateSnapshot(r,s);const i=sa(t.infoSyncTree_,r,s);wt(t.eventQueue_,r,i)}function Bc(t){return t.nextWriteId_++}function zj(t,e,n){const r=wj(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=pe(s).withIndex(e._queryParams.getIndex());Th(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=sa(t.serverSyncTree_,e._path,i);else{const a=$o(t.serverSyncTree_,e);o=xx(t.serverSyncTree_,e._path,i,a)}return wt(t.eventQueue_,e._path,o),Gl(t.serverSyncTree_,e,n,null,!0),i},s=>(Si(t,"get for query "+Ne(e)+" failed: "+s),Promise.reject(new Error(s))))}function Cp(t,e,n,r,s){Si(t,"set",{path:e.toString(),value:n,priority:r});const i=la(t),o=pe(n,r),a=Dc(t.serverSyncTree_,e),l=vp(o,a,i),c=Bc(t),d=fp(t.serverSyncTree_,e,l,c,!0);$c(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,m)=>{const p=f==="ok";p||qe("set at "+e+" failed: "+f);const y=er(t.serverSyncTree_,c,!p);wt(t.eventQueue_,e,y),Sr(t,s,f,m)});const h=Tp(t,e);ui(t,h),wt(t.eventQueue_,h,[])}function Hj(t,e,n,r){Si(t,"update",{path:e.toString(),value:n});let s=!0;const i=la(t),o={};if(Me(n,(a,l)=>{s=!1,o[a]=Cx(he(e,a),pe(l),t.serverSyncTree_,i)}),s)De("update() called with empty data.  Don't do anything."),Sr(t,r,"ok",void 0);else{const a=Bc(t),l=mj(t.serverSyncTree_,e,o,a);$c(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const h=c==="ok";h||qe("update at "+e+" failed: "+c);const f=er(t.serverSyncTree_,a,!h),m=f.length>0?ui(t,e):e;wt(t.eventQueue_,m,f),Sr(t,r,c,d)}),Me(n,c=>{const d=Tp(t,he(e,c));ui(t,d)}),wt(t.eventQueue_,e,[])}}function Wj(t){Si(t,"onDisconnectEvents");const e=la(t),n=Ul();xh(t.onDisconnect_,Z(),(s,i)=>{const o=Cx(s,i,t.serverSyncTree_,e);bi(n,s,o)});let r=[];xh(n,Z(),(s,i)=>{r=r.concat(sa(t.serverSyncTree_,s,i));const o=Tp(t,s);ui(t,o)}),t.onDisconnect_=Ul(),wt(t.eventQueue_,Z(),r)}function Vj(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,s)=>{r==="ok"&&wh(t.onDisconnect_,e),Sr(t,n,r,s)})}function w_(t,e,n,r){const s=pe(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(i,o)=>{i==="ok"&&bi(t.onDisconnect_,e,s),Sr(t,r,i,o)})}function Gj(t,e,n,r,s){const i=pe(n,r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,a)=>{o==="ok"&&bi(t.onDisconnect_,e,i),Sr(t,s,o,a)})}function qj(t,e,n,r){if(lh(n)){De("onDisconnect().update() called with empty data.  Don't do anything."),Sr(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,i)=>{s==="ok"&&Me(n,(o,a)=>{const l=pe(a);bi(t.onDisconnect_,he(e,o),l)}),Sr(t,r,s,i)})}function Kj(t,e,n){let r;$(e._path)===".info"?r=Th(t.infoSyncTree_,e,n):r=Th(t.serverSyncTree_,e,n),Px(t.eventQueue_,e._path,r)}function Rh(t,e,n){let r;$(e._path)===".info"?r=Gl(t.infoSyncTree_,e,n):r=Gl(t.serverSyncTree_,e,n),Px(t.eventQueue_,e._path,r)}function Dx(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ox)}function Qj(t){t.persistentConnection_&&t.persistentConnection_.resume(Ox)}function Si(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),De(n,...e)}function Sr(t,e,n,r){e&&xi(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function Jj(t,e,n,r,s,i){Si(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:Iw(),applyLocally:i,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=kp(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{oa("transaction failed: Data returned ",l,o.path),o.status=0;const c=Mc(t.transactionQueueTree_,e),d=ys(c)||[];d.push(o),bp(c,d);let h;typeof l=="object"&&l!==null&&vt(l,".priority")?(h=ts(l,".priority"),T(Bo(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Dc(t.serverSyncTree_,e)||D.EMPTY_NODE).getPriority().val();const f=la(t),m=pe(l,h),p=vp(m,a,f);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=p,o.currentWriteId=Bc(t);const y=fp(t.serverSyncTree_,e,p,o.currentWriteId,o.applyLocally);wt(t.eventQueue_,e,y),zc(t,t.transactionQueueTree_)}}function kp(t,e,n){return Dc(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function zc(t,e=t.transactionQueueTree_){if(e||Hc(t,e),ys(e)){const n=Mx(t,e);T(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Yj(t,ia(e),n)}else kx(e)&&Uc(e,n=>{zc(t,n)})}function Yj(t,e,n){const r=n.map(c=>c.currentWriteId),s=kp(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];T(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Xe(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Si(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(er(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Hc(t,Mc(t.transactionQueueTree_,e)),zc(t,t.transactionQueueTree_),wt(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)xi(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{qe("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ui(t,e)}},o)}function ui(t,e){const n=Lx(t,e),r=ia(n),s=Mx(t,n);return Xj(t,s,r),r}function Xj(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Xe(n,l.path);let d=!1,h;if(T(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,s=s.concat(er(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Uj)d=!0,h="maxretry",s=s.concat(er(t.serverSyncTree_,l.currentWriteId,!0));else{const f=kp(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){oa("transaction failed: Data returned ",m,l.path);let p=pe(m);typeof m=="object"&&m!=null&&vt(m,".priority")||(p=p.updatePriority(f.getPriority()));const x=l.currentWriteId,_=la(t),g=vp(p,f,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=Bc(t),o.splice(o.indexOf(x),1),s=s.concat(fp(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),s=s.concat(er(t.serverSyncTree_,x,!0))}else d=!0,h="nodata",s=s.concat(er(t.serverSyncTree_,l.currentWriteId,!0))}wt(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Hc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)xi(r[a]);zc(t,t.transactionQueueTree_)}function Lx(t,e){let n,r=t.transactionQueueTree_;for(n=$(e);n!==null&&ys(r)===void 0;)r=Mc(r,n),e=re(e),n=$(e);return r}function Mx(t,e){const n=[];return Ux(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Ux(t,e,n){const r=ys(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Uc(e,s=>{Ux(t,s,n)})}function Hc(t,e){const n=ys(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,bp(e,n.length>0?n:void 0)}Uc(e,r=>{Hc(t,r)})}function Tp(t,e){const n=ia(Lx(t,e)),r=Mc(t.transactionQueueTree_,e);return Rj(r,s=>{Wu(t,s)}),Wu(t,r),Tx(r,s=>{Wu(t,s)}),n}function Wu(t,e){const n=ys(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(er(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?bp(e,void 0):n.length=i+1,wt(t.eventQueue_,ia(e),s);for(let o=0;o<r.length;o++)xi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function eO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qe(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ih=function(t,e){const n=tO(t),r=n.namespace;n.domain==="firebase.com"&&hn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uI();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ww(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ee(n.pathString)}},tO=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=Zj(t.substring(d,h)));const f=eO(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nO=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=x_.charAt(n%64),n=Math.floor(n/64);T(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=x_.charAt(e[s]);return T(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}}class $x{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rO=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new it;return Vj(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){It("OnDisconnect.remove",this._path);const e=new it;return w_(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){It("OnDisconnect.set",this._path),fn("OnDisconnect.set",e,this._path,!1);const n=new it;return w_(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){It("OnDisconnect.setWithPriority",this._path),fn("OnDisconnect.setWithPriority",e,this._path,!1),Ep("OnDisconnect.setWithPriority",n,!1);const r=new it;return Gj(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){It("OnDisconnect.update",this._path),Rx("OnDisconnect.update",e,this._path,!1);const n=new it;return qj(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return B(this._path)?null:Zf(this._path)}get ref(){return new Ut(this._repo,this._path)}get _queryIdentifier(){const e=o_(this._queryParams),n=Qf(e);return n==="{}"?"default":n}get _queryObject(){return o_(this._queryParams)}isEqual(e){if(e=we(e),!(e instanceof ht))return!1;const n=this._repo===e._repo,r=ep(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+qI(this._path)}}function Wc(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Pr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===un){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==wr)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==Dn)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===ae){if(e!=null&&!Bo(e)||n!=null&&!Bo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(T(t.getIndex()instanceof rp||t.getIndex()===sp,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vc(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ut extends ht{constructor(e,n){super(e,n,new Ic,!1)}get parent(){const e=Zw(this._path);return e===null?null:new Ut(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let Gc=class Ph{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ee(e),r=os(this.ref,e);return new Ph(this._node.getChild(n),r,ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ph(s,os(this.ref,r),ae)))}hasChild(e){const n=new ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Bx(t,e){return t=we(t),t._checkNotDeleted("ref"),e!==void 0?os(t._root,e):t._root}function b_(t,e){t=we(t),t._checkNotDeleted("refFromURL");const n=Ih(e,t._repo.repoInfo_.nodeAdmin);Ix("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&hn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Bx(t,n.path.toString())}function os(t,e){return t=we(t),$(t._path)===null?Dj("child","path",e,!1):zo("child","path",e,!1),new Ut(t._repo,he(t._path,e))}function sO(t,e){t=we(t),It("push",t._path),fn("push",e,t._path,!0);const n=Ax(t._repo),r=nO(n),s=os(t,r),i=os(t,r);let o;return e!=null?o=Rp(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function iO(t){return It("remove",t._path),Rp(t,null)}function Rp(t,e){t=we(t),It("set",t._path),fn("set",e,t._path,!1);const n=new it;return Cp(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function oO(t,e){t=we(t),It("setPriority",t._path),Ep("setPriority",e,!1);const n=new it;return Cp(t._repo,he(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function aO(t,e,n){if(It("setWithPriority",t._path),fn("setWithPriority",e,t._path,!1),Ep("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new it;return Cp(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function lO(t,e){Rx("update",e,t._path,!1);const n=new it;return Hj(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function cO(t){t=we(t);const e=new Np(()=>{}),n=new ca(e);return zj(t._repo,t,n).then(r=>new Gc(r,new Ut(t._repo,t._path),t._queryParams.getIndex()))}class ca{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Fx("value",this,new Gc(e.snapshotNode,new Ut(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new $x(this,e,n):null}matches(e){return e instanceof ca?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class qc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new $x(this,e,n):null}createEvent(e,n){T(e.childName!=null,"Child events should have a childName.");const r=os(new Ut(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new Fx(e.type,this,new Gc(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof qc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ua(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(d,h)=>{Rh(t._repo,t,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Np(n,i||void 0),a=e==="value"?new ca(o):new qc(e,o);return Kj(t._repo,t,a),()=>Rh(t._repo,t,a)}function jh(t,e,n,r){return ua(t,"value",e,n,r)}function E_(t,e,n,r){return ua(t,"child_added",e,n,r)}function S_(t,e,n,r){return ua(t,"child_changed",e,n,r)}function C_(t,e,n,r){return ua(t,"child_moved",e,n,r)}function k_(t,e,n,r){return ua(t,"child_removed",e,n,r)}function T_(t,e,n){let r=null;const s=n?new Np(n):null;e==="value"?r=new ca(s):e&&(r=new qc(e,s)),Rh(t._repo,t,r)}class Yt{}class zx extends Yt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){fn("endAt",this._value,e._path,!0);const n=vh(e._queryParams,this._value,this._key);if(Vc(n),Pr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ht(e._repo,e._path,n,e._orderByCalled)}}function uO(t,e){return aa("endAt","key",e,!0),new zx(t,e)}class dO extends Yt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){fn("endBefore",this._value,e._path,!1);const n=vP(e._queryParams,this._value,this._key);if(Vc(n),Pr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ht(e._repo,e._path,n,e._orderByCalled)}}function hO(t,e){return aa("endBefore","key",e,!0),new dO(t,e)}class Hx extends Yt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){fn("startAt",this._value,e._path,!0);const n=yh(e._queryParams,this._value,this._key);if(Vc(n),Pr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ht(e._repo,e._path,n,e._orderByCalled)}}function fO(t=null,e){return aa("startAt","key",e,!0),new Hx(t,e)}class pO extends Yt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){fn("startAfter",this._value,e._path,!1);const n=yP(e._queryParams,this._value,this._key);if(Vc(n),Pr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ht(e._repo,e._path,n,e._orderByCalled)}}function mO(t,e){return aa("startAfter","key",e,!0),new pO(t,e)}class gO extends Yt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ht(e._repo,e._path,gP(e._queryParams,this._limit),e._orderByCalled)}}function _O(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gO(t)}class yO extends Yt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ht(e._repo,e._path,_P(e._queryParams,this._limit),e._orderByCalled)}}function vO(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yO(t)}class wO extends Yt{constructor(e){super(),this._path=e}_apply(e){Wc(e,"orderByChild");const n=new ee(this._path);if(B(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new rp(n),s=Pc(e._queryParams,r);return Pr(s),new ht(e._repo,e._path,s,!0)}}function xO(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zo("orderByChild","path",t,!1),new wO(t)}class bO extends Yt{_apply(e){Wc(e,"orderByKey");const n=Pc(e._queryParams,un);return Pr(n),new ht(e._repo,e._path,n,!0)}}function EO(){return new bO}class SO extends Yt{_apply(e){Wc(e,"orderByPriority");const n=Pc(e._queryParams,ae);return Pr(n),new ht(e._repo,e._path,n,!0)}}function CO(){return new SO}class kO extends Yt{_apply(e){Wc(e,"orderByValue");const n=Pc(e._queryParams,sp);return Pr(n),new ht(e._repo,e._path,n,!0)}}function TO(){return new kO}class NO extends Yt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(fn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zx(this._value,this._key)._apply(new Hx(this._value,this._key)._apply(e))}}function RO(t,e){return aa("equalTo","key",e,!0),new NO(t,e)}function $t(t,...e){let n=we(t);for(const r of e)n=r._apply(n);return n}aj(Ut);hj(Ut);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="FIREBASE_DATABASE_EMULATOR_HOST",Oh={};let PO=!1;function jO(t,e,n,r){t.repoInfo_=new Ww(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Wx(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),De("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Ih(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[IO]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=Ih(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const d=s&&l?new Ks(Ks.OWNER):new xI(t.name,t.options,e);Ix("Invalid Firebase Database URL",o),B(o.path)||hn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=AO(a,t,d,new wI(t.name,n));return new DO(h,t)}function OO(t,e){const n=Oh[e];(!n||n[t.key]!==t)&&hn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Dx(t),delete n[t.key]}function AO(t,e,n,r){let s=Oh[e.name];s||(s={},Oh[e.name]=s);let i=s[t.toURLString()];return i&&hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Fj(t,PO,n,r),s[t.toURLString()]=i,i}let DO=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($j(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ut(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hn("Cannot call "+e+" on a deleted database.")}};function Vx(){oi.IS_TRANSPORT_INITIALIZED&&qe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function LO(){Vx(),Zn.forceDisallow()}function MO(){Vx(),Tt.forceDisallow(),Zn.forceAllow()}function UO(t,e,n,r={}){t=we(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&hn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Ks(Ks.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:dw(r.mockUserToken,t.app.options.projectId);i=new Ks(o)}jO(s,e,n,i)}function FO(t){t=we(t),t._checkNotDeleted("goOffline"),Dx(t._repo)}function $O(t){t=we(t),t._checkNotDeleted("goOnline"),Qj(t._repo)}function BO(t,e){jw(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){Nw(Tc),rs(new Jt("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Wx(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),cn(Hg,Wg,t),cn(Hg,Wg,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={".sv":"timestamp"};function WO(){return HO}function VO(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GO=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function qO(t,e,n){var r;if(t=we(t),It("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,i=new it,o=(l,c,d)=>{let h=null;l?i.reject(l):(h=new Gc(d,new Ut(t._repo,t._path),ae),i.resolve(new GO(c,h)))},a=jh(t,()=>{});return Jj(t._repo,t._path,e,o,a,s),i.promise}Nn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Nn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};zO();const KO="@firebase/database-compat",QO="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new kc("@firebase/database-compat"),Gx=function(t){const e="FIREBASE WARNING: "+t;JO.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(dt(t,e)+"must be a boolean.")},XO=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(dt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this._delegate=e}cancel(e){L("OnDisconnect.cancel",0,1,arguments.length),Oe("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){L("OnDisconnect.remove",0,1,arguments.length),Oe("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){L("OnDisconnect.set",1,2,arguments.length),Oe("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){L("OnDisconnect.setWithPriority",2,3,arguments.length),Oe("OnDisconnect.setWithPriority","onComplete",r,!0);const s=this._delegate.setWithPriority(e,n);return r&&s.then(()=>r(null),i=>r(i)),s}update(e,n){if(L("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,Gx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oe("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),s=>n(s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return L("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){this._database=e,this._delegate=n}val(){return L("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return L("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return L("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return L("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return L("DataSnapshot.child",0,1,arguments.length),e=String(e),zo("DataSnapshot.child","path",e,!1),new mr(this._database,this._delegate.child(e))}hasChild(e){return L("DataSnapshot.hasChild",1,1,arguments.length),zo("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return L("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return L("DataSnapshot.forEach",1,1,arguments.length),Oe("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new mr(this._database,n)))}hasChildren(){return L("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return L("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return L("DataSnapshot.ref",0,0,arguments.length),new Vr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ue{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,s){var i;L("Query.on",2,4,arguments.length),Oe("Query.on","callback",n,!1);const o=Ue.getCancelAndContextArgs_("Query.on",r,s),a=(c,d)=>{n.call(o.context,new mr(this.database,c),d)};a.userCallback=n,a.context=o.context;const l=(i=o.cancel)===null||i===void 0?void 0:i.bind(o.context);switch(e){case"value":return jh(this._delegate,a,l),n;case"child_added":return E_(this._delegate,a,l),n;case"child_removed":return k_(this._delegate,a,l),n;case"child_changed":return S_(this._delegate,a,l),n;case"child_moved":return C_(this._delegate,a,l),n;default:throw new Error(dt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(L("Query.off",0,3,arguments.length),XO("Query.off",e,!0),Oe("Query.off","callback",n,!0),Og("Query.off","context",r,!0),n){const s=()=>{};s.userCallback=n,s.context=r,T_(this._delegate,e,s)}else T_(this._delegate,e)}get(){return cO(this._delegate).then(e=>new mr(this.database,e))}once(e,n,r,s){L("Query.once",1,4,arguments.length),Oe("Query.once","callback",n,!0);const i=Ue.getCancelAndContextArgs_("Query.once",r,s),o=new it,a=(c,d)=>{const h=new mr(this.database,c);n&&n.call(i.context,h,d),o.resolve(h)};a.userCallback=n,a.context=i.context;const l=c=>{i.cancel&&i.cancel.call(i.context,c),o.reject(c)};switch(e){case"value":jh(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":E_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":k_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":S_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":C_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(dt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return L("Query.limitToFirst",1,1,arguments.length),new Ue(this.database,$t(this._delegate,_O(e)))}limitToLast(e){return L("Query.limitToLast",1,1,arguments.length),new Ue(this.database,$t(this._delegate,vO(e)))}orderByChild(e){return L("Query.orderByChild",1,1,arguments.length),new Ue(this.database,$t(this._delegate,xO(e)))}orderByKey(){return L("Query.orderByKey",0,0,arguments.length),new Ue(this.database,$t(this._delegate,EO()))}orderByPriority(){return L("Query.orderByPriority",0,0,arguments.length),new Ue(this.database,$t(this._delegate,CO()))}orderByValue(){return L("Query.orderByValue",0,0,arguments.length),new Ue(this.database,$t(this._delegate,TO()))}startAt(e=null,n){return L("Query.startAt",0,2,arguments.length),new Ue(this.database,$t(this._delegate,fO(e,n)))}startAfter(e=null,n){return L("Query.startAfter",0,2,arguments.length),new Ue(this.database,$t(this._delegate,mO(e,n)))}endAt(e=null,n){return L("Query.endAt",0,2,arguments.length),new Ue(this.database,$t(this._delegate,uO(e,n)))}endBefore(e=null,n){return L("Query.endBefore",0,2,arguments.length),new Ue(this.database,$t(this._delegate,hO(e,n)))}equalTo(e,n){return L("Query.equalTo",1,2,arguments.length),new Ue(this.database,$t(this._delegate,RO(e,n)))}toString(){return L("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return L("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(L("Query.isEqual",1,1,arguments.length),!(e instanceof Ue)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const s={cancel:void 0,context:void 0};if(n&&r)s.cancel=n,Oe(e,"cancel",s.cancel,!0),s.context=r,Og(e,"context",s.context,!0);else if(n)if(typeof n=="object"&&n!==null)s.context=n;else if(typeof n=="function")s.cancel=n;else throw new Error(dt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return s}get ref(){return new Vr(this.database,new Ut(this._delegate._repo,this._delegate._path))}}let Vr=class ks extends Ue{constructor(e,n){super(e,new ht(n._repo,n._path,new Ic,!1)),this.database=e,this._delegate=n}getKey(){return L("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return L("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new ks(this.database,os(this._delegate,e))}getParent(){L("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ks(this.database,e):null}getRoot(){return L("Reference.root",0,0,arguments.length),new ks(this.database,this._delegate.root)}set(e,n){L("Reference.set",1,2,arguments.length),Oe("Reference.set","onComplete",n,!0);const r=Rp(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}update(e,n){if(L("Reference.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,Gx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}It("Reference.update",this._delegate._path),Oe("Reference.update","onComplete",n,!0);const r=lO(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){L("Reference.setWithPriority",2,3,arguments.length),Oe("Reference.setWithPriority","onComplete",r,!0);const s=aO(this._delegate,e,n);return r&&s.then(()=>r(null),i=>r(i)),s}remove(e){L("Reference.remove",0,1,arguments.length),Oe("Reference.remove","onComplete",e,!0);const n=iO(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){L("Reference.transaction",1,3,arguments.length),Oe("Reference.transaction","transactionUpdate",e,!1),Oe("Reference.transaction","onComplete",n,!0),YO("Reference.transaction","applyLocally",r,!0);const s=qO(this._delegate,e,{applyLocally:r}).then(i=>new eA(i.committed,new mr(this.database,i.snapshot)));return n&&s.then(i=>n(null,i.committed,i.snapshot),i=>n(i,!1,null)),s}setPriority(e,n){L("Reference.setPriority",1,2,arguments.length),Oe("Reference.setPriority","onComplete",n,!0);const r=oO(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}push(e,n){L("Reference.push",0,2,arguments.length),Oe("Reference.push","onComplete",n,!0);const r=sO(this._delegate,e),s=r.then(o=>new ks(this.database,o));n&&s.then(()=>n(null),o=>n(o));const i=new ks(this.database,r);return i.then=s.then.bind(s),i.catch=s.catch.bind(s,void 0),i}onDisconnect(){return It("Reference.onDisconnect",this._delegate._path),new ZO(new rO(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:LO,forceLongPolling:MO}}useEmulator(e,n,r={}){UO(this._delegate,e,n,r)}ref(e){if(L("database.ref",0,1,arguments.length),e instanceof Vr){const n=b_(this._delegate,e.toString());return new Vr(this,n)}else{const n=Bx(this._delegate,e);return new Vr(this,n)}}refFromURL(e){L("database.refFromURL",1,1,arguments.length);const r=b_(this._delegate,e);return new Vr(this,r)}goOffline(){return L("database.goOffline",0,0,arguments.length),FO(this._delegate)}goOnline(){return L("database.goOnline",0,0,arguments.length),$O(this._delegate)}}Ho.ServerValue={TIMESTAMP:WO(),increment:t=>VO(t)};function tA({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:s,namespace:i,nodeAdmin:o=!1}){Nw(n);const a=new mw("database-standalone"),l=new uh("auth-internal",a);l.setComponent(new Jt("auth-internal",()=>r,"PRIVATE"));let c;return s&&(c=new uh("app-check-internal",a),c.setComponent(new Jt("app-check-internal",()=>s,"PRIVATE"))),{instance:new Ho(Wx(t,l,c,e,o),t),namespace:i}}var nA=Object.freeze({__proto__:null,initStandalone:tA});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=Ho.ServerValue;function sA(t){t.INTERNAL.registerComponent(new Jt("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),s=e.getProvider("database").getImmediate({identifier:n});return new Ho(s,r)},"PUBLIC").setServiceProps({Reference:Vr,Query:Ue,Database:Ho,DataSnapshot:mr,enableLogging:BO,INTERNAL:nA,ServerValue:rA}).setMultipleInstances(!0)),t.registerVersion(KO,QO)}sA(wi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebasestorage.googleapis.com",Kx="storageBucket",iA=2*60*1e3,oA=10*60*1e3,aA=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e extends ms{constructor(e,n,r=0){super(Vu(e),`Firebase Storage: ${n} (${Vu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ue||(ue={}));function Vu(t){return"storage/"+t}function Ip(){const t="An unknown error occurred, please check the error payload for server response.";return new _e(ue.UNKNOWN,t)}function lA(t){return new _e(ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cA(t){return new _e(ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uA(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _e(ue.UNAUTHENTICATED,t)}function dA(){return new _e(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hA(t){return new _e(ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Qx(){return new _e(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jx(){return new _e(ue.CANCELED,"User canceled the upload/download.")}function fA(t){return new _e(ue.INVALID_URL,"Invalid URL '"+t+"'.")}function pA(t){return new _e(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mA(){return new _e(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Kx+"' property when initializing the app?")}function Yx(){return new _e(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gA(){return new _e(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function _A(){return new _e(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yA(t){return new _e(ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qs(t){return new _e(ue.INVALID_ARGUMENT,t)}function Xx(){return new _e(ue.APP_DELETED,"The Firebase app was deleted.")}function Zx(t){return new _e(ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lo(t,e){return new _e(ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bi(t){throw new _e(ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ge.makeFromUrl(e,n)}catch{return new Ge(e,"")}if(r.path==="")return r;throw pA(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),p={bucket:1,path:3},y=n===qx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${y}/${s}/${x}`,"i"),v=[{regex:a,indices:l,postModify:i},{regex:m,indices:p,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<v.length;b++){const C=v[b],R=C.regex.exec(e);if(R){const I=R[C.indices.bucket];let P=R[C.indices.path];P||(P=""),r=new Ge(I,P),C.postModify(r);break}}if(r==null)throw fA(e);return r}}class vA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(m,l())},x)}function f(){i&&clearTimeout(i)}function m(x,..._){if(c){f();return}if(x){f(),d.call(null,x,..._);return}if(l()||o){f(),d.call(null,x,..._);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let p=!1;function y(x){p||(p=!0,f(),!c&&(s!==null?(x||(a=2),clearTimeout(s),h(0)):x||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function xA(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){return t!==void 0}function EA(t){return typeof t=="function"}function SA(t){return typeof t=="object"&&!Array.isArray(t)}function Kc(t){return typeof t=="string"||t instanceof String}function N_(t){return Pp()&&t instanceof Blob}function Pp(){return typeof Blob<"u"&&!R2()}function Ah(t,e,n,r){if(r<e)throw Qs(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qs(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function e1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qr||(Qr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Da(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Qr.NO_ERROR,l=i.getStatus();if(!a||t1(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Qr.ABORT;r(!1,new Da(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Da(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bA(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Ip();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Xx():Jx();o(l)}else{const l=Qx();o(l)}};this.canceled_?n(!1,new Da(!1,null,!0)):this.backoffId_=wA(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Da{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kA(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TA(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NA(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RA(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IA(t,e,n,r,s,i,o=!0){const a=e1(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return NA(c,e),kA(c,n),TA(c,i),RA(c,r),new CA(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jA(...t){const e=PA();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Pp())return new Blob(t);throw new _e(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function OA(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){if(typeof atob>"u")throw yA("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gu{constructor(e,n){this.data=e,this.contentType=n||null}}function n1(t,e){switch(t){case Pt.RAW:return new Gu(r1(e));case Pt.BASE64:case Pt.BASE64URL:return new Gu(s1(t,e));case Pt.DATA_URL:return new Gu(LA(e),MA(e))}throw Ip()}function r1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function DA(t){let e;try{e=decodeURIComponent(t)}catch{throw lo(Pt.DATA_URL,"Malformed data URL.")}return r1(e)}function s1(t,e){switch(t){case Pt.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw lo(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Pt.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw lo(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AA(e)}catch(s){throw s.message.includes("polyfill")?s:lo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class i1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lo(Pt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UA(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function LA(t){const e=new i1(t);return e.base64?s1(Pt.BASE64,e.rest):DA(e.rest)}function MA(t){return new i1(t).contentType}function UA(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){let r=0,s="";N_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(N_(this.data_)){const r=this.data_,s=OA(r,e,n);return s===null?null:new xn(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xn(r,!0)}}static getBlob(...e){if(Pp()){const n=e.map(r=>r instanceof xn?r.data_:r);return new xn(jA.apply(null,n))}else{const n=e.map(o=>Kc(o)?n1(Pt.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new xn(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){let e;try{e=JSON.parse(t)}catch{return null}return SA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $A(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function o1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){return e}class Qe{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||BA}}let La=null;function zA(t){return!Kc(t)||t.length<2?t:o1(t)}function Qc(){if(La)return La;const t=[];t.push(new Qe("bucket")),t.push(new Qe("generation")),t.push(new Qe("metageneration")),t.push(new Qe("name","fullPath",!0));function e(i,o){return zA(o)}const n=new Qe("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Qe("size");return s.xform=r,t.push(s),t.push(new Qe("timeCreated")),t.push(new Qe("updated")),t.push(new Qe("md5Hash",null,!0)),t.push(new Qe("cacheControl",null,!0)),t.push(new Qe("contentDisposition",null,!0)),t.push(new Qe("contentEncoding",null,!0)),t.push(new Qe("contentLanguage",null,!0)),t.push(new Qe("contentType",null,!0)),t.push(new Qe("metadata","customMetadata",!0)),La=t,La}function HA(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Ge(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function WA(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return HA(r,t),r}function a1(t,e,n){const r=jp(e);return r===null?null:WA(t,r,n)}function VA(t,e,n,r){const s=jp(e);if(s===null||!Kc(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),m=jr(f,n,r),p=e1({alt:"media",token:c});return m+p})[0]}function Op(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="prefixes",I_="items";function GA(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[R_])for(const s of n[R_]){const i=s.replace(/\/$/,""),o=t._makeStorageReference(new Ge(e,i));r.prefixes.push(o)}if(n[I_])for(const s of n[I_]){const i=t._makeStorageReference(new Ge(e,s.name));r.items.push(i)}return r}function qA(t,e,n){const r=jp(n);return r===null?null:GA(t,e,r)}class Un{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){if(!t)throw Ip()}function Jc(t,e){function n(r,s){const i=a1(t,s,e);return dn(i!==null),i}return n}function KA(t,e){function n(r,s){const i=qA(t,e,s);return dn(i!==null),i}return n}function QA(t,e){function n(r,s){const i=a1(t,s,e);return dn(i!==null),VA(i,s,t.host,t._protocol)}return n}function Ci(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=dA():s=uA():n.getStatus()===402?s=cA(t.bucket):n.getStatus()===403?s=hA(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Yc(t){const e=Ci(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=lA(t.path)),i.serverResponse=s.serverResponse,i}return n}function l1(t,e,n){const r=e.fullServerUrl(),s=jr(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Un(s,i,Jc(t,n),o);return a.errorHandler=Yc(e),a}function JA(t,e,n,r,s){const i={};e.isRoot?i.prefix="":i.prefix=e.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),s&&(i.maxResults=s);const o=e.bucketOnlyServerUrl(),a=jr(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new Un(a,l,KA(t,e.bucket),c);return d.urlParams=i,d.errorHandler=Ci(e),d}function YA(t,e,n){const r=e.fullServerUrl(),s=jr(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Un(s,i,QA(t,n),o);return a.errorHandler=Yc(e),a}function XA(t,e,n,r){const s=e.fullServerUrl(),i=jr(s,t.host,t._protocol),o="PATCH",a=Op(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,d=new Un(i,o,Jc(t,r),c);return d.headers=l,d.body=a,d.errorHandler=Yc(e),d}function ZA(t,e){const n=e.fullServerUrl(),r=jr(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new Un(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Yc(e),a}function e4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function c1(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=e4(null,e)),r}function t4(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let b=0;b<2;b++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=c1(e,r,s),d=Op(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=xn.getBlob(h,r,f);if(m===null)throw Yx();const p={name:c.fullPath},y=jr(i,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,g=new Un(y,x,Jc(t,n),_);return g.urlParams=p,g.headers=o,g.body=m.uploadData(),g.errorHandler=Ci(e),g}class ql{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Ap(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{dn(!1)}return dn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function n4(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=c1(e,r,s),a={name:o.fullPath},l=jr(i,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Op(o,n),f=t.maxUploadRetryTime;function m(y){Ap(y);let x;try{x=y.getResponseHeader("X-Goog-Upload-URL")}catch{dn(!1)}return dn(Kc(x)),x}const p=new Un(l,c,m,f);return p.urlParams=a,p.headers=d,p.body=h,p.errorHandler=Ci(e),p}function r4(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(c){const d=Ap(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{dn(!1)}h||dn(!1);const f=Number(h);return dn(!isNaN(f)),new ql(f,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Un(n,o,i,a);return l.headers=s,l.errorHandler=Ci(e),l}const P_=256*1024;function s4(t,e,n,r,s,i,o,a){const l=new ql(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw gA();const c=l.total-l.current;let d=c;s>0&&(d=Math.min(d,s));const h=l.current,f=h+d;let m="";d===0?m="finalize":c===d?m="upload, finalize":m="upload";const p={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(h,f);if(y===null)throw Yx();function x(b,C){const R=Ap(b,["active","final"]),I=l.current+d,P=r.size();let W;return R==="final"?W=Jc(e,i)(b,C):W=null,new ql(I,P,R==="final",W)}const _="POST",g=e.maxUploadRetryTime,v=new Un(n,_,x,g);return v.headers=p,v.body=y.uploadData(),v.progressCallback=a||null,v.errorHandler=Ci(t),v}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={STATE_CHANGED:"state_changed"},Ye={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qu(t){switch(t){case"running":case"pausing":case"canceling":return Ye.RUNNING;case"paused":return Ye.PAUSED;case"success":return Ye.SUCCESS;case"canceled":return Ye.CANCELED;case"error":return Ye.ERROR;default:return Ye.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r){if(EA(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class a4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Bi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class l4 extends a4{initXhr(){this.xhr_.responseType="text"}}function sn(){return new l4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Qc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(t1(s.status,[]))if(i)s=Qx();else{this.sleepTime=Math.max(this.sleepTime*2,aA),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=n4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,sn,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=r4(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,sn,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=P_*this._chunkMultiplier,n=new ql(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=s4(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,sn,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){P_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=l1(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,sn,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=t4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,sn,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Jx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=qu(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new o4(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(qu(this._state)){case Ye.SUCCESS:Cs(this._resolve.bind(null,this.snapshot))();break;case Ye.CANCELED:case Ye.ERROR:const n=this._reject;Cs(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qu(this._state)){case Ye.RUNNING:case Ye.PAUSED:e.next&&Cs(e.next.bind(e,this.snapshot))();break;case Ye.SUCCESS:e.complete&&Cs(e.complete.bind(e))();break;case Ye.CANCELED:case Ye.ERROR:e.error&&Cs(e.error.bind(e,this._error))();break;default:e.error&&Cs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this._service=e,n instanceof Ge?this._location=n:this._location=Ge.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new as(e,n)}get root(){const e=new Ge(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o1(this._location.path)}get storage(){return this._service}get parent(){const e=FA(this._location.path);if(e===null)return null;const n=new Ge(this._location.bucket,e);return new as(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zx(e)}}function c4(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new u1(t,new xn(e),n)}function u4(t){const e={prefixes:[],items:[]};return d1(t,e).then(()=>e)}async function d1(t,e,n){const s=await h1(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await d1(t,e,s.nextPageToken)}function h1(t,e){e!=null&&typeof e.maxResults=="number"&&Ah("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=JA(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,sn)}function d4(t){t._throwIfRoot("getMetadata");const e=l1(t.storage,t._location,Qc());return t.storage.makeRequestWithTokens(e,sn)}function h4(t,e){t._throwIfRoot("updateMetadata");const n=XA(t.storage,t._location,e,Qc());return t.storage.makeRequestWithTokens(n,sn)}function f4(t){t._throwIfRoot("getDownloadURL");const e=YA(t.storage,t._location,Qc());return t.storage.makeRequestWithTokens(e,sn).then(n=>{if(n===null)throw _A();return n})}function p4(t){t._throwIfRoot("deleteObject");const e=ZA(t.storage,t._location);return t.storage.makeRequestWithTokens(e,sn)}function f1(t,e){const n=$A(t._location.path,e),r=new Ge(t._location.bucket,n);return new as(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){return/^[A-Za-z]+:\/\//.test(t)}function g4(t,e){return new as(t,e)}function p1(t,e){if(t instanceof Dp){const n=t;if(n._bucket==null)throw mA();const r=new as(n,n._bucket);return e!=null?p1(r,e):r}else return e!==void 0?f1(t,e):t}function _4(t,e){if(e&&m4(e)){if(t instanceof Dp)return g4(t,e);throw Qs("To use ref(service, url), the first argument must be a Storage instance.")}else return p1(t,e)}function j_(t,e){const n=e==null?void 0:e[Kx];return n==null?null:Ge.makeFromBucketSpec(n,t)}function y4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:dw(s,t.app.options.projectId))}class Dp{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=qx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iA,this._maxUploadRetryTime=oA,this._requests=new Set,s!=null?this._bucket=Ge.makeFromBucketSpec(s,this._host):this._bucket=j_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ge.makeFromBucketSpec(this._url,e):this._bucket=j_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ah("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ah("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new as(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new vA(Xx());{const o=IA(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const O_="@firebase/storage",A_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="storage";function w4(t,e,n){return t=we(t),c4(t,e,n)}function x4(t){return t=we(t),d4(t)}function b4(t,e){return t=we(t),h4(t,e)}function E4(t,e){return t=we(t),h1(t,e)}function S4(t){return t=we(t),u4(t)}function C4(t){return t=we(t),f4(t)}function k4(t){return t=we(t),p4(t)}function D_(t,e){return t=we(t),_4(t,e)}function T4(t,e){return f1(t,e)}function N4(t,e,n,r={}){y4(t,e,n,r)}function R4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Dp(n,r,s,e,Tc)}function I4(){rs(new Jt(v4,R4,"PUBLIC").setMultipleInstances(!0)),cn(O_,A_,""),cn(O_,A_,"esm2017")}I4();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ma(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Ma(r,this,this._ref))},n)}on(e,n,r,s){let i;return n&&(typeof n=="function"?i=o=>n(new Ma(o,this,this._ref)):i={next:n.next?o=>n.next(new Ma(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,i,r||void 0,s||void 0)}}class M_{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Rn(e,this._service))}get items(){return this._delegate.items.map(e=>new Rn(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=T4(this._delegate,e);return new Rn(n,this.storage)}get root(){return new Rn(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Rn(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new L_(w4(this._delegate,e,n),this)}putString(e,n=Pt.RAW,r){this._throwIfRoot("putString");const s=n1(n,e),i=Object.assign({},r);return i.contentType==null&&s.contentType!=null&&(i.contentType=s.contentType),new L_(new u1(this._delegate,new xn(s.data,!0),i),this)}listAll(){return S4(this._delegate).then(e=>new M_(e,this.storage))}list(e){return E4(this._delegate,e||void 0).then(n=>new M_(n,this.storage))}getMetadata(){return x4(this._delegate)}updateMetadata(e){return b4(this._delegate,e)}getDownloadURL(){return C4(this._delegate)}delete(){return this._throwIfRoot("delete"),k4(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw Zx(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(U_(e))throw Qs("ref() expected a child path but got a URL, use refFromURL instead.");return new Rn(D_(this._delegate,e),this)}refFromURL(e){if(!U_(e))throw Qs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ge.makeFromUrl(e,this._delegate.host)}catch{throw Qs("refFromUrl() expected a valid full URL but got an invalid one.")}return new Rn(D_(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){N4(this._delegate,e,n,r)}}function U_(t){return/^[A-Za-z]+:\/\//.test(t)}const P4="@firebase/storage-compat",j4="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="storage-compat";function A4(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new m1(n,r)}function D4(t){const e={TaskState:Ye,TaskEvent:i4,StringFormat:Pt,Storage:m1,Reference:Rn};t.INTERNAL.registerComponent(new Jt(O4,A4,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(P4,j4)}D4(wi);const L4={apiKey:"AIzaSyBQfzVOiN9YFt6gB_xoE-2risFr7KXYrBA",authDomain:"blogg-blitz.firebaseapp.com",projectId:"blogg-blitz",storageBucket:"blogg-blitz.firebasestorage.app",messagingSenderId:"620589090303",appId:"1:620589090303:web:0a51751323698c3b7b53ca",measurementId:"G-KKFYDZPS17"};wi.initializeApp(L4);const M4=wi.storage();wi.database();const U4=()=>{const{user:t}=w.useContext(Mt),[e,n]=w.useState(""),[r,s]=w.useState(""),[i,o]=w.useState(""),[a,l]=w.useState([]),[c,d]=w.useState(""),[h,f]=w.useState(""),[m,p]=w.useState(""),[y,x]=w.useState(""),[_,g]=w.useState(""),[v,b]=w.useState(""),[C,R]=w.useState(""),[I,P]=w.useState(""),[W,A]=w.useState(""),[ke,Et]=w.useState(!1),St=Mn();w.useEffect(()=>{(async()=>{try{(await Ve.get("https://kjblog-production.up.railway.app:5000/api/posts/user/"+t._id)).data.length>0&&Et(!0)}catch(N){console.log(N)}})()},[]),ke&&(t==null?void 0:t._id)!=="65d95b56e49e83adad786352"&&(z.error("You have already posted a blog"),St("/myblogs/:id"));const Xt=async S=>{if(!S){z.error("Please choose a file to upload");return}try{const N=S.name.split(".").pop(),J=`blog-pics/${`${Date.now()}-${Math.random().toString(36).substr(2,9)}.${N}`}`,{data:Y,error:xe}=await Pg.storage.from("blog-pics").upload(J,S);if(xe)throw xe;const{data:vs}=Pg.storage.from("blog-pics").getPublicUrl(J);return vs.publicUrl}catch(N){return z.error(`Error uploading file: ${N.message}`),null}},V=async S=>{const N=S.target.files[0];if(!N){z.error("No file selected");return}try{const Q=await Xt(N);Q&&(o(Q),z.success("Introduction image uploaded successfully"))}catch{z.error("Error uploading introduction image")}},gn=async S=>{const N=S.target.files,Q=[];if(a.length+N.length>2){z.error("Cannot add more than 2 images");return}for(let J=0;J<N.length;J++){const Y=N[J];try{const xe=await Xt(Y);Q.push(xe),z.success(`Blog image ${J+1} uploaded successfully`)}catch{z.error(`Error uploading blog image ${J+1}`)}}l(Q)},Or=async S=>{const N=S.target.files[0];try{const Q=await Xt(N);d(Q),z.success("Sub-body image uploaded successfully")}catch{z.error("Error uploading sub-body image")}},j=S=>{const N=document.cookie.split("; ");for(const Q of N){const[J,Y]=Q.split("=");if(J===S)return Y}return null},U=async S=>{S.preventDefault();const N=j("token");if(console.log("Token from localStorage:",N),[e,r,m,y,_,v,C,I,W].filter(Y=>typeof Y=="string").reduce((Y,xe)=>Y+xe.split(/\s+/).length,0)>3e3){z.error("Total word count exceeds 3000. Please reduce the word count.");return}const J={title:e,desc:r,username:t.username,userId:t._id,category:h,introduction:m,body:y,subBody:_,conclusion:v,faqs:C,writerDetails:I,sources:W,introductionImage:i,blogImages:a,subBodyImage:c};console.log("Token from:",N);try{const Y=await Ve.post("https://kjblog-production.up.railway.app:5000/api/posts/create",J,{headers:{Authorization:`Bearer ${N}`}});St("/posts/post/"+Y.data._id),z.success("Post created successfully")}catch(Y){console.error("Error at CreatePost.jsx: ",Y),z.error("Error creating post")}},M=S=>{f(S),console.log(h)};return u.jsxs("div",{children:[u.jsx(hs,{}),u.jsx("div",{className:"pb-16 "}),u.jsx("div",{className:"h-screen w-screen bg-black fixed z-[-2]"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 objec fixed z-[-1] opacity-80"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 fixed z-[-1] right-0 opacity-80"}),u.jsxs("div",{className:"md:mx-40 px-6 pt-8 bg-white",children:[u.jsx("h1",{className:"font-bold md:text-2xl text-xl ",children:"Create a post"}),u.jsxs("form",{className:"w-full flex flex-col space-y-4 md:space-y-8 mt-4",children:[u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Select a Category"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 font-poppins",children:[u.jsxs("div",{className:` flex justify-center items-center relative bg-black/40 hover:bg-black/60 rounded-lg h-30  ${h==="Historical"?"border-4 border-yellow-500 ":"border-4 border-white"}`,onClick:()=>M("Historical"),children:[u.jsx("img",{src:"/history.jpeg",alt:"",className:"rounded-lg h-full w-full object-cover"}),u.jsx("div",{className:`h-full w-full absolute flex justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300" ${h==="Historical"?"text-yellow-400 shadow-xl":"text-white"}`,children:u.jsx("p",{className:" text-xl font-semibold",children:"HISTORICAL"})})]}),u.jsxs("div",{className:`flex justify-center items-center relative bg-black/40 hover:bg-black/60 rounded-lg h-30 ${h==="Cultural"?"border-4 border-cyan-500 ":"border-4 border-white"}`,onClick:()=>M("Cultural"),children:[u.jsx("img",{src:"/cultural.jpg",alt:"",className:"rounded-lg h-full w-full  object-cover "}),u.jsx("div",{className:`h-full w-full absolute flex justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300" ${h==="Cultural"?"text-cyan-400 shadow-xl":"text-white"}`,children:u.jsx("p",{className:" text-xl font-semibold",children:"CULTURAL"})})]}),u.jsxs("div",{className:`flex justify-center items-center relative bg-black/40 hover:bg-black/40 rounded-lg h-32  ${h==="Open"?"border-4 border-lime-400 ":"border-4 border-white"}`,onClick:()=>M("Open"),children:[u.jsx("img",{src:"/open.jpg",alt:"",className:"rounded-lg h-full w-full object-cover "}),u.jsxs("div",{className:`h-full w-full absolute flex flex-col justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300" ${h==="Open"?"text-lime-400 shadow-xl":"text-white"}`,children:[u.jsx("p",{className:" text-xl font-semibold",children:"OPEN"}),u.jsx("p",{className:" text-xl font-semibold",children:"CATEGORY"})]})]})]})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Title"}),u.jsx("input",{onChange:S=>n(S.target.value),type:"text",placeholder:"Enter title",className:"px-4 pb-2 outline-none w-full"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Description"}),u.jsx("textarea",{onChange:S=>s(S.target.value),type:"text",placeholder:"Enter description",className:"px-4 pb-2 outline-none  w-full h-40"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Title Image"}),i?u.jsx("img",{src:i,alt:"Introduction",className:"w-full"}):u.jsx("div",{class:"flex items-center justify-center w-full",children:u.jsxs("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[u.jsxs("div",{class:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:u.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),u.jsxs("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{class:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),u.jsx("input",{type:"file",id:"dropzone-file",onChange:V,className:"hidden"})]})}),u.jsxs("p",{className:`bg-red-500 px-2 py-1 text-white rounded-lg font-medium text-center w-fit mx-auto mt-2 flex items-center gap-2 cursor-pointer\r
						`,onClick:S=>o(""),children:[" ",u.jsx(Vs,{}),"Clear Selection"]})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Introduction"}),u.jsx("textarea",{onChange:S=>p(S.target.value),className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter introduction"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2  rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Blog Body Images"}),a.length==0?u.jsx("div",{class:"flex items-center justify-center w-full",children:u.jsxs("label",{for:"dropzone-file2",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[u.jsxs("div",{class:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:u.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),u.jsxs("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{class:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),u.jsx("input",{type:"file",id:"dropzone-file2",multiple:!0,onChange:gn,className:"hidden"})]})}):u.jsx(u.Fragment,{children:a.map((S,N)=>u.jsx("div",{children:u.jsx("img",{src:S,alt:"Blog Image "+(N+1)})},N))}),u.jsxs("p",{className:`bg-red-500 px-2 py-1 text-white rounded-lg font-medium text-center w-fit mx-auto mt-2 flex items-center gap-2 cursor-pointer\r
						`,onClick:S=>l([]),children:[" ",u.jsx(Vs,{}),"Clear Selection"]})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Body"}),u.jsx("textarea",{onChange:S=>x(S.target.value),rows:15,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter body"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2  rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Sub-Body"}),c?u.jsx(u.Fragment,{children:c&&u.jsx("img",{src:c,alt:"Sub Body"})}):u.jsx("div",{class:"flex items-center justify-center w-full",children:u.jsxs("label",{for:"dropzone-file3",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[u.jsxs("div",{class:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:u.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),u.jsxs("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{class:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),u.jsx("input",{type:"file",id:"dropzone-file3",onChange:Or,className:"hidden"})]})}),u.jsxs("p",{className:`bg-red-500 px-2 py-1 text-white rounded-lg font-medium text-center w-fit mx-auto mt-2 flex items-center gap-2 cursor-pointer\r
						`,onClick:S=>d(""),children:[" ",u.jsx(Vs,{}),"Clear Selection"]}),u.jsx("textarea",{onChange:S=>g(S.target.value),rows:10,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter sub body"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Conclusion"}),u.jsx("textarea",{onChange:S=>b(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter conclusion"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"FAQs"}),u.jsx("textarea",{onChange:S=>R(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter FAQs"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Writer Details"}),u.jsx("textarea",{onChange:S=>P(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter writer details"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Sources"}),u.jsx("textarea",{onChange:S=>A(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter sources"})]}),u.jsx("button",{onClick:U,className:"bg-black rounded-md w-full md:w-[20%] mx-auto text-white font-semibold px-4 py-2 md:text-xl text-lg",children:"Create"}),u.jsx("div",{className:""})]})]}),u.jsx(Rr,{})]})},F4=()=>{const t=dc().id,{user:e}=w.useContext(Mt),n=Mn(),[r,s]=w.useState(""),[i,o]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState([]),[h,f]=w.useState(""),[m,p]=w.useState(""),[y,x]=w.useState(""),[_,g]=w.useState(""),[v,b]=w.useState(""),[C,R]=w.useState(""),[I,P]=w.useState(""),[W,A]=w.useState(""),[ke,Et]=w.useState(""),St=async()=>{try{const S=localStorage.getItem("token"),N=await Ve.get("https://kjblog-production.up.railway.app:5000/api/posts/"+t,{headers:{Authorization:`Bearer ${S}`}});s(N.data.title),o(N.data.desc),l(N.data.introductionImage),d(N.data.blogImages),f(N.data.subBodyImage),p(N.data.category),x(N.data.introduction),g(N.data.body),b(N.data.subBody),R(N.data.conclusion),P(N.data.faqs),A(N.data.writerDetails),Et(N.data.sources)}catch{z.error("Error fetching post")}},Xt=S=>{const N=document.cookie.split("; ");for(const Q of N){const[J,Y]=Q.split("=");if(J===S)return Y}return null},V=async S=>{S.preventDefault();const N=Xt("token");if([r,i,y,_,v,C,I,W,ke].filter(Y=>typeof Y=="string").reduce((Y,xe)=>Y+xe.split(/\s+/).length,0)>3e3){console.log("Total word count exceeds 3000. Please reduce the word count."),z.error("Total word count exceeds 3000. Please reduce the word count.");return}const J={title:r,desc:i,username:e.username,userId:e._id,category:m,introduction:y,body:_,subBody:v,conclusion:C,faqs:I,writerDetails:W,sources:ke,introductionImage:a,blogImages:c,subBodyImage:h};try{const Y=await Ve.put("https://kjblog-production.up.railway.app:5000/api/posts/"+t,J,{headers:{Authorization:`Bearer ${N}`}});z.success("Post updated successfully"),n("/posts/post/"+Y.data._id)}catch(Y){console.log("Error at EditPost.jsx handleUpdate: ",Y),z.error("Error updating post")}};w.useEffect(()=>{St()},[t]);const gn=S=>z.promise(new Promise((N,Q)=>{if(S==null){Q("No image provided");return}const J=M4.ref(`images/${S.name}`).put(S);J.on("state_changed",Y=>{},Y=>{Q(Y.message)},()=>{J.snapshot.ref.getDownloadURL().then(Y=>{N(Y)})})}),{loading:"Uploading image...",success:"Image uploaded successfully",error:"Error uploading image"}),Or=async S=>{const N=S.target.files[0];try{const Q=await gn(N);l(Q),z.success("Introduction image uploaded successfully")}catch{z.error("Error uploading introduction image")}},j=async S=>{const N=S.target.files,Q=[];if(N){if(c.length+N.length>2){z.error("Cannot add more than 2 images");return}for(let J=0;J<N.length;J++){const Y=N[J];try{const xe=await gn(Y);Q.push(xe),z.success(`Blog image ${J+1} uploaded successfully`)}catch{z.error(`Error uploading blog image ${J+1}`)}}d(Q)}},U=async S=>{const N=S.target.files[0];try{const Q=await gn(N);f(Q),z.success("Sub-body image uploaded successfully")}catch{z.error("Error uploading sub-body image")}},M=S=>{p(S),console.log(m)};return u.jsxs("div",{children:[u.jsx(hs,{}),u.jsx("div",{className:"pb-16 "}),u.jsx("div",{className:"h-screen w-screen bg-black fixed z-[-2]"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 objec fixed z-[-1] opacity-80"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 fixed z-[-1] right-0 opacity-80"}),u.jsxs("div",{className:"md:mx-40 px-6 pt-8 bg-white",children:[u.jsx("h1",{className:"font-bold md:text-2xl text-xl ",children:"Edit post"}),u.jsxs("form",{className:"w-full flex flex-col space-y-4 md:space-y-8 mt-4",children:[u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Select a Category"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 font-poppins",children:[u.jsxs("div",{className:` flex justify-center items-center relative bg-black/40 hover:bg-black/60 rounded-lg h-30  ${m==="Historical"?"border-4 border-yellow-500 ":"border-4 border-white"}`,onClick:()=>M("Historical"),children:[u.jsx("img",{src:"/history.jpeg",alt:"",className:"rounded-lg h-full w-full object-cover"}),u.jsx("div",{className:`h-full w-full absolute flex justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300" ${m==="Historical"?"text-yellow-400 shadow-xl":"text-white"}`,children:u.jsx("p",{className:" text-xl font-semibold",children:"HISTORICAL"})})]}),u.jsxs("div",{className:`flex justify-center items-center relative bg-black/40 hover:bg-black/60 rounded-lg h-30 ${m==="Cultural"?"border-4 border-cyan-500 ":"border-4 border-white"}`,onClick:()=>M("Cultural"),children:[u.jsx("img",{src:"/cultural.jpg",alt:"",className:"rounded-lg h-full w-full  object-cover "}),u.jsx("div",{className:`h-full w-full absolute flex justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300" ${m==="Cultural"?"text-cyan-400 shadow-xl":"text-white"}`,children:u.jsx("p",{className:" text-xl font-semibold",children:"CULTURAL"})})]}),u.jsxs("div",{className:`flex justify-center items-center relative bg-black/40 hover:bg-black/40 rounded-lg h-32  ${m==="Open"?"border-4 border-lime-400 ":"border-4 border-white"}`,onClick:()=>M("Open"),children:[u.jsx("img",{src:"/open.jpg",alt:"",className:"rounded-lg h-full w-full object-cover "}),u.jsxs("div",{className:`h-full w-full absolute flex flex-col justify-center items-center bg-black/40 hover:bg-black/50 rounded-lg h-30 transition-300" ${m==="Open"?"text-lime-400 shadow-xl":"text-white"}`,children:[u.jsx("p",{className:" text-xl font-semibold",children:"OPEN"}),u.jsx("p",{className:" text-xl font-semibold",children:"CATEGORY"})]})]})]})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Title"}),u.jsx("input",{onChange:S=>s(S.target.value),type:"text",placeholder:"Enter title",className:"px-4 pb-2 outline-none w-full",value:r})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Description"}),u.jsx("textarea",{onChange:S=>o(S.target.value),type:"text",placeholder:"Enter description",className:"px-4 pb-2 outline-none  w-full h-40",value:i})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Title Image"}),a?u.jsx("img",{src:a,alt:"Introduction"}):u.jsx("div",{class:"flex items-center justify-center w-full",children:u.jsxs("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[u.jsxs("div",{class:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:u.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),u.jsxs("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{class:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),u.jsx("input",{type:"file",id:"dropzone-file",onChange:Or,className:"hidden"})]})}),u.jsxs("p",{className:`bg-red-500 px-2 py-1 text-white rounded-lg font-medium text-center w-fit mx-auto mt-2 flex items-center gap-2 cursor-pointer\r
						`,onClick:S=>l(""),children:[" ",u.jsx(Vs,{}),"Clear Selection"]})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Introduction"}),u.jsx("textarea",{onChange:S=>x(S.target.value),className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter introduction",value:y})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2  rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Blog Body Images"}),c.length==0?u.jsx("div",{class:"flex items-center justify-center w-full",children:u.jsxs("label",{for:"dropzone-file2",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[u.jsxs("div",{class:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:u.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),u.jsxs("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{class:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),u.jsx("input",{type:"file",id:"dropzone-file2",multiple:!0,onChange:j,className:"hidden"})]})}):u.jsx(u.Fragment,{children:c.map((S,N)=>u.jsx("div",{children:u.jsx("img",{src:S,alt:"Blog Image "+(N+1)})},N))}),u.jsxs("p",{className:`bg-red-500 px-2 py-1 text-white rounded-lg font-medium text-center w-fit mx-auto mt-2 flex items-center gap-2 cursor-pointer\r
						`,onClick:S=>d([]),children:[" ",u.jsx(Vs,{}),"Clear Selection"]})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Body"}),u.jsx("textarea",{onChange:S=>g(S.target.value),rows:15,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter body",value:_})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 px-2 pb-2  rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Sub-Body"}),h?u.jsx(u.Fragment,{children:h&&u.jsx("img",{src:h,alt:"Sub Body"})}):u.jsx("div",{class:"flex items-center justify-center w-full",children:u.jsxs("label",{for:"dropzone-file3",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[u.jsxs("div",{class:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:u.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),u.jsxs("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx("span",{class:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),u.jsx("input",{type:"file",id:"dropzone-file3",onChange:U,className:"hidden"})]})}),u.jsxs("p",{className:`bg-red-500 px-2 py-1 text-white rounded-lg font-medium text-center w-fit mx-auto mt-2 flex items-center gap-2 cursor-pointer\r
						`,onClick:S=>f(""),children:[" ",u.jsx(Vs,{}),"Clear Selection"]}),u.jsx("textarea",{onChange:S=>b(S.target.value),rows:10,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter sub body"})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Conclusion"}),u.jsx("textarea",{onChange:S=>R(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter conclusion",value:C})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"FAQs"}),u.jsx("textarea",{onChange:S=>P(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter FAQs",value:I})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Writer Details"}),u.jsx("textarea",{onChange:S=>A(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter writer details",value:W})]}),u.jsxs("fieldset",{className:"mt-8 border-2 border-gray-300 p-15 rounded-lg bg-white",children:[u.jsx("legend",{className:"font-bold text-gray-700 ml-2",children:"Sources"}),u.jsx("textarea",{onChange:S=>Et(S.target.value),rows:5,cols:30,className:"px-4 py-2 outline-none w-full h-40",placeholder:"Enter sources",value:ke})]}),u.jsx("button",{onClick:V,className:"bg-black w-full md:w-[20%] mx-auto text-white font-semibold px-4 py-2 md:text-xl text-lg",children:"Update"}),u.jsx("div",{className:""})]})]}),u.jsx(Rr,{})]})},$4=({p:t})=>u.jsxs("div",{className:"w-full mt-2 pr-2",children:[u.jsx("div",{className:" h-56 pr-4  flex justify-center items-center",children:u.jsx("img",{src:t.introductionImage||"/bg3.png",alt:"",className:"h-full w-full object-cover"})}),u.jsxs("div",{className:"flex flex-col pr-4",children:[u.jsx("h1",{className:"text-xl font-bold md:mb-2 mb-1  md:text-2xl",children:t.title}),(t==null?void 0:t.category)==="Historical"&&u.jsx("p",{className:"text-yellow-500 text-xs font-semibold ",children:"#HISTORICAL"}),(t==null?void 0:t.category)==="Cultural"&&u.jsx("p",{className:"text-cyan-600 text-xs font-semibold ",children:"#CULTURAL"}),(t==null?void 0:t.category)==="Open"&&u.jsx("p",{className:"text-lime-600 text-xs font-semibold ",children:"#OPENCATEGORY"}),u.jsxs("div",{className:"flex mb-2 text-sm font-semibold text-gray-500 items-center justify-between md:mb-4",children:[u.jsxs("p",{children:["@",t.username]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("p",{children:new Date(t.updatedAt).toString().slice(0,15)}),u.jsx("p",{children:new Date(t.updatedAt).toString().slice(16,24)})]})]}),u.jsx("p",{className:"text-sm pb-8",children:t.desc.slice(0,200)+" ...Read more"})]})]}),B4=()=>{const t=dc().id,{user:e}=w.useContext(Mt);Mn();const[n,r]=w.useState([]),[s,i]=w.useState(""),[o,a]=w.useState(""),[l,c]=w.useState(!1),[d,h]=w.useState(""),[f,m]=w.useState(""),[p,y]=w.useState(""),[x,_]=w.useState(""),[g,v]=w.useState(""),[b,C]=w.useState(""),[R,I]=w.useState("");w.useState(!1);const P=async()=>{try{const A=await Ve.get("https://kjblog-production.up.railway.app:5000/api/posts/user/"+e._id);r(A.data)}catch(A){console.log(A)}},W=async()=>{try{i(e.username),a(e.email),c(e.isTeam),h(e.name),m(e.name1),y(e.name2),_(e.phone),v(e.regno),C(e.regno1),I(e.regno2)}catch{console.log(err)}};return w.useEffect(()=>{W()},[t]),w.useEffect(()=>{P()},[t]),u.jsxs("div",{children:[u.jsx(hs,{}),u.jsx("div",{className:"pb-16 "}),u.jsx("div",{className:"h-screen w-screen bg-black fixed z-[-2]"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 objec fixed z-[-1] opacity-80"}),u.jsx("img",{src:"/BG.jpeg",alt:"",className:"h-screen w-1/2 fixed z-[-1] right-0 opacity-80"}),u.jsxs("div",{className:"min-h-[80vh] md:mx-28 px-6 pt-8 flex md:flex-row flex-col-reverse md:items-start items-start bg-white",children:[u.jsxs("div",{className:"flex flex-col md:w-[70%] w-full mt-8 md:mt-0",children:[u.jsx("h1",{className:"text-xl font-bold mb-4",children:"Your posts:"}),n==null?void 0:n.map(A=>u.jsx($4,{p:A},A._id))]}),u.jsx("div",{className:"  flex justify-start md:justify-end items-start w-[30%] md:items-end pb-4",children:u.jsxs("div",{className:"flex flex-col space-y-2 items-start rounded-lg bg-blue-500/80 shadow-2xl ring-2 ring-blue-600/100 backdrop-blur-3xl py-2 text-white",children:[u.jsx("div",{className:"mx-auto ",children:u.jsx("img",{src:"/userAvatar.jpg",className:"rounded-full h-14 w-14 ",alt:""})}),u.jsxs("p",{className:"text-sm border-t-2 border-b-2 py-2 px-2 w-full",children:[u.jsx("strong",{children:"Username:"})," ",u.jsxs("span",{className:"font-medium",children:["@ ",s]})]}),u.jsxs("p",{className:"text-sm border-b-2 pb-2 px-2 w-full",children:[u.jsx("strong",{children:"Email:"})," ",o]}),l?u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-sm border-b-2 pb-2 px-2 w-full",children:[u.jsx("strong",{children:"Name 1:"})," ",f]}),u.jsxs("p",{className:"text-sm border-b-2 pb-2 px-2 w-full",children:[u.jsx("strong",{children:"Name 2:"})," ",p]}),u.jsxs("p",{className:"text-sm border-b-2 pb-2 px-2 w-full",children:[u.jsx("strong",{children:"Registration Number 1:"})," ",b]}),u.jsxs("p",{className:"text-sm border-b-2 pb-2 px-2 w-full",children:[u.jsx("strong",{children:"Registration Number 2:"})," ",R]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-sm border-b-2 pb-2 px-2 w-full",children:[u.jsx("strong",{children:"Name:"})," ",d]}),u.jsxs("p",{className:"text-sm border-b-2 pb-2 px-2 w-full",children:[u.jsx("strong",{children:"Registration Number:"})," ",g]})]}),u.jsxs("p",{className:"text-sm pt-2 px-2 w-full",children:[u.jsx("strong",{children:"Phone:"})," ",x]})]})})]}),u.jsx(Rr,{})]})},z4=()=>{const{search:t}=us(),[e,n]=w.useState([]),[r,s]=w.useState(!1),[i,o]=w.useState(!1),{user:a}=w.useContext(Mt),l=async()=>{o(!0);try{const c=await Ve.get("https://kjblog-production.up.railway.app:5000/api/posts/user/"+a._id);n(c.data),c.data.length===0?s(!0):s(!1),o(!1)}catch(c){console.log(c),o(!0)}};return w.useEffect(()=>{l()},[t]),u.jsxs("div",{children:[u.jsx(hs,{}),u.jsx("div",{className:"pb-16"}),u.jsx("div",{className:"px-8 md:px-40 min-h-[80vh]",children:i?u.jsx("div",{className:"h-[40vh] flex justify-center items-center",children:u.jsx(Ff,{})}):r?u.jsx("h3",{className:"text-center font-bold mt-16",children:"No posts available"}):e.map(c=>u.jsx(u.Fragment,{children:u.jsx(Ee,{to:a?`/posts/post/${c._id}`:"/login",children:u.jsx(Iv,{post:c})},c._id)}))}),u.jsx("div",{className:"w-screen h-screen bg-black fixed top-0 left-0 z-[-1] opacity-20"}),u.jsx("img",{src:"/bg2.jpeg",alt:"background",className:"w-screen h-full  fixed top-0 left-0 z-[-2]  opacity-100 "}),u.jsx(Rr,{})]})},H4=({children:t})=>{const[e,n]=w.useState(!1);return w.useEffect(()=>{const r=()=>{n(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e?u.jsxs("div",{className:"h-screen flex justify-center items-end  bg-black",children:[u.jsx("div",{className:" fixed top-10 flex justify-center items-center",children:u.jsx("img",{className:"h-full w-full  bg-no-repeat",src:"/loader.gif"})}),u.jsxs("div",{className:" m-4 p-2 rounded-lg bg-white/10 shadow-2xl ring-2 ring-black/5 backdrop-blur-xl ",children:[u.jsx("p",{className:"text-white text-xl font-medium mb-4 text-center ",children:"This site is best viewed on a desktop or laptop"}),u.jsx("p",{className:"text-white text-base text-center",children:"Please switch to a larger screen for the best experience"})]})]}):t},W4=[{category:"historical",title:"Historical ODISHA",image:"/historical1.jpg",description:"Odisha, known for its rich history and cultural heritage, boasts a plethora of historical sites that attract tourists from far and wide. From the ancient caves of Khandagiri and Udayagiri to the magnificent temples of Konark and Puri, every corner of Odisha is steeped in history. The state's capital, Bhubaneswar, is often referred to as the 'City of Temples' due to its numerous ancient temples dating back centuries. Odisha's history is also reflected in its vibrant art and crafts, which have been passed down through generations.",image2:"/historical2.jpg",description2:"In addition to its architectural marvels, Odisha is also home to several sites of archaeological importance, such as the Ratnagiri and Lalitgiri Buddhist complexes. These sites offer a glimpse into the state's rich Buddhist heritage. The history of Odisha is not just limited to its monuments and temples but also encompasses its rich maritime history, with ports like Paradip playing a significant role in trade and commerce."},{category:"cultural",title:"Cultural ODISHA",image:"/cultural1.jpg",description:"Odisha's cultural heritage is as diverse as it is rich, with influences from various dynasties and civilizations that have ruled the region over the centuries. The state is known for its vibrant dance forms, such as Odissi, which is considered one of the oldest surviving dance forms in India. Odisha's music, art, and literature also reflect its rich cultural heritage, with classical music forms like Odissi music and folk art forms like Pattachitra and Tala Patra painting thriving in the state.",image2:"/cultural2.jpg",description2:"The people of Odisha are known for their warm hospitality and rich traditions, which are evident in their festivals and rituals. Festivals like Durga Puja, Rath Yatra, and Raja Parba are celebrated with great fervor and enthusiasm, showcasing the state's cultural vibrancy. Odisha's cuisine is also a reflection of its cultural diversity, with dishes like Pakhala Bhata, Dalma, and Chhena Poda being popular among locals and tourists alike."},{category:"open",title:"Open Category",image:"/open1.jpg",description:"The 'Open Category' is a broad canvas for your creativity and intellect. It's a space where you can explore any topic, idea, or concept that sparks your interest. From personal anecdotes and thought-provoking opinions to educational content and creative writing, the possibilities are endless. This category encourages you to step outside the confines of specific themes and delve into the depths of your imagination and knowledge.",image2:"/open2.jpg",description2:"In the 'Open Category', you can write about your unique experiences, share your perspective on current events, or educate readers about a subject you're passionate about. You can also showcase your creativity through short stories, poems, or scripts. The 'Open Category' is all about freedom in writing, so don't hesitate to express your thoughts, share your ideas, and engage your readers in meaningful conversations."}],V4=()=>{let{cat:t}=dc();const e=W4.find(n=>n.category.toLowerCase()===t.toLowerCase());return e?u.jsxs("div",{children:[u.jsx(hs,{}),u.jsx("div",{className:"pb-16"}),u.jsx("h1",{className:"text-center uppercase font-bold text-3xl mb-8 mt-4 drop-shadow-xl text-transparent bg-clip-text bg-gradient-to-br from-violet-500 to-blue-300",children:e.title}),u.jsxs("div",{className:"flex gap-8 px-8",children:[u.jsx("div",{className:"w-1/2 h-56 shadow-xl",children:u.jsx("img",{className:"rounded-lg shadow-lg h-full w-full object-cover",src:e.image,alt:e.title})}),u.jsx("div",{className:"w-1/2",children:u.jsx("p",{className:" text-gray-700 font-medium",children:e.description})})]}),u.jsxs("div",{className:"flex gap-8 my-8 px-8",children:[u.jsx("div",{className:"w-1/2",children:u.jsx("p",{className:" text-gray-700 font-medium",children:e.description2})}),u.jsx("div",{className:"w-1/2 h-56 shadow-xl",children:u.jsx("img",{className:"rounded-lg shadow-lg h-full w-full object-cover",src:e.image2,alt:e.title})})]})]}):u.jsx("div",{children:"Category not found."})},G4=()=>u.jsx(H4,{children:u.jsxs(pk,{children:[u.jsx(sT,{}),u.jsxs(AS,{children:[u.jsx(en,{exact:!0,path:"/",element:u.jsx(iT,{})}),u.jsx(en,{exact:!0,path:"/login",element:u.jsx(oT,{})}),u.jsx(en,{exact:!0,path:"/register",element:u.jsx(aT,{})}),u.jsx(en,{exact:!0,path:"/write",element:u.jsx(U4,{})}),u.jsx(en,{exact:!0,path:"/posts/post/:id",element:u.jsx(uT,{})}),u.jsx(en,{exact:!0,path:"/edit/:id",element:u.jsx(F4,{})}),u.jsx(en,{exact:!0,path:"/myblogs/:id",element:u.jsx(z4,{})}),u.jsx(en,{exact:!0,path:"/profile/:id",element:u.jsx(B4,{})}),u.jsx(en,{path:"/category/:cat",element:u.jsx(V4,{})})]})]})});var q4="@vercel/analytics",K4="1.2.2",Q4=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function g1(){return typeof window<"u"}function _1(){try{const t="production"}catch{}return"production"}function J4(t="auto"){if(t==="auto"){window.vam=_1();return}window.vam=t}function Y4(){return(g1()?window.vam:_1())||"production"}function Ku(){return Y4()==="development"}var X4="https://va.vercel-scripts.com/v1/script.debug.js",Z4="/_vercel/insights/script.js";function eD(t={debug:!0}){var e;if(!g1())return;J4(t.mode),Q4(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const n=t.scriptSrc||(Ku()?X4:Z4);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=q4+(t.framework?`/${t.framework}`:""),r.dataset.sdkv=K4,t.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),t.endpoint&&(r.dataset.endpoint=t.endpoint),t.dsn&&(r.dataset.dsn=t.dsn),r.onerror=()=>{const s=Ku()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${s}`)},Ku()&&t.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}function tD({route:t,path:e}){var n;(n=window.va)==null||n.call(window,"pageview",{route:t,path:e})}function nD(t){return w.useEffect(()=>{eD({framework:t.framework||"react",...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),w.useEffect(()=>{t.route&&t.path&&tD({route:t.route,path:t.path})},[t.route,t.path]),null}Qu.createRoot(document.getElementById("root")).render(u.jsxs($S,{children:[u.jsx(G4,{}),u.jsx(nD,{})]}));export{v1 as g};
